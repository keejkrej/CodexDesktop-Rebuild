"use strict";var o2=Object.create;var Ry=Object.defineProperty;var a2=Object.getOwnPropertyDescriptor;var c2=Object.getOwnPropertyNames;var u2=Object.getPrototypeOf,l2=Object.prototype.hasOwnProperty;var p2=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of c2(e))!l2.call(t,i)&&i!==n&&Ry(t,i,{get:()=>e[i],enumerable:!(r=a2(e,i))||r.enumerable});return t};var Zo=(t,e,n)=>(n=t!=null?o2(u2(t)):{},p2(e||!t||!t.__esModule?Ry(n,"default",{value:t,enumerable:!0}):n,t));const Y=require("node:fs"),B=require("node:path"),Ac=require("node:url"),R=require("electron"),Ve=require("path"),Re=require("node:os"),Ps=require("events"),Dc=require("child_process"),Ht=require("node:child_process"),Iy=require("node:string_decoder"),Rc=require("net"),k_=require("buffer"),jn=require("stream"),ep=require("http"),P_=require("https"),_N=require("tty"),Es=require("util"),Ic=require("os"),d2=require("dns"),vN=require("tls"),Ui=require("url"),pc=require("crypto"),EN=require("zlib"),Qe=require("fs"),Ke=require("node:crypto"),Qa=require("node:buffer"),Pt=require("node:process"),f2=require("assert"),Pr=require("node:util"),m2=require("node:net"),Vn=require("node:fs/promises"),SN=require("node:zlib"),bN=require("fs/promises"),h2=require("node:diagnostics_channel"),Tg=require("worker_threads"),g2=require("perf_hooks"),TN=require("async_hooks"),yN=require("diagnostics_channel"),xN=require("module"),_2=require("node:readline"),M_=require("node:worker_threads"),Cy=require("node:perf_hooks");var ms=typeof document<"u"?document.currentScript:null;function fr(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const sl=fr(Y),ec=fr(B),tu=fr(R),gi=fr(Ve),kt=fr(Re),rd=fr(Ui),yg=fr(m2),Oy=fr(h2),id=fr(yN),v2="CODEX_SHELL",L_={APPEARANCE_THEME:"appearanceTheme",OPAQUE_WINDOWS:"opaqueWindows"},wN=Object.freeze({status:"aborted"});function P(t,e,n){function r(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);const u=o.prototype,l=Object.keys(u);for(let p=0;p<l.length;p++){const d=l[p];d in a||(a[d]=u[d].bind(a))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(a){var c;const u=n?.Parent?new s:this;r(u,a),(c=u._zod).deferred??(c.deferred=[]);for(const l of u._zod.deferred)l();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}const AN=Symbol("zod_brand");class Ti extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class tp extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const ol={};function Ot(t){return t&&Object.assign(ol,t),ol}function E2(t){return t}function S2(t){return t}function b2(t){}function T2(t){throw new Error}function y2(t){}function U_(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function ee(t,e="|"){return t.map(n=>me(n)).join(e)}function al(t,e){return typeof e=="bigint"?e.toString():e}function Cc(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Fi(t){return t==null}function np(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function DN(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return o%a/10**s}const Ny=Symbol("evaluating");function Te(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Ny)return r===void 0&&(r=Ny,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function x2(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Mr(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function mr(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function w2(t){return mr(t._zod.def)}function A2(t,e){return e?e.reduce((n,r)=>n?.[r],t):t}function D2(t){const e=Object.keys(t),n=e.map(r=>t[r]);return Promise.all(n).then(r=>{const i={};for(let s=0;s<e.length;s++)i[e[s]]=r[s];return i})}function R2(t=10){const e="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function xg(t){return JSON.stringify(t)}function RN(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const F_="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ss(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const IN=Cc(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ai(t){if(Ss(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Ss(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function rp(t){return Ai(t)?{...t}:Array.isArray(t)?[...t]:t}function I2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}const C2=t=>{const e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},cl=new Set(["string","number","symbol"]),CN=new Set(["string","number","bigint","boolean","symbol","undefined"]);function cr(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tn(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function K(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function O2(t){let e;return new Proxy({},{get(n,r,i){return e??(e=t()),Reflect.get(e,r,i)},set(n,r,i,s){return e??(e=t()),Reflect.set(e,r,i,s)},has(n,r){return e??(e=t()),Reflect.has(e,r)},deleteProperty(n,r){return e??(e=t()),Reflect.deleteProperty(e,r)},ownKeys(n){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(n,r){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,r)},defineProperty(n,r,i){return e??(e=t()),Reflect.defineProperty(e,r,i)}})}function me(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function ON(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const NN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},kN={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function PN(t,e){const n=t._zod.def,r=mr(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return Mr(this,"shape",i),i},checks:[]});return tn(t,r)}function MN(t,e){const n=t._zod.def,r=mr(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return Mr(this,"shape",i),i},checks:[]});return tn(t,r)}function LN(t,e){if(!Ai(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=mr(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return Mr(this,"shape",s),s},checks:[]});return tn(t,i)}function UN(t,e){if(!Ai(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return Mr(this,"shape",r),r},checks:t._zod.def.checks};return tn(t,n)}function FN(t,e){const n=mr(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Mr(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return tn(t,n)}function $N(t,e,n){const r=mr(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=t?new t({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=t?new t({type:"optional",innerType:i[o]}):i[o];return Mr(this,"shape",s),s},checks:[]});return tn(e,r)}function BN(t,e,n){const r=mr(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return Mr(this,"shape",s),s},checks:[]});return tn(e,r)}function Si(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function gn(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Ya(t){return typeof t=="string"?t:t?.message}function Sn(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=Ya(t.inst?._zod.def?.error?.(t))??Ya(e?.error?.(t))??Ya(n.customError?.(t))??Ya(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function ip(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function sp(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function bs(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}function N2(t){return Object.entries(t).filter(([e,n])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function jN(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function VN(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function k2(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-e.length%4)%4);return jN(e+n)}function P2(t){return VN(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function M2(t){const e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");const n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r/2]=Number.parseInt(e.slice(r,r+2),16);return n}function L2(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}class U2{constructor(...e){}}const zN=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:kN,Class:U2,NUMBER_FORMAT_RANGES:NN,aborted:Si,allowsEval:IN,assert:y2,assertEqual:E2,assertIs:b2,assertNever:T2,assertNotEqual:S2,assignProp:Mr,base64ToUint8Array:jN,base64urlToUint8Array:k2,cached:Cc,captureStackTrace:F_,cleanEnum:N2,cleanRegex:np,clone:tn,cloneDef:w2,createTransparentProxy:O2,defineLazy:Te,esc:xg,escapeRegex:cr,extend:LN,finalizeIssue:Sn,floatSafeRemainder:DN,getElementAtPath:A2,getEnumValues:U_,getLengthableOrigin:sp,getParsedType:C2,getSizableOrigin:ip,hexToUint8Array:M2,isObject:Ss,isPlainObject:Ai,issue:bs,joinValues:ee,jsonStringifyReplacer:al,merge:FN,mergeDefs:mr,normalizeParams:K,nullish:Fi,numKeys:I2,objectClone:x2,omit:MN,optionalKeys:ON,partial:$N,pick:PN,prefixIssues:gn,primitiveTypes:CN,promiseAllObject:D2,propertyKeyTypes:cl,randomString:R2,required:BN,safeExtend:UN,shallowClone:rp,slugify:RN,stringifyPrimitive:me,uint8ArrayToBase64:VN,uint8ArrayToBase64url:P2,uint8ArrayToHex:L2,unwrapMessage:Ya},Symbol.toStringTag,{value:"Module"})),GN=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,al,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},$_=P("$ZodError",GN),Wt=P("$ZodError",GN,{Parent:Error});function B_(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function j_(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let o=n,a=0;for(;a<s.path.length;){const c=s.path[a];a===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(s))):o[c]=o[c]||{_errors:[]},o=o[c],a++}}};return r(t),n}function qN(t,e=n=>n.message){const n={errors:[]},r=(i,s=[])=>{var o,a;for(const c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>r({issues:u},c.path));else if(c.code==="invalid_key")r({issues:c.issues},c.path);else if(c.code==="invalid_element")r({issues:c.issues},c.path);else{const u=[...s,...c.path];if(u.length===0){n.errors.push(e(c));continue}let l=n,p=0;for(;p<u.length;){const d=u[p],f=p===u.length-1;typeof d=="string"?(l.properties??(l.properties={}),(o=l.properties)[d]??(o[d]={errors:[]}),l=l.properties[d]):(l.items??(l.items=[]),(a=l.items)[d]??(a[d]={errors:[]}),l=l.items[d]),f&&l.errors.push(e(c)),p++}}};return r(t),n}function HN(t){const e=[],n=t.map(r=>typeof r=="object"?r.key:r);for(const r of n)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function WN(t){const e=[],n=[...t.issues].sort((r,i)=>(r.path??[]).length-(i.path??[]).length);for(const r of n)e.push(`✖ ${r.message}`),r.path?.length&&e.push(`  → at ${HN(r.path)}`);return e.join(`
`)}const Oc=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Ti;if(o.issues.length){const a=new(i?.Err??t)(o.issues.map(c=>Sn(c,s,Ot())));throw F_(a,i?.callee),a}return o.value},wg=Oc(Wt),Nc=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(i?.Err??t)(o.issues.map(c=>Sn(c,s,Ot())));throw F_(a,i?.callee),a}return o.value},Ag=Nc(Wt),kc=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Ti;return s.issues.length?{success:!1,error:new(t??$_)(s.issues.map(o=>Sn(o,i,Ot())))}:{success:!0,data:s.value}},YN=kc(Wt),Pc=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>Sn(o,i,Ot())))}:{success:!0,data:s.value}},KN=Pc(Wt),V_=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Oc(t)(e,n,i)},F2=V_(Wt),z_=t=>(e,n,r)=>Oc(t)(e,n,r),$2=z_(Wt),G_=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nc(t)(e,n,i)},B2=G_(Wt),q_=t=>async(e,n,r)=>Nc(t)(e,n,r),j2=q_(Wt),H_=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kc(t)(e,n,i)},V2=H_(Wt),W_=t=>(e,n,r)=>kc(t)(e,n,r),z2=W_(Wt),Y_=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pc(t)(e,n,i)},G2=Y_(Wt),K_=t=>async(e,n,r)=>Pc(t)(e,n,r),q2=K_(Wt),ZN=/^[cC][^\s-]{8,}$/,XN=/^[0-9a-z]+$/,JN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,QN=/^[0-9a-vA-V]{20}$/,ek=/^[A-Za-z0-9]{27}$/,tk=/^[a-zA-Z0-9_-]{21}$/,nk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,H2=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ts=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,W2=Ts(4),Y2=Ts(6),K2=Ts(7),ik=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Z2=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,X2=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,sk=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,J2=sk,Q2=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ok(){return new RegExp(eV,"u")}const ak=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ck=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,uk=t=>{const e=cr(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},lk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,pk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Z_=/^[A-Za-z0-9_-]*$/,fk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,mk=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,hk=/^\+(?:[0-9]){6,14}[0-9]$/,gk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",_k=new RegExp(`^${gk}$`);function vk(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ek(t){return new RegExp(`^${vk(t)}$`)}function Sk(t){const e=vk({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${gk}T(?:${r})$`)}const bk=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Tk=/^-?\d+n?$/,yk=/^-?\d+$/,xk=/^-?\d+(?:\.\d+)?/,wk=/^(?:true|false)$/i,Ak=/^null$/i,Dk=/^undefined$/i,Rk=/^[^A-Z]*$/,Ik=/^[^a-z]*$/,Ck=/^[0-9a-fA-F]*$/;function Mc(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function Lc(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}const tV=/^[0-9a-fA-F]{32}$/,nV=Mc(22,"=="),rV=Lc(22),iV=/^[0-9a-fA-F]{40}$/,sV=Mc(27,"="),oV=Lc(27),aV=/^[0-9a-fA-F]{64}$/,cV=Mc(43,"="),uV=Lc(43),lV=/^[0-9a-fA-F]{96}$/,pV=Mc(64,""),dV=Lc(64),fV=/^[0-9a-fA-F]{128}$/,mV=Mc(86,"=="),hV=Lc(86),X_=Object.freeze(Object.defineProperty({__proto__:null,base64:dk,base64url:Z_,bigint:Tk,boolean:wk,browserEmail:Q2,cidrv4:lk,cidrv6:pk,cuid:ZN,cuid2:XN,date:_k,datetime:Sk,domain:mk,duration:nk,e164:hk,email:ik,emoji:ok,extendedDuration:H2,guid:rk,hex:Ck,hostname:fk,html5Email:Z2,idnEmail:J2,integer:yk,ipv4:ak,ipv6:ck,ksuid:ek,lowercase:Rk,mac:uk,md5_base64:nV,md5_base64url:rV,md5_hex:tV,nanoid:tk,null:Ak,number:xk,rfc5322Email:X2,sha1_base64:sV,sha1_base64url:oV,sha1_hex:iV,sha256_base64:cV,sha256_base64url:uV,sha256_hex:aV,sha384_base64:pV,sha384_base64url:dV,sha384_hex:lV,sha512_base64:mV,sha512_base64url:hV,sha512_hex:fV,string:bk,time:Ek,ulid:JN,undefined:Dk,unicodeEmail:sk,uppercase:Ik,uuid:Ts,uuid4:W2,uuid6:Y2,uuid7:K2,xid:QN},Symbol.toStringTag,{value:"Module"})),Ze=P("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Ok={number:"number",bigint:"bigint",object:"date"},J_=P("$ZodCheckLessThan",(t,e)=>{Ze.init(t,e);const n=Ok[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Q_=P("$ZodCheckGreaterThan",(t,e)=>{Ze.init(t,e);const n=Ok[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Nk=P("$ZodCheckMultipleOf",(t,e)=>{Ze.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):DN(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),kk=P("$ZodCheckNumberFormat",(t,e)=>{Ze.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=NN[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=i,a.maximum=s,n&&(a.pattern=yk)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<i&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>s&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:t})}}),Pk=P("$ZodCheckBigIntFormat",(t,e)=>{Ze.init(t,e);const[n,r]=kN[e.format];t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,s.minimum=n,s.maximum=r}),t._zod.check=i=>{const s=i.value;s<n&&i.issues.push({origin:"bigint",input:s,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),s>r&&i.issues.push({origin:"bigint",input:s,code:"too_big",maximum:r,inst:t})}}),Mk=P("$ZodCheckMaxSize",(t,e)=>{var n;Ze.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Fi(i)&&i.size!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;i.size<=e.maximum||r.issues.push({origin:ip(i),code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Lk=P("$ZodCheckMinSize",(t,e)=>{var n;Ze.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Fi(i)&&i.size!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;i.size>=e.minimum||r.issues.push({origin:ip(i),code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Uk=P("$ZodCheckSizeEquals",(t,e)=>{var n;Ze.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Fi(i)&&i.size!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.size,i.maximum=e.size,i.size=e.size}),t._zod.check=r=>{const i=r.value,s=i.size;if(s===e.size)return;const o=s>e.size;r.issues.push({origin:ip(i),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Fk=P("$ZodCheckMaxLength",(t,e)=>{var n;Ze.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Fi(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=sp(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),$k=P("$ZodCheckMinLength",(t,e)=>{var n;Ze.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Fi(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=sp(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Bk=P("$ZodCheckLengthEquals",(t,e)=>{var n;Ze.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Fi(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=sp(i),a=s>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Uc=P("$ZodCheckStringFormat",(t,e)=>{var n,r;Ze.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),jk=P("$ZodCheckRegex",(t,e)=>{Uc.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Vk=P("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Rk),Uc.init(t,e)}),zk=P("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Ik),Uc.init(t,e)}),Gk=P("$ZodCheckIncludes",(t,e)=>{Ze.init(t,e);const n=cr(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),qk=P("$ZodCheckStartsWith",(t,e)=>{Ze.init(t,e);const n=new RegExp(`^${cr(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),Hk=P("$ZodCheckEndsWith",(t,e)=>{Ze.init(t,e);const n=new RegExp(`.*${cr(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}});function ky(t,e,n){t.issues.length&&e.issues.push(...gn(n,t.issues))}const Wk=P("$ZodCheckProperty",(t,e)=>{Ze.init(t,e),t._zod.check=n=>{const r=e.schema._zod.run({value:n.value[e.property],issues:[]},{});if(r instanceof Promise)return r.then(i=>ky(i,n,e.property));ky(r,n,e.property)}}),Yk=P("$ZodCheckMimeType",(t,e)=>{Ze.init(t,e);const n=new Set(e.mime);t._zod.onattach.push(r=>{r._zod.bag.mime=e.mime}),t._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:e.mime,input:r.value.type,inst:t,continue:!e.abort})}}),Kk=P("$ZodCheckOverwrite",(t,e)=>{Ze.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Zk{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const Xk={major:4,minor:1,patch:13},he=P("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Xk;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(o,a,c)=>{let u=Si(o),l;for(const p of a){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(u)continue;const d=o.issues.length,f=p._zod.check(o);if(f instanceof Promise&&c?.async===!1)throw new Ti;if(l||f instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await f,o.issues.length!==d&&(u||(u=Si(o,d)))});else{if(o.issues.length===d)continue;u||(u=Si(o,d))}}return l?l.then(()=>o):o},s=(o,a,c)=>{if(Si(o))return o.aborted=!0,o;const u=i(a,r,c);if(u instanceof Promise){if(c.async===!1)throw new Ti;return u.then(l=>t._zod.parse(l,c))}return t._zod.parse(u,c)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const u=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(l=>s(l,o,a)):s(u,o,a)}const c=t._zod.parse(o,a);if(c instanceof Promise){if(a.async===!1)throw new Ti;return c.then(u=>i(u,r,a))}return i(c,r,a)}}t["~standard"]={validate:i=>{try{const s=YN(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return KN(t,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Fc=P("$ZodString",(t,e)=>{he.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??bk(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),ze=P("$ZodStringFormat",(t,e)=>{Uc.init(t,e),Fc.init(t,e)}),Jk=P("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=rk),ze.init(t,e)}),Qk=P("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Ts(r))}else e.pattern??(e.pattern=Ts());ze.init(t,e)}),eP=P("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=ik),ze.init(t,e)}),tP=P("$ZodURL",(t,e)=>{ze.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),nP=P("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=ok()),ze.init(t,e)}),rP=P("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=tk),ze.init(t,e)}),iP=P("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=ZN),ze.init(t,e)}),sP=P("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=XN),ze.init(t,e)}),oP=P("$ZodULID",(t,e)=>{e.pattern??(e.pattern=JN),ze.init(t,e)}),aP=P("$ZodXID",(t,e)=>{e.pattern??(e.pattern=QN),ze.init(t,e)}),cP=P("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=ek),ze.init(t,e)}),uP=P("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Sk(e)),ze.init(t,e)}),lP=P("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=_k),ze.init(t,e)}),pP=P("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Ek(e)),ze.init(t,e)}),dP=P("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=nk),ze.init(t,e)}),fP=P("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=ak),ze.init(t,e),t._zod.bag.format="ipv4"}),mP=P("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=ck),ze.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),hP=P("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=uk(e.delimiter)),ze.init(t,e),t._zod.bag.format="mac"}),gP=P("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=lk),ze.init(t,e)}),_P=P("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=pk),ze.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function ev(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const vP=P("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=dk),ze.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{ev(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function EP(t){if(!Z_.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return ev(n)}const SP=P("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Z_),ze.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{EP(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),bP=P("$ZodE164",(t,e)=>{e.pattern??(e.pattern=hk),ze.init(t,e)});function TP(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const yP=P("$ZodJWT",(t,e)=>{ze.init(t,e),t._zod.check=n=>{TP(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),xP=P("$ZodCustomStringFormat",(t,e)=>{ze.init(t,e),t._zod.check=n=>{e.fn(n.value)||n.issues.push({code:"invalid_format",format:e.format,input:n.value,inst:t,continue:!e.abort})}}),tv=P("$ZodNumber",(t,e)=>{he.init(t,e),t._zod.pattern=t._zod.bag.pattern??xk,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),wP=P("$ZodNumberFormat",(t,e)=>{kk.init(t,e),tv.init(t,e)}),nv=P("$ZodBoolean",(t,e)=>{he.init(t,e),t._zod.pattern=wk,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),rv=P("$ZodBigInt",(t,e)=>{he.init(t,e),t._zod.pattern=Tk,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:t}),n}}),AP=P("$ZodBigIntFormat",(t,e)=>{Pk.init(t,e),rv.init(t,e)}),DP=P("$ZodSymbol",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;return typeof i=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),n}}),RP=P("$ZodUndefined",(t,e)=>{he.init(t,e),t._zod.pattern=Dk,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,r)=>{const i=n.value;return typeof i>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),n}}),IP=P("$ZodNull",(t,e)=>{he.init(t,e),t._zod.pattern=Ak,t._zod.values=new Set([null]),t._zod.parse=(n,r)=>{const i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),n}}),CP=P("$ZodAny",(t,e)=>{he.init(t,e),t._zod.parse=n=>n}),OP=P("$ZodUnknown",(t,e)=>{he.init(t,e),t._zod.parse=n=>n}),NP=P("$ZodNever",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),kP=P("$ZodVoid",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;return typeof i>"u"||n.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),n}}),PP=P("$ZodDate",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:t}),n}});function Py(t,e,n){t.issues.length&&e.issues.push(...gn(n,t.issues)),e.value[n]=t.value}const MP=P("$ZodArray",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const a=i[o],c=e.element._zod.run({value:a,issues:[]},r);c instanceof Promise?s.push(c.then(u=>Py(u,n,o))):Py(c,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function ul(t,e,n,r){t.issues.length&&e.issues.push(...gn(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function LP(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=ON(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function UP(t,e,n,r,i,s){const o=[],a=i.keySet,c=i.catchall._zod,u=c.def.type;for(const l in e){if(a.has(l))continue;if(u==="never"){o.push(l);continue}const p=c.run({value:e[l],issues:[]},r);p instanceof Promise?t.push(p.then(d=>ul(d,n,l,e))):ul(p,n,l,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const FP=P("$ZodObject",(t,e)=>{if(he.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const a=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}const r=Cc(()=>LP(e));Te(t._zod,"propValues",()=>{const a=e.shape,c={};for(const u in a){const l=a[u]._zod;if(l.values){c[u]??(c[u]=new Set);for(const p of l.values)c[u].add(p)}}return c});const i=Ss,s=e.catchall;let o;t._zod.parse=(a,c)=>{o??(o=r.value);const u=a.value;if(!i(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),a;a.value={};const l=[],p=o.shape;for(const d of o.keys){const m=p[d]._zod.run({value:u[d],issues:[]},c);m instanceof Promise?l.push(m.then(h=>ul(h,a,d,u))):ul(m,a,d,u)}return s?UP(l,u,a,c,r.value,t):l.length?Promise.all(l).then(()=>a):a}}),$P=P("$ZodObjectJIT",(t,e)=>{FP.init(t,e);const n=t._zod.parse,r=Cc(()=>LP(e)),i=d=>{const f=new Zk(["shape","payload","ctx"]),m=r.value,h=v=>{const T=xg(v);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};f.write("const input = payload.value;");const g=Object.create(null);let _=0;for(const v of m.keys)g[v]=`key_${_++}`;f.write("const newResult = {};");for(const v of m.keys){const T=g[v],y=xg(v);f.write(`const ${T} = ${h(v)};`),f.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${y}, ...iss.path] : [${y}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${y} in input) {
            newResult[${y}] = undefined;
          }
        } else {
          newResult[${y}] = ${T}.value;
        }
        
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const S=f.compile();return(v,T)=>S(d,v,T)};let s;const o=Ss,a=!ol.jitless,u=a&&IN.value,l=e.catchall;let p;t._zod.parse=(d,f)=>{p??(p=r.value);const m=d.value;return o(m)?a&&u&&f?.async===!1&&f.jitless!==!0?(s||(s=i(e.shape)),d=s(d,f),l?UP([],m,d,f,p,t):d):n(d,f):(d.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),d)}});function My(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Si(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>Sn(o,r,Ot())))}),e)}const iv=P("$ZodUnion",(t,e)=>{he.init(t,e),Te(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Te(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Te(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Te(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>np(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const a=[];for(const c of e.options){const u=c._zod.run({value:i.value,issues:[]},s);if(u instanceof Promise)a.push(u),o=!0;else{if(u.issues.length===0)return u;a.push(u)}}return o?Promise.all(a).then(c=>My(c,i,t,s)):My(a,i,t,s)}}),BP=P("$ZodDiscriminatedUnion",(t,e)=>{iv.init(t,e);const n=t._zod.parse;Te(t._zod,"propValues",()=>{const i={};for(const s of e.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(const[a,c]of Object.entries(o)){i[a]||(i[a]=new Set);for(const u of c)i[a].add(u)}}return i});const r=Cc(()=>{const i=e.options,s=new Map;for(const o of i){const a=o._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(const c of a){if(s.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);s.set(c,o)}}return s});t._zod.parse=(i,s)=>{const o=i.value;if(!Ss(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),i;const a=r.value.get(o?.[e.discriminator]);return a?a._zod.run(i,s):e.unionFallback?n(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),i)}}),jP=P("$ZodIntersection",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([c,u])=>Ly(n,c,u)):Ly(n,s,o)}});function Dg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ai(t)&&Ai(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=Dg(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=Dg(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ly(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Si(t))return t;const r=Dg(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const sv=P("$ZodTuple",(t,e)=>{he.init(t,e);const n=e.items;t._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:t,expected:"tuple",code:"invalid_type"}),r;r.value=[];const o=[],a=[...n].reverse().findIndex(l=>l._zod.optin!=="optional"),c=a===-1?0:n.length-a;if(!e.rest){const l=s.length>n.length,p=s.length<c-1;if(l||p)return r.issues.push({...l?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:s,inst:t,origin:"array"}),r}let u=-1;for(const l of n){if(u++,u>=s.length&&u>=c)continue;const p=l._zod.run({value:s[u],issues:[]},i);p instanceof Promise?o.push(p.then(d=>nu(d,r,u))):nu(p,r,u)}if(e.rest){const l=s.slice(n.length);for(const p of l){u++;const d=e.rest._zod.run({value:p,issues:[]},i);d instanceof Promise?o.push(d.then(f=>nu(f,r,u))):nu(d,r,u)}}return o.length?Promise.all(o).then(()=>r):r}});function nu(t,e,n){t.issues.length&&e.issues.push(...gn(n,t.issues)),e.value[n]=t.value}const VP=P("$ZodRecord",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Ai(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[],o=e.keyType._zod.values;if(o){n.value={};const a=new Set;for(const u of o)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){a.add(typeof u=="number"?u.toString():u);const l=e.valueType._zod.run({value:i[u],issues:[]},r);l instanceof Promise?s.push(l.then(p=>{p.issues.length&&n.issues.push(...gn(u,p.issues)),n.value[u]=p.value})):(l.issues.length&&n.issues.push(...gn(u,l.issues)),n.value[u]=l.value)}let c;for(const u in i)a.has(u)||(c=c??[],c.push(u));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:c})}else{n.value={};for(const a of Reflect.ownKeys(i)){if(a==="__proto__")continue;const c=e.keyType._zod.run({value:a,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(l=>Sn(l,r,Ot())),input:a,path:[a],inst:t}),n.value[c.value]=c.value;continue}const u=e.valueType._zod.run({value:i[a],issues:[]},r);u instanceof Promise?s.push(u.then(l=>{l.issues.length&&n.issues.push(...gn(a,l.issues)),n.value[c.value]=l.value})):(u.issues.length&&n.issues.push(...gn(a,u.issues)),n.value[c.value]=u.value)}}return s.length?Promise.all(s).then(()=>n):n}}),zP=P("$ZodMap",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),n;const s=[];n.value=new Map;for(const[o,a]of i){const c=e.keyType._zod.run({value:o,issues:[]},r),u=e.valueType._zod.run({value:a,issues:[]},r);c instanceof Promise||u instanceof Promise?s.push(Promise.all([c,u]).then(([l,p])=>{Uy(l,p,n,o,i,t,r)})):Uy(c,u,n,o,i,t,r)}return s.length?Promise.all(s).then(()=>n):n}});function Uy(t,e,n,r,i,s,o){t.issues.length&&(cl.has(typeof r)?n.issues.push(...gn(r,t.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:t.issues.map(a=>Sn(a,o,Ot()))})),e.issues.length&&(cl.has(typeof r)?n.issues.push(...gn(r,e.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:r,issues:e.issues.map(a=>Sn(a,o,Ot()))})),n.value.set(t.value,e.value)}const GP=P("$ZodSet",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),n;const s=[];n.value=new Set;for(const o of i){const a=e.valueType._zod.run({value:o,issues:[]},r);a instanceof Promise?s.push(a.then(c=>Fy(c,n))):Fy(a,n)}return s.length?Promise.all(s).then(()=>n):n}});function Fy(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}const qP=P("$ZodEnum",(t,e)=>{he.init(t,e);const n=U_(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>cl.has(typeof i)).map(i=>typeof i=="string"?cr(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),HP=P("$ZodLiteral",(t,e)=>{if(he.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?cr(r):r?cr(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),r}}),WP=P("$ZodFile",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;return i instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),n}}),YP=P("$ZodTransform",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new tp(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Ti;return n.value=i,n}});function $y(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const KP=P("$ZodOptional",(t,e)=>{he.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Te(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Te(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${np(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>$y(s,n.value)):$y(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),ZP=P("$ZodNullable",(t,e)=>{he.init(t,e),Te(t._zod,"optin",()=>e.innerType._zod.optin),Te(t._zod,"optout",()=>e.innerType._zod.optout),Te(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${np(n.source)}|null)$`):void 0}),Te(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),XP=P("$ZodDefault",(t,e)=>{he.init(t,e),t._zod.optin="optional",Te(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>By(s,e)):By(i,e)}});function By(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const JP=P("$ZodPrefault",(t,e)=>{he.init(t,e),t._zod.optin="optional",Te(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),QP=P("$ZodNonOptional",(t,e)=>{he.init(t,e),Te(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>jy(s,t)):jy(i,t)}});function jy(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const eM=P("$ZodSuccess",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new tp("ZodSuccess");const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.issues.length===0,n)):(n.value=i.issues.length===0,n)}}),tM=P("$ZodCatch",(t,e)=>{he.init(t,e),Te(t._zod,"optin",()=>e.innerType._zod.optin),Te(t._zod,"optout",()=>e.innerType._zod.optout),Te(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>Sn(o,r,Ot()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>Sn(s,r,Ot()))},input:n.value}),n.issues=[]),n)}}),nM=P("$ZodNaN",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:t,expected:"nan",code:"invalid_type"}),n)}),rM=P("$ZodPipe",(t,e)=>{he.init(t,e),Te(t._zod,"values",()=>e.in._zod.values),Te(t._zod,"optin",()=>e.in._zod.optin),Te(t._zod,"optout",()=>e.out._zod.optout),Te(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>ru(o,e.in,r)):ru(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>ru(s,e.out,r)):ru(i,e.out,r)}});function ru(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const ov=P("$ZodCodec",(t,e)=>{he.init(t,e),Te(t._zod,"values",()=>e.in._zod.values),Te(t._zod,"optin",()=>e.in._zod.optin),Te(t._zod,"optout",()=>e.out._zod.optout),Te(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if((r.direction||"forward")==="forward"){const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(o=>iu(o,e,r)):iu(s,e,r)}else{const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>iu(o,e,r)):iu(s,e,r)}}});function iu(t,e,n){if(t.issues.length)return t.aborted=!0,t;if((n.direction||"forward")==="forward"){const i=e.transform(t.value,t);return i instanceof Promise?i.then(s=>su(t,s,e.out,n)):su(t,i,e.out,n)}else{const i=e.reverseTransform(t.value,t);return i instanceof Promise?i.then(s=>su(t,s,e.in,n)):su(t,i,e.in,n)}}function su(t,e,n,r){return t.issues.length?(t.aborted=!0,t):n._zod.run({value:e,issues:t.issues},r)}const iM=P("$ZodReadonly",(t,e)=>{he.init(t,e),Te(t._zod,"propValues",()=>e.innerType._zod.propValues),Te(t._zod,"values",()=>e.innerType._zod.values),Te(t._zod,"optin",()=>e.innerType?._zod?.optin),Te(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(Vy):Vy(i)}});function Vy(t){return t.value=Object.freeze(t.value),t}const sM=P("$ZodTemplateLiteral",(t,e)=>{he.init(t,e);const n=[];for(const r of e.parts)if(typeof r=="object"&&r!==null){if(!r._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...r._zod.traits].shift()}`);const i=r._zod.pattern instanceof RegExp?r._zod.pattern.source:r._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${r._zod.traits}`);const s=i.startsWith("^")?1:0,o=i.endsWith("$")?i.length-1:i.length;n.push(i.slice(s,o))}else if(r===null||CN.has(typeof r))n.push(cr(`${r}`));else throw new Error(`Invalid template literal part: ${r}`);t._zod.pattern=new RegExp(`^${n.join("")}$`),t._zod.parse=(r,i)=>typeof r.value!="string"?(r.issues.push({input:r.value,inst:t,expected:"template_literal",code:"invalid_type"}),r):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),r)}),oM=P("$ZodFunction",(t,e)=>(he.init(t,e),t._def=e,t._zod.def=e,t.implement=n=>{if(typeof n!="function")throw new Error("implement() must be called with a function");return function(...r){const i=t._def.input?wg(t._def.input,r):r,s=Reflect.apply(n,this,i);return t._def.output?wg(t._def.output,s):s}},t.implementAsync=n=>{if(typeof n!="function")throw new Error("implementAsync() must be called with a function");return async function(...r){const i=t._def.input?await Ag(t._def.input,r):r,s=await Reflect.apply(n,this,i);return t._def.output?await Ag(t._def.output,s):s}},t._zod.parse=(n,r)=>typeof n.value!="function"?(n.issues.push({code:"invalid_type",expected:"function",input:n.value,inst:t}),n):(t._def.output&&t._def.output._zod.def.type==="promise"?n.value=t.implementAsync(n.value):n.value=t.implement(n.value),n),t.input=(...n)=>{const r=t.constructor;return Array.isArray(n[0])?new r({type:"function",input:new sv({type:"tuple",items:n[0],rest:n[1]}),output:t._def.output}):new r({type:"function",input:n[0],output:t._def.output})},t.output=n=>{const r=t.constructor;return new r({type:"function",input:t._def.input,output:n})},t)),aM=P("$ZodPromise",(t,e)=>{he.init(t,e),t._zod.parse=(n,r)=>Promise.resolve(n.value).then(i=>e.innerType._zod.run({value:i,issues:[]},r))}),cM=P("$ZodLazy",(t,e)=>{he.init(t,e),Te(t._zod,"innerType",()=>e.getter()),Te(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),Te(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),Te(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),Te(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),uM=P("$ZodCustom",(t,e)=>{Ze.init(t,e),he.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>zy(s,n,r,t));zy(i,n,r,t)}});function zy(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(bs(i))}}const gV=()=>{const t={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return i=>{switch(i.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${i.expected}، ولكن تم إدخال ${n(i.input)}`;case"invalid_value":return i.values.length===1?`مدخلات غير مقبولة: يفترض إدخال ${me(i.values[0])}`:`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?` أكبر من اللازم: يفترض أن تكون ${i.origin??"القيمة"} ${s} ${i.maximum.toString()} ${o.unit??"عنصر"}`:`أكبر من اللازم: يفترض أن تكون ${i.origin??"القيمة"} ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`أصغر من اللازم: يفترض لـ ${i.origin} أن يكون ${s} ${i.minimum.toString()} ${o.unit}`:`أصغر من اللازم: يفترض لـ ${i.origin} أن يكون ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`نَص غير مقبول: يجب أن يبدأ بـ "${i.prefix}"`:s.format==="ends_with"?`نَص غير مقبول: يجب أن ينتهي بـ "${s.suffix}"`:s.format==="includes"?`نَص غير مقبول: يجب أن يتضمَّن "${s.includes}"`:s.format==="regex"?`نَص غير مقبول: يجب أن يطابق النمط ${s.pattern}`:`${r[s.format]??i.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${i.divisor}`;case"unrecognized_keys":return`معرف${i.keys.length>1?"ات":""} غريب${i.keys.length>1?"ة":""}: ${ee(i.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${i.origin}`;case"invalid_union":return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${i.origin}`;default:return"مدخل غير مقبول"}}};function _V(){return{localeError:gV()}}const vV=()=>{const t={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanlış dəyər: gözlənilən ${i.expected}, daxil olan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Yanlış dəyər: gözlənilən ${me(i.values[0])}`:`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Çox böyük: gözlənilən ${i.origin??"dəyər"} ${s}${i.maximum.toString()} ${o.unit??"element"}`:`Çox böyük: gözlənilən ${i.origin??"dəyər"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Çox kiçik: gözlənilən ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:`Çox kiçik: gözlənilən ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Yanlış mətn: "${s.prefix}" ilə başlamalıdır`:s.format==="ends_with"?`Yanlış mətn: "${s.suffix}" ilə bitməlidir`:s.format==="includes"?`Yanlış mətn: "${s.includes}" daxil olmalıdır`:s.format==="regex"?`Yanlış mətn: ${s.pattern} şablonuna uyğun olmalıdır`:`Yanlış ${r[s.format]??i.format}`}case"not_multiple_of":return`Yanlış ədəd: ${i.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${i.keys.length>1?"lar":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilində yanlış açar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${i.origin} daxilində yanlış dəyər`;default:return"Yanlış dəyər"}}};function EV(){return{localeError:vV()}}function Gy(t,e,n,r){const i=Math.abs(t),s=i%10,o=i%100;return o>=11&&o<=19?r:s===1?e:s>=2&&s<=4?n:r}const SV=()=>{const t={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"лік";case"object":{if(Array.isArray(i))return"масіў";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return i=>{switch(i.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${i.expected}, атрымана ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Няправільны ўвод: чакалася ${me(i.values[0])}`:`Няправільны варыянт: чакаўся адзін з ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);if(o){const a=Number(i.maximum),c=Gy(a,o.unit.one,o.unit.few,o.unit.many);return`Занадта вялікі: чакалася, што ${i.origin??"значэнне"} павінна ${o.verb} ${s}${i.maximum.toString()} ${c}`}return`Занадта вялікі: чакалася, што ${i.origin??"значэнне"} павінна быць ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);if(o){const a=Number(i.minimum),c=Gy(a,o.unit.one,o.unit.few,o.unit.many);return`Занадта малы: чакалася, што ${i.origin} павінна ${o.verb} ${s}${i.minimum.toString()} ${c}`}return`Занадта малы: чакалася, што ${i.origin} павінна быць ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Няправільны радок: павінен пачынацца з "${s.prefix}"`:s.format==="ends_with"?`Няправільны радок: павінен заканчвацца на "${s.suffix}"`:s.format==="includes"?`Няправільны радок: павінен змяшчаць "${s.includes}"`:s.format==="regex"?`Няправільны радок: павінен адпавядаць шаблону ${s.pattern}`:`Няправільны ${r[s.format]??i.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${i.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${i.keys.length>1?"ключы":"ключ"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${i.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${i.origin}`;default:return"Няправільны ўвод"}}};function bV(){return{localeError:SV()}}const TV=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"число";case"object":{if(Array.isArray(t))return"масив";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},yV=()=>{const t={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}};function e(r){return t[r]??null}const n={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"};return r=>{switch(r.code){case"invalid_type":return`Невалиден вход: очакван ${r.expected}, получен ${TV(r.input)}`;case"invalid_value":return r.values.length===1?`Невалиден вход: очакван ${me(r.values[0])}`:`Невалидна опция: очаквано едно от ${ee(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Твърде голямо: очаква се ${r.origin??"стойност"} да съдържа ${i}${r.maximum.toString()} ${s.unit??"елемента"}`:`Твърде голямо: очаква се ${r.origin??"стойност"} да бъде ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Твърде малко: очаква се ${r.origin} да съдържа ${i}${r.minimum.toString()} ${s.unit}`:`Твърде малко: очаква се ${r.origin} да бъде ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;if(i.format==="starts_with")return`Невалиден низ: трябва да започва с "${i.prefix}"`;if(i.format==="ends_with")return`Невалиден низ: трябва да завършва с "${i.suffix}"`;if(i.format==="includes")return`Невалиден низ: трябва да включва "${i.includes}"`;if(i.format==="regex")return`Невалиден низ: трябва да съвпада с ${i.pattern}`;let s="Невалиден";return i.format==="emoji"&&(s="Невалидно"),i.format==="datetime"&&(s="Невалидно"),i.format==="date"&&(s="Невалидна"),i.format==="time"&&(s="Невалидно"),i.format==="duration"&&(s="Невалидна"),`${s} ${n[i.format]??r.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${r.divisor}`;case"unrecognized_keys":return`Неразпознат${r.keys.length>1?"и":""} ключ${r.keys.length>1?"ове":""}: ${ee(r.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${r.origin}`;case"invalid_union":return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${r.origin}`;default:return"Невалиден вход"}}};function xV(){return{localeError:yV()}}const wV=()=>{const t={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invàlid: s'esperava ${i.expected}, s'ha rebut ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invàlid: s'esperava ${me(i.values[0])}`:`Opció invàlida: s'esperava una de ${ee(i.values," o ")}`;case"too_big":{const s=i.inclusive?"com a màxim":"menys de",o=e(i.origin);return o?`Massa gran: s'esperava que ${i.origin??"el valor"} contingués ${s} ${i.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?"com a mínim":"més de",o=e(i.origin);return o?`Massa petit: s'esperava que ${i.origin} contingués ${s} ${i.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Format invàlid: ha de començar amb "${s.prefix}"`:s.format==="ends_with"?`Format invàlid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invàlid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invàlid: ha de coincidir amb el patró ${s.pattern}`:`Format invàlid per a ${r[s.format]??i.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${i.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${i.origin}`;default:return"Entrada invàlida"}}};function AV(){return{localeError:wV()}}const DV=()=>{const t={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatný vstup: očekáváno ${i.expected}, obdrženo ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatný vstup: očekáváno ${me(i.values[0])}`:`Neplatná možnost: očekávána jedna z hodnot ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Hodnota je příliš velká: ${i.origin??"hodnota"} musí mít ${s}${i.maximum.toString()} ${o.unit??"prvků"}`:`Hodnota je příliš velká: ${i.origin??"hodnota"} musí být ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Hodnota je příliš malá: ${i.origin??"hodnota"} musí mít ${s}${i.minimum.toString()} ${o.unit??"prvků"}`:`Hodnota je příliš malá: ${i.origin??"hodnota"} musí být ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Neplatný řetězec: musí začínat na "${s.prefix}"`:s.format==="ends_with"?`Neplatný řetězec: musí končit na "${s.suffix}"`:s.format==="includes"?`Neplatný řetězec: musí obsahovat "${s.includes}"`:s.format==="regex"?`Neplatný řetězec: musí odpovídat vzoru ${s.pattern}`:`Neplatný formát ${r[s.format]??i.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${i.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${ee(i.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${i.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${i.origin}`;default:return"Neplatný vstup"}}};function RV(){return{localeError:DV()}}const IV=()=>{const t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},e={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"};function n(o){return t[o]??null}function r(o){return e[o]??o}const i=o=>{const a=typeof o;switch(a){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return a},s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${r(o.expected)}, fik ${r(i(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig værdi: forventede ${me(o.values[0])}`:`Ugyldigt valg: forventede en af følgende ${ee(o.values,"|")}`;case"too_big":{const a=o.inclusive?"<=":"<",c=n(o.origin),u=r(o.origin);return c?`For stor: forventede ${u??"value"} ${c.verb} ${a} ${o.maximum.toString()} ${c.unit??"elementer"}`:`For stor: forventede ${u??"value"} havde ${a} ${o.maximum.toString()}`}case"too_small":{const a=o.inclusive?">=":">",c=n(o.origin),u=r(o.origin);return c?`For lille: forventede ${u} ${c.verb} ${a} ${o.minimum.toString()} ${c.unit}`:`For lille: forventede ${u} havde ${a} ${o.minimum.toString()}`}case"invalid_format":{const a=o;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche mønsteret ${a.pattern}`:`Ugyldig ${s[a.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal være deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ugyldig nøgle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig værdi i ${o.origin}`;default:return"Ugyldigt input"}}};function CV(){return{localeError:IV()}}const OV=()=>{const t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungültige Eingabe: erwartet ${i.expected}, erhalten ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ungültige Eingabe: erwartet ${me(i.values[0])}`:`Ungültige Option: erwartet eine von ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Zu groß: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu groß: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ist`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ist`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ungültiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`Ungültiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`Ungültiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`Ungültiger String: muss dem Muster ${s.pattern} entsprechen`:`Ungültig: ${r[s.format]??i.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${i.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${i.origin}`;default:return"Ungültige Eingabe"}}};function NV(){return{localeError:OV()}}const kV=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},PV=()=>{const t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(r){return t[r]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${kV(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${me(r.values[0])}`:`Invalid option: expected one of ${ee(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Too big: expected ${r.origin??"value"} to have ${i}${r.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${r.origin??"value"} to be ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Too small: expected ${r.origin} to have ${i}${r.minimum.toString()} ${s.unit}`:`Too small: expected ${r.origin} to be ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${n[i.format]??r.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${ee(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`;default:return"Invalid input"}}};function lM(){return{localeError:PV()}}const MV=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},LV=()=>{const t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(r){return t[r]??null}const n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${r.expected}, riceviĝis ${MV(r.input)}`;case"invalid_value":return r.values.length===1?`Nevalida enigo: atendiĝis ${me(r.values[0])}`:`Nevalida opcio: atendiĝis unu el ${ee(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Tro granda: atendiĝis ke ${r.origin??"valoro"} havu ${i}${r.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiĝis ke ${r.origin??"valoro"} havu ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Tro malgranda: atendiĝis ke ${r.origin} havu ${i}${r.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiĝis ke ${r.origin} estu ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Nevalida karaktraro: devas komenciĝi per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finiĝi per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${n[i.format]??r.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} ŝlosilo${r.keys.length>1?"j":""}: ${ee(r.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${r.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`;default:return"Nevalida enigo"}}};function UV(){return{localeError:LV()}}const FV=()=>{const t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},e={string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(o){return t[o]??null}function r(o){return e[o]??o}const i=o=>{const a=typeof o;switch(a){case"number":return Number.isNaN(o)?"NaN":"number";case"object":return Array.isArray(o)?"array":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype?o.constructor.name:"object"}return a},s={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Entrada inválida: se esperaba ${r(o.expected)}, recibido ${r(i(o.input))}`;case"invalid_value":return o.values.length===1?`Entrada inválida: se esperaba ${me(o.values[0])}`:`Opción inválida: se esperaba una de ${ee(o.values,"|")}`;case"too_big":{const a=o.inclusive?"<=":"<",c=n(o.origin),u=r(o.origin);return c?`Demasiado grande: se esperaba que ${u??"valor"} tuviera ${a}${o.maximum.toString()} ${c.unit??"elementos"}`:`Demasiado grande: se esperaba que ${u??"valor"} fuera ${a}${o.maximum.toString()}`}case"too_small":{const a=o.inclusive?">=":">",c=n(o.origin),u=r(o.origin);return c?`Demasiado pequeño: se esperaba que ${u} tuviera ${a}${o.minimum.toString()} ${c.unit}`:`Demasiado pequeño: se esperaba que ${u} fuera ${a}${o.minimum.toString()}`}case"invalid_format":{const a=o;return a.format==="starts_with"?`Cadena inválida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inválida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inválida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inválida: debe coincidir con el patrón ${a.pattern}`:`Inválido ${s[a.format]??o.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Llave inválida en ${r(o.origin)}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido en ${r(o.origin)}`;default:return"Entrada inválida"}}};function $V(){return{localeError:FV()}}const BV=()=>{const t={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"عدد";case"object":{if(Array.isArray(i))return"آرایه";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return i=>{switch(i.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${i.expected} می‌بود، ${n(i.input)} دریافت شد`;case"invalid_value":return i.values.length===1?`ورودی نامعتبر: می‌بایست ${me(i.values[0])} می‌بود`:`گزینه نامعتبر: می‌بایست یکی از ${ee(i.values,"|")} می‌بود`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`خیلی بزرگ: ${i.origin??"مقدار"} باید ${s}${i.maximum.toString()} ${o.unit??"عنصر"} باشد`:`خیلی بزرگ: ${i.origin??"مقدار"} باید ${s}${i.maximum.toString()} باشد`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`خیلی کوچک: ${i.origin} باید ${s}${i.minimum.toString()} ${o.unit} باشد`:`خیلی کوچک: ${i.origin} باید ${s}${i.minimum.toString()} باشد`}case"invalid_format":{const s=i;return s.format==="starts_with"?`رشته نامعتبر: باید با "${s.prefix}" شروع شود`:s.format==="ends_with"?`رشته نامعتبر: باید با "${s.suffix}" تمام شود`:s.format==="includes"?`رشته نامعتبر: باید شامل "${s.includes}" باشد`:s.format==="regex"?`رشته نامعتبر: باید با الگوی ${s.pattern} مطابقت داشته باشد`:`${r[s.format]??i.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${i.divisor} باشد`;case"unrecognized_keys":return`کلید${i.keys.length>1?"های":""} ناشناس: ${ee(i.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${i.origin}`;case"invalid_union":return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${i.origin}`;default:return"ورودی نامعتبر"}}};function jV(){return{localeError:BV()}}const VV=()=>{const t={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syöte: täytyy olla ${me(i.values[0])}`:`Virheellinen valinta: täytyy olla yksi seuraavista: ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Liian suuri: ${o.subject} täytyy olla ${s}${i.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon täytyy olla ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Liian pieni: ${o.subject} täytyy olla ${s}${i.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon täytyy olla ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Virheellinen syöte: täytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syöte: täytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syöte: täytyy sisältää "${s.includes}"`:s.format==="regex"?`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${s.pattern}`:`Virheellinen ${r[s.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ee(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};function zV(){return{localeError:VV()}}const GV=()=>{const t={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return i=>{switch(i.code){case"invalid_type":return`Entrée invalide : ${i.expected} attendu, ${n(i.input)} reçu`;case"invalid_value":return i.values.length===1?`Entrée invalide : ${me(i.values[0])} attendu`:`Option invalide : une valeur parmi ${ee(i.values,"|")} attendue`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Trop grand : ${i.origin??"valeur"} doit ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"élément(s)"}`:`Trop grand : ${i.origin??"valeur"} doit être ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Trop petit : ${i.origin} doit ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : ${i.origin} doit être ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Chaîne invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chaîne invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chaîne invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chaîne invalide : doit correspondre au modèle ${s.pattern}`:`${r[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${i.divisor}`;case"unrecognized_keys":return`Clé${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${ee(i.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${i.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entrée invalide"}}};function qV(){return{localeError:GV()}}const HV=()=>{const t={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return i=>{switch(i.code){case"invalid_type":return`Entrée invalide : attendu ${i.expected}, reçu ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrée invalide : attendu ${me(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"≤":"<",o=e(i.origin);return o?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${s}${i.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?"≥":">",o=e(i.origin);return o?`Trop petit : attendu que ${i.origin} ait ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${i.origin} soit ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Chaîne invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chaîne invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chaîne invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chaîne invalide : doit correspondre au motif ${s.pattern}`:`${r[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${i.divisor}`;case"unrecognized_keys":return`Clé${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${ee(i.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${i.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entrée invalide"}}};function WV(){return{localeError:HV()}}const YV=()=>{const t={string:{label:"מחרוזת",gender:"f"},number:{label:"מספר",gender:"m"},boolean:{label:"ערך בוליאני",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"תאריך",gender:"m"},array:{label:"מערך",gender:"m"},object:{label:"אובייקט",gender:"m"},null:{label:"ערך ריק (null)",gender:"m"},undefined:{label:"ערך לא מוגדר (undefined)",gender:"m"},symbol:{label:"סימבול (Symbol)",gender:"m"},function:{label:"פונקציה",gender:"f"},map:{label:"מפה (Map)",gender:"f"},set:{label:"קבוצה (Set)",gender:"f"},file:{label:"קובץ",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"ערך לא ידוע",gender:"m"},value:{label:"ערך",gender:"m"}},e={string:{unit:"תווים",shortLabel:"קצר",longLabel:"ארוך"},file:{unit:"בייטים",shortLabel:"קטן",longLabel:"גדול"},array:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},set:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},number:{unit:"",shortLabel:"קטן",longLabel:"גדול"}},n=u=>u?t[u]:void 0,r=u=>{const l=n(u);return l?l.label:u??t.unknown.label},i=u=>`ה${r(u)}`,s=u=>(n(u)?.gender??"m")==="f"?"צריכה להיות":"צריך להיות",o=u=>u?e[u]??null:null,a=u=>{const l=typeof u;switch(l){case"number":return Number.isNaN(u)?"NaN":"number";case"object":return Array.isArray(u)?"array":u===null?"null":Object.getPrototypeOf(u)!==Object.prototype&&u.constructor?u.constructor.name:"object";default:return l}},c={regex:{label:"קלט",gender:"m"},email:{label:"כתובת אימייל",gender:"f"},url:{label:"כתובת רשת",gender:"f"},emoji:{label:"אימוג'י",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"תאריך וזמן ISO",gender:"m"},date:{label:"תאריך ISO",gender:"m"},time:{label:"זמן ISO",gender:"m"},duration:{label:"משך זמן ISO",gender:"m"},ipv4:{label:"כתובת IPv4",gender:"f"},ipv6:{label:"כתובת IPv6",gender:"f"},cidrv4:{label:"טווח IPv4",gender:"m"},cidrv6:{label:"טווח IPv6",gender:"m"},base64:{label:"מחרוזת בבסיס 64",gender:"f"},base64url:{label:"מחרוזת בבסיס 64 לכתובות רשת",gender:"f"},json_string:{label:"מחרוזת JSON",gender:"f"},e164:{label:"מספר E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"קלט",gender:"m"},includes:{label:"קלט",gender:"m"},lowercase:{label:"קלט",gender:"m"},starts_with:{label:"קלט",gender:"m"},uppercase:{label:"קלט",gender:"m"}};return u=>{switch(u.code){case"invalid_type":{const l=u.expected,p=r(l),d=a(u.input),f=t[d]?.label??d;return`קלט לא תקין: צריך להיות ${p}, התקבל ${f}`}case"invalid_value":{if(u.values.length===1)return`ערך לא תקין: הערך חייב להיות ${me(u.values[0])}`;const l=u.values.map(f=>me(f));if(u.values.length===2)return`ערך לא תקין: האפשרויות המתאימות הן ${l[0]} או ${l[1]}`;const p=l[l.length-1];return`ערך לא תקין: האפשרויות המתאימות הן ${l.slice(0,-1).join(", ")} או ${p}`}case"too_big":{const l=o(u.origin),p=i(u.origin??"value");if(u.origin==="string")return`${l?.longLabel??"ארוך"} מדי: ${p} צריכה להכיל ${u.maximum.toString()} ${l?.unit??""} ${u.inclusive?"או פחות":"לכל היותר"}`.trim();if(u.origin==="number"){const m=u.inclusive?`קטן או שווה ל-${u.maximum}`:`קטן מ-${u.maximum}`;return`גדול מדי: ${p} צריך להיות ${m}`}if(u.origin==="array"||u.origin==="set"){const m=u.origin==="set"?"צריכה":"צריך",h=u.inclusive?`${u.maximum} ${l?.unit??""} או פחות`:`פחות מ-${u.maximum} ${l?.unit??""}`;return`גדול מדי: ${p} ${m} להכיל ${h}`.trim()}const d=u.inclusive?"<=":"<",f=s(u.origin??"value");return l?.unit?`${l.longLabel} מדי: ${p} ${f} ${d}${u.maximum.toString()} ${l.unit}`:`${l?.longLabel??"גדול"} מדי: ${p} ${f} ${d}${u.maximum.toString()}`}case"too_small":{const l=o(u.origin),p=i(u.origin??"value");if(u.origin==="string")return`${l?.shortLabel??"קצר"} מדי: ${p} צריכה להכיל ${u.minimum.toString()} ${l?.unit??""} ${u.inclusive?"או יותר":"לפחות"}`.trim();if(u.origin==="number"){const m=u.inclusive?`גדול או שווה ל-${u.minimum}`:`גדול מ-${u.minimum}`;return`קטן מדי: ${p} צריך להיות ${m}`}if(u.origin==="array"||u.origin==="set"){const m=u.origin==="set"?"צריכה":"צריך";if(u.minimum===1&&u.inclusive){const g=(u.origin==="set","לפחות פריט אחד");return`קטן מדי: ${p} ${m} להכיל ${g}`}const h=u.inclusive?`${u.minimum} ${l?.unit??""} או יותר`:`יותר מ-${u.minimum} ${l?.unit??""}`;return`קטן מדי: ${p} ${m} להכיל ${h}`.trim()}const d=u.inclusive?">=":">",f=s(u.origin??"value");return l?.unit?`${l.shortLabel} מדי: ${p} ${f} ${d}${u.minimum.toString()} ${l.unit}`:`${l?.shortLabel??"קטן"} מדי: ${p} ${f} ${d}${u.minimum.toString()}`}case"invalid_format":{const l=u;if(l.format==="starts_with")return`המחרוזת חייבת להתחיל ב "${l.prefix}"`;if(l.format==="ends_with")return`המחרוזת חייבת להסתיים ב "${l.suffix}"`;if(l.format==="includes")return`המחרוזת חייבת לכלול "${l.includes}"`;if(l.format==="regex")return`המחרוזת חייבת להתאים לתבנית ${l.pattern}`;const p=c[l.format],d=p?.label??l.format,m=(p?.gender??"m")==="f"?"תקינה":"תקין";return`${d} לא ${m}`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${u.divisor}`;case"unrecognized_keys":return`מפתח${u.keys.length>1?"ות":""} לא מזוה${u.keys.length>1?"ים":"ה"}: ${ee(u.keys,", ")}`;case"invalid_key":return"שדה לא תקין באובייקט";case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${i(u.origin??"array")}`;default:return"קלט לא תקין"}}};function KV(){return{localeError:YV()}}const ZV=()=>{const t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"szám";case"object":{if(Array.isArray(i))return"tömb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`Érvénytelen bemenet: a várt érték ${i.expected}, a kapott érték ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Érvénytelen bemenet: a várt érték ${me(i.values[0])}`:`Érvénytelen opció: valamelyik érték várt ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Túl nagy: ${i.origin??"érték"} mérete túl nagy ${s}${i.maximum.toString()} ${o.unit??"elem"}`:`Túl nagy: a bemeneti érték ${i.origin??"érték"} túl nagy: ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Túl kicsi: a bemeneti érték ${i.origin} mérete túl kicsi ${s}${i.minimum.toString()} ${o.unit}`:`Túl kicsi: a bemeneti érték ${i.origin} túl kicsi ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Érvénytelen string: "${s.prefix}" értékkel kell kezdődnie`:s.format==="ends_with"?`Érvénytelen string: "${s.suffix}" értékkel kell végződnie`:s.format==="includes"?`Érvénytelen string: "${s.includes}" értéket kell tartalmaznia`:s.format==="regex"?`Érvénytelen string: ${s.pattern} mintának kell megfelelnie`:`Érvénytelen ${r[s.format]??i.format}`}case"not_multiple_of":return`Érvénytelen szám: ${i.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${i.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${i.origin}`;default:return"Érvénytelen bemenet"}}};function XV(){return{localeError:ZV()}}const JV=()=>{const t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${me(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Terlalu kecil: diharapkan ${i.origin} memiliki ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${r[s.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function QV(){return{localeError:JV()}}const ez=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"númer";case"object":{if(Array.isArray(t))return"fylki";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},tz=()=>{const t={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}};function e(r){return t[r]??null}const n={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"};return r=>{switch(r.code){case"invalid_type":return`Rangt gildi: Þú slóst inn ${ez(r.input)} þar sem á að vera ${r.expected}`;case"invalid_value":return r.values.length===1?`Rangt gildi: gert ráð fyrir ${me(r.values[0])}`:`Ógilt val: má vera eitt af eftirfarandi ${ee(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Of stórt: gert er ráð fyrir að ${r.origin??"gildi"} hafi ${i}${r.maximum.toString()} ${s.unit??"hluti"}`:`Of stórt: gert er ráð fyrir að ${r.origin??"gildi"} sé ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Of lítið: gert er ráð fyrir að ${r.origin} hafi ${i}${r.minimum.toString()} ${s.unit}`:`Of lítið: gert er ráð fyrir að ${r.origin} sé ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Ógildur strengur: verður að byrja á "${i.prefix}"`:i.format==="ends_with"?`Ógildur strengur: verður að enda á "${i.suffix}"`:i.format==="includes"?`Ógildur strengur: verður að innihalda "${i.includes}"`:i.format==="regex"?`Ógildur strengur: verður að fylgja mynstri ${i.pattern}`:`Rangt ${n[i.format]??r.format}`}case"not_multiple_of":return`Röng tala: verður að vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`Óþekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${ee(r.keys,", ")}`;case"invalid_key":return`Rangur lykill í ${r.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi í ${r.origin}`;default:return"Rangt gildi"}}};function nz(){return{localeError:tz()}}const rz=()=>{const t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${me(i.values[0])}`:`Opzione non valida: atteso uno tra ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Troppo grande: ${i.origin??"valore"} deve avere ${s}${i.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Troppo piccolo: ${i.origin} deve avere ${s}${i.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${i.origin} deve essere ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${r[s.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function iz(){return{localeError:rz()}}const sz=()=>{const t={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"数値";case"object":{if(Array.isArray(i))return"配列";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return i=>{switch(i.code){case"invalid_type":return`無効な入力: ${i.expected}が期待されましたが、${n(i.input)}が入力されました`;case"invalid_value":return i.values.length===1?`無効な入力: ${me(i.values[0])}が期待されました`:`無効な選択: ${ee(i.values,"、")}のいずれかである必要があります`;case"too_big":{const s=i.inclusive?"以下である":"より小さい",o=e(i.origin);return o?`大きすぎる値: ${i.origin??"値"}は${i.maximum.toString()}${o.unit??"要素"}${s}必要があります`:`大きすぎる値: ${i.origin??"値"}は${i.maximum.toString()}${s}必要があります`}case"too_small":{const s=i.inclusive?"以上である":"より大きい",o=e(i.origin);return o?`小さすぎる値: ${i.origin}は${i.minimum.toString()}${o.unit}${s}必要があります`:`小さすぎる値: ${i.origin}は${i.minimum.toString()}${s}必要があります`}case"invalid_format":{const s=i;return s.format==="starts_with"?`無効な文字列: "${s.prefix}"で始まる必要があります`:s.format==="ends_with"?`無効な文字列: "${s.suffix}"で終わる必要があります`:s.format==="includes"?`無効な文字列: "${s.includes}"を含む必要があります`:s.format==="regex"?`無効な文字列: パターン${s.pattern}に一致する必要があります`:`無効な${r[s.format]??i.format}`}case"not_multiple_of":return`無効な数値: ${i.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${i.keys.length>1?"群":""}: ${ee(i.keys,"、")}`;case"invalid_key":return`${i.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${i.origin}内の無効な値`;default:return"無効な入力"}}};function oz(){return{localeError:sz()}}const az=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"რიცხვი";case"object":{if(Array.isArray(t))return"მასივი";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return{string:"სტრინგი",boolean:"ბულეანი",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"ფუნქცია"}[e]??e},cz=()=>{const t={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}};function e(r){return t[r]??null}const n={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"};return r=>{switch(r.code){case"invalid_type":return`არასწორი შეყვანა: მოსალოდნელი ${r.expected}, მიღებული ${az(r.input)}`;case"invalid_value":return r.values.length===1?`არასწორი შეყვანა: მოსალოდნელი ${me(r.values[0])}`:`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${ee(r.values,"|")}-დან`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`ზედმეტად დიდი: მოსალოდნელი ${r.origin??"მნიშვნელობა"} ${s.verb} ${i}${r.maximum.toString()} ${s.unit}`:`ზედმეტად დიდი: მოსალოდნელი ${r.origin??"მნიშვნელობა"} იყოს ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`ზედმეტად პატარა: მოსალოდნელი ${r.origin} ${s.verb} ${i}${r.minimum.toString()} ${s.unit}`:`ზედმეტად პატარა: მოსალოდნელი ${r.origin} იყოს ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`არასწორი სტრინგი: უნდა იწყებოდეს "${i.prefix}"-ით`:i.format==="ends_with"?`არასწორი სტრინგი: უნდა მთავრდებოდეს "${i.suffix}"-ით`:i.format==="includes"?`არასწორი სტრინგი: უნდა შეიცავდეს "${i.includes}"-ს`:i.format==="regex"?`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${i.pattern}`:`არასწორი ${n[i.format]??r.format}`}case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${r.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${r.keys.length>1?"ები":"ი"}: ${ee(r.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${r.origin}-ში`;case"invalid_union":return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${r.origin}-ში`;default:return"არასწორი შეყვანა"}}};function uz(){return{localeError:cz()}}const lz=()=>{const t={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":{if(Array.isArray(i))return"អារេ (Array)";if(i===null)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return i=>{switch(i.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${i.expected} ប៉ុន្តែទទួលបាន ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${me(i.values[0])}`:`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`ធំពេក៖ ត្រូវការ ${i.origin??"តម្លៃ"} ${s} ${i.maximum.toString()} ${o.unit??"ធាតុ"}`:`ធំពេក៖ ត្រូវការ ${i.origin??"តម្លៃ"} ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`តូចពេក៖ ត្រូវការ ${i.origin} ${s} ${i.minimum.toString()} ${o.unit}`:`តូចពេក៖ ត្រូវការ ${i.origin} ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${s.prefix}"`:s.format==="ends_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${s.suffix}"`:s.format==="includes"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${s.includes}"`:s.format==="regex"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${s.pattern}`:`មិនត្រឹមត្រូវ៖ ${r[s.format]??i.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${i.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${ee(i.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${i.origin}`;case"invalid_union":return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${i.origin}`;default:return"ទិន្នន័យមិនត្រឹមត្រូវ"}}};function pM(){return{localeError:lz()}}function pz(){return pM()}const dz=()=>{const t={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return i=>{switch(i.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${i.expected}, 받은 타입은 ${n(i.input)}입니다`;case"invalid_value":return i.values.length===1?`잘못된 입력: 값은 ${me(i.values[0])} 이어야 합니다`:`잘못된 옵션: ${ee(i.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{const s=i.inclusive?"이하":"미만",o=s==="미만"?"이어야 합니다":"여야 합니다",a=e(i.origin),c=a?.unit??"요소";return a?`${i.origin??"값"}이 너무 큽니다: ${i.maximum.toString()}${c} ${s}${o}`:`${i.origin??"값"}이 너무 큽니다: ${i.maximum.toString()} ${s}${o}`}case"too_small":{const s=i.inclusive?"이상":"초과",o=s==="이상"?"이어야 합니다":"여야 합니다",a=e(i.origin),c=a?.unit??"요소";return a?`${i.origin??"값"}이 너무 작습니다: ${i.minimum.toString()}${c} ${s}${o}`:`${i.origin??"값"}이 너무 작습니다: ${i.minimum.toString()} ${s}${o}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`잘못된 문자열: "${s.prefix}"(으)로 시작해야 합니다`:s.format==="ends_with"?`잘못된 문자열: "${s.suffix}"(으)로 끝나야 합니다`:s.format==="includes"?`잘못된 문자열: "${s.includes}"을(를) 포함해야 합니다`:s.format==="regex"?`잘못된 문자열: 정규식 ${s.pattern} 패턴과 일치해야 합니다`:`잘못된 ${r[s.format]??i.format}`}case"not_multiple_of":return`잘못된 숫자: ${i.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${ee(i.keys,", ")}`;case"invalid_key":return`잘못된 키: ${i.origin}`;case"invalid_union":return"잘못된 입력";case"invalid_element":return`잘못된 값: ${i.origin}`;default:return"잘못된 입력"}}};function fz(){return{localeError:dz()}}const mz=t=>Ka(typeof t,t),Ka=(t,e=void 0)=>{switch(t){case"number":return Number.isNaN(e)?"NaN":"skaičius";case"bigint":return"sveikasis skaičius";case"string":return"eilutė";case"boolean":return"loginė reikšmė";case"undefined":case"void":return"neapibrėžta reikšmė";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return e===void 0?"nežinomas objektas":e===null?"nulinė reikšmė":Array.isArray(e)?"masyvas":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"objektas";case"null":return"nulinė reikšmė"}return t},Xo=t=>t.charAt(0).toUpperCase()+t.slice(1);function qy(t){const e=Math.abs(t),n=e%10,r=e%100;return r>=11&&r<=19||n===0?"many":n===1?"one":"few"}const hz=()=>{const t={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function e(r,i,s,o){const a=t[r]??null;return a===null?a:{unit:a.unit[i],verb:a.verb[o][s?"inclusive":"notInclusive"]}}const n={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"};return r=>{switch(r.code){case"invalid_type":return`Gautas tipas ${mz(r.input)}, o tikėtasi - ${Ka(r.expected)}`;case"invalid_value":return r.values.length===1?`Privalo būti ${me(r.values[0])}`:`Privalo būti vienas iš ${ee(r.values,"|")} pasirinkimų`;case"too_big":{const i=Ka(r.origin),s=e(r.origin,qy(Number(r.maximum)),r.inclusive??!1,"smaller");if(s?.verb)return`${Xo(i??r.origin??"reikšmė")} ${s.verb} ${r.maximum.toString()} ${s.unit??"elementų"}`;const o=r.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${Xo(i??r.origin??"reikšmė")} turi būti ${o} ${r.maximum.toString()} ${s?.unit}`}case"too_small":{const i=Ka(r.origin),s=e(r.origin,qy(Number(r.minimum)),r.inclusive??!1,"bigger");if(s?.verb)return`${Xo(i??r.origin??"reikšmė")} ${s.verb} ${r.minimum.toString()} ${s.unit??"elementų"}`;const o=r.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${Xo(i??r.origin??"reikšmė")} turi būti ${o} ${r.minimum.toString()} ${s?.unit}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Eilutė privalo prasidėti "${i.prefix}"`:i.format==="ends_with"?`Eilutė privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilutė privalo įtraukti "${i.includes}"`:i.format==="regex"?`Eilutė privalo atitikti ${i.pattern}`:`Neteisingas ${n[i.format]??r.format}`}case"not_multiple_of":return`Skaičius privalo būti ${r.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${r.keys.length>1?"i":"as"} rakt${r.keys.length>1?"ai":"as"}: ${ee(r.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga įvestis";case"invalid_element":{const i=Ka(r.origin);return`${Xo(i??r.origin??"reikšmė")} turi klaidingą įvestį`}default:return"Klaidinga įvestis"}}};function gz(){return{localeError:hz()}}const _z=()=>{const t={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"број";case"object":{if(Array.isArray(i))return"низа";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return i=>{switch(i.code){case"invalid_type":return`Грешен внес: се очекува ${i.expected}, примено ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${me(i.values[0])}`:`Грешана опција: се очекува една ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Премногу голем: се очекува ${i.origin??"вредноста"} да има ${s}${i.maximum.toString()} ${o.unit??"елементи"}`:`Премногу голем: се очекува ${i.origin??"вредноста"} да биде ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Премногу мал: се очекува ${i.origin} да има ${s}${i.minimum.toString()} ${o.unit}`:`Премногу мал: се очекува ${i.origin} да биде ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Неважечка низа: мора да започнува со "${s.prefix}"`:s.format==="ends_with"?`Неважечка низа: мора да завршува со "${s.suffix}"`:s.format==="includes"?`Неважечка низа: мора да вклучува "${s.includes}"`:s.format==="regex"?`Неважечка низа: мора да одгоара на патернот ${s.pattern}`:`Invalid ${r[s.format]??i.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${i.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${i.origin}`;default:return"Грешен внес"}}};function vz(){return{localeError:_z()}}const Ez=()=>{const t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${me(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Terlalu besar: dijangka ${i.origin??"nilai"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Terlalu kecil: dijangka ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${r[s.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ee(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function Sz(){return{localeError:Ez()}}const bz=()=>{const t={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${me(i.values[0])}`:`Ongeldige optie: verwacht één van ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Te groot: verwacht dat ${i.origin??"waarde"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elementen"}`:`Te groot: verwacht dat ${i.origin??"waarde"} ${s}${i.maximum.toString()} is`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Te klein: verwacht dat ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Te klein: verwacht dat ${i.origin} ${s}${i.minimum.toString()} is`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${r[s.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function Tz(){return{localeError:bz()}}const yz=()=>{const t={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${me(i.values[0])}`:`Ugyldig valg: forventet en av ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`For stor(t): forventet ${i.origin??"value"} til å ha ${s}${i.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til å ha ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`For lite(n): forventet ${i.origin} til å ha ${s}${i.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${i.origin} til å ha ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ugyldig streng: må starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: må ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: må inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: må matche mønsteret ${s.pattern}`:`Ugyldig ${r[s.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function xz(){return{localeError:yz()}}const wz=()=>{const t={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fâsit giren: umulan ${i.expected}, alınan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Fâsit giren: umulan ${me(i.values[0])}`:`Fâsit tercih: mûteberler ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Fazla büyük: ${i.origin??"value"}, ${s}${i.maximum.toString()} ${o.unit??"elements"} sahip olmalıydı.`:`Fazla büyük: ${i.origin??"value"}, ${s}${i.maximum.toString()} olmalıydı.`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Fazla küçük: ${i.origin}, ${s}${i.minimum.toString()} ${o.unit} sahip olmalıydı.`:`Fazla küçük: ${i.origin}, ${s}${i.minimum.toString()} olmalıydı.`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Fâsit metin: "${s.prefix}" ile başlamalı.`:s.format==="ends_with"?`Fâsit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`Fâsit metin: "${s.includes}" ihtivâ etmeli.`:s.format==="regex"?`Fâsit metin: ${s.pattern} nakşına uymalı.`:`Fâsit ${r[s.format]??i.format}`}case"not_multiple_of":return`Fâsit sayı: ${i.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`${i.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${i.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};function Az(){return{localeError:wz()}}const Dz=()=>{const t={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"عدد";case"object":{if(Array.isArray(i))return"ارې";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return i=>{switch(i.code){case"invalid_type":return`ناسم ورودي: باید ${i.expected} وای, مګر ${n(i.input)} ترلاسه شو`;case"invalid_value":return i.values.length===1?`ناسم ورودي: باید ${me(i.values[0])} وای`:`ناسم انتخاب: باید یو له ${ee(i.values,"|")} څخه وای`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`ډیر لوی: ${i.origin??"ارزښت"} باید ${s}${i.maximum.toString()} ${o.unit??"عنصرونه"} ولري`:`ډیر لوی: ${i.origin??"ارزښت"} باید ${s}${i.maximum.toString()} وي`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`ډیر کوچنی: ${i.origin} باید ${s}${i.minimum.toString()} ${o.unit} ولري`:`ډیر کوچنی: ${i.origin} باید ${s}${i.minimum.toString()} وي`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ناسم متن: باید د "${s.prefix}" سره پیل شي`:s.format==="ends_with"?`ناسم متن: باید د "${s.suffix}" سره پای ته ورسيږي`:s.format==="includes"?`ناسم متن: باید "${s.includes}" ولري`:s.format==="regex"?`ناسم متن: باید د ${s.pattern} سره مطابقت ولري`:`${r[s.format]??i.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${i.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${i.keys.length>1?"کلیډونه":"کلیډ"}: ${ee(i.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${i.origin} کې`;case"invalid_union":return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${i.origin} کې`;default:return"ناسمه ورودي"}}};function Rz(){return{localeError:Dz()}}const Iz=()=>{const t={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${i.expected}, otrzymano ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidłowe dane wejściowe: oczekiwano ${me(i.values[0])}`:`Nieprawidłowa opcja: oczekiwano jednej z wartości ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Za duża wartość: oczekiwano, że ${i.origin??"wartość"} będzie mieć ${s}${i.maximum.toString()} ${o.unit??"elementów"}`:`Zbyt duż(y/a/e): oczekiwano, że ${i.origin??"wartość"} będzie wynosić ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Za mała wartość: oczekiwano, że ${i.origin??"wartość"} będzie mieć ${s}${i.minimum.toString()} ${o.unit??"elementów"}`:`Zbyt mał(y/a/e): oczekiwano, że ${i.origin??"wartość"} będzie wynosić ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Nieprawidłowy ciąg znaków: musi zaczynać się od "${s.prefix}"`:s.format==="ends_with"?`Nieprawidłowy ciąg znaków: musi kończyć się na "${s.suffix}"`:s.format==="includes"?`Nieprawidłowy ciąg znaków: musi zawierać "${s.includes}"`:s.format==="regex"?`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${s.pattern}`:`Nieprawidłow(y/a/e) ${r[s.format]??i.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${i.origin}`;default:return"Nieprawidłowe dane wejściowe"}}};function Cz(){return{localeError:Iz()}}const Oz=()=>{const t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"número";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo inválido: esperado ${i.expected}, recebido ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inválida: esperado ${me(i.values[0])}`:`Opção inválida: esperada uma das ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${s}${i.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Muito pequeno: esperado que ${i.origin} tivesse ${s}${i.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Texto inválido: deve começar com "${s.prefix}"`:s.format==="ends_with"?`Texto inválido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto inválido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto inválido: deve corresponder ao padrão ${s.pattern}`:`${r[s.format]??i.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Chave inválida em ${i.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${i.origin}`;default:return"Campo inválido"}}};function Nz(){return{localeError:Oz()}}function Hy(t,e,n,r){const i=Math.abs(t),s=i%10,o=i%100;return o>=11&&o<=19?r:s===1?e:s>=2&&s<=4?n:r}const kz=()=>{const t={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"число";case"object":{if(Array.isArray(i))return"массив";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return i=>{switch(i.code){case"invalid_type":return`Неверный ввод: ожидалось ${i.expected}, получено ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Неверный ввод: ожидалось ${me(i.values[0])}`:`Неверный вариант: ожидалось одно из ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);if(o){const a=Number(i.maximum),c=Hy(a,o.unit.one,o.unit.few,o.unit.many);return`Слишком большое значение: ожидалось, что ${i.origin??"значение"} будет иметь ${s}${i.maximum.toString()} ${c}`}return`Слишком большое значение: ожидалось, что ${i.origin??"значение"} будет ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);if(o){const a=Number(i.minimum),c=Hy(a,o.unit.one,o.unit.few,o.unit.many);return`Слишком маленькое значение: ожидалось, что ${i.origin} будет иметь ${s}${i.minimum.toString()} ${c}`}return`Слишком маленькое значение: ожидалось, что ${i.origin} будет ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Неверная строка: должна начинаться с "${s.prefix}"`:s.format==="ends_with"?`Неверная строка: должна заканчиваться на "${s.suffix}"`:s.format==="includes"?`Неверная строка: должна содержать "${s.includes}"`:s.format==="regex"?`Неверная строка: должна соответствовать шаблону ${s.pattern}`:`Неверный ${r[s.format]??i.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${i.divisor}`;case"unrecognized_keys":return`Нераспознанн${i.keys.length>1?"ые":"ый"} ключ${i.keys.length>1?"и":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${i.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${i.origin}`;default:return"Неверные входные данные"}}};function Pz(){return{localeError:kz()}}const Mz=()=>{const t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"število";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${i.expected}, prejeto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: pričakovano ${me(i.values[0])}`:`Neveljavna možnost: pričakovano eno izmed ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Preveliko: pričakovano, da bo ${i.origin??"vrednost"} imelo ${s}${i.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pričakovano, da bo ${i.origin??"vrednost"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Premajhno: pričakovano, da bo ${i.origin} imelo ${s}${i.minimum.toString()} ${o.unit}`:`Premajhno: pričakovano, da bo ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Neveljaven niz: mora se začeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se končati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${r[s.format]??i.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i ključi":" ključ"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function Lz(){return{localeError:Mz()}}const Uz=()=>{const t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: förväntat ${i.expected}, fick ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: förväntat ${me(i.values[0])}`:`Ogiltigt val: förväntade en av ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`För stor(t): förväntade ${i.origin??"värdet"} att ha ${s}${i.maximum.toString()} ${o.unit??"element"}`:`För stor(t): förväntat ${i.origin??"värdet"} att ha ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`För lite(t): förväntade ${i.origin??"värdet"} att ha ${s}${i.minimum.toString()} ${o.unit}`:`För lite(t): förväntade ${i.origin??"värdet"} att ha ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ogiltig sträng: måste börja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig sträng: måste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig sträng: måste innehålla "${s.includes}"`:s.format==="regex"?`Ogiltig sträng: måste matcha mönstret "${s.pattern}"`:`Ogiltig(t) ${r[s.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${ee(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"värdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${i.origin??"värdet"}`;default:return"Ogiltig input"}}};function Fz(){return{localeError:Uz()}}const $z=()=>{const t={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"எண் அல்லாதது":"எண்";case"object":{if(Array.isArray(i))return"அணி";if(i===null)return"வெறுமை";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${i.expected}, பெறப்பட்டது ${n(i.input)}`;case"invalid_value":return i.values.length===1?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${me(i.values[0])}`:`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${ee(i.values,"|")} இல் ஒன்று`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${i.origin??"மதிப்பு"} ${s}${i.maximum.toString()} ${o.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`:`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${i.origin??"மதிப்பு"} ${s}${i.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${i.origin} ${s}${i.minimum.toString()} ${o.unit} ஆக இருக்க வேண்டும்`:`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${i.origin} ${s}${i.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{const s=i;return s.format==="starts_with"?`தவறான சரம்: "${s.prefix}" இல் தொடங்க வேண்டும்`:s.format==="ends_with"?`தவறான சரம்: "${s.suffix}" இல் முடிவடைய வேண்டும்`:s.format==="includes"?`தவறான சரம்: "${s.includes}" ஐ உள்ளடக்க வேண்டும்`:s.format==="regex"?`தவறான சரம்: ${s.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`:`தவறான ${r[s.format]??i.format}`}case"not_multiple_of":return`தவறான எண்: ${i.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${i.keys.length>1?"கள்":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`${i.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${i.origin} இல் தவறான மதிப்பு`;default:return"தவறான உள்ளீடு"}}};function Bz(){return{localeError:$z()}}const jz=()=>{const t={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":{if(Array.isArray(i))return"อาร์เรย์ (Array)";if(i===null)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return i=>{switch(i.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${i.expected} แต่ได้รับ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ค่าไม่ถูกต้อง: ควรเป็น ${me(i.values[0])}`:`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"ไม่เกิน":"น้อยกว่า",o=e(i.origin);return o?`เกินกำหนด: ${i.origin??"ค่า"} ควรมี${s} ${i.maximum.toString()} ${o.unit??"รายการ"}`:`เกินกำหนด: ${i.origin??"ค่า"} ควรมี${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?"อย่างน้อย":"มากกว่า",o=e(i.origin);return o?`น้อยกว่ากำหนด: ${i.origin} ควรมี${s} ${i.minimum.toString()} ${o.unit}`:`น้อยกว่ากำหนด: ${i.origin} ควรมี${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${s.prefix}"`:s.format==="ends_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${s.suffix}"`:s.format==="includes"?`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${s.includes}" อยู่ในข้อความ`:s.format==="regex"?`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${s.pattern}`:`รูปแบบไม่ถูกต้อง: ${r[s.format]??i.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${i.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${ee(i.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${i.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${i.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};function Vz(){return{localeError:jz()}}const zz=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},Gz=()=>{const t={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function e(r){return t[r]??null}const n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return r=>{switch(r.code){case"invalid_type":return`Geçersiz değer: beklenen ${r.expected}, alınan ${zz(r.input)}`;case"invalid_value":return r.values.length===1?`Geçersiz değer: beklenen ${me(r.values[0])}`:`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${ee(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Çok büyük: beklenen ${r.origin??"değer"} ${i}${r.maximum.toString()} ${s.unit??"öğe"}`:`Çok büyük: beklenen ${r.origin??"değer"} ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Çok küçük: beklenen ${r.origin} ${i}${r.minimum.toString()} ${s.unit}`:`Çok küçük: beklenen ${r.origin} ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Geçersiz metin: "${i.prefix}" ile başlamalı`:i.format==="ends_with"?`Geçersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geçersiz metin: "${i.includes}" içermeli`:i.format==="regex"?`Geçersiz metin: ${i.pattern} desenine uymalı`:`Geçersiz ${n[i.format]??r.format}`}case"not_multiple_of":return`Geçersiz sayı: ${r.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${r.keys.length>1?"lar":""}: ${ee(r.keys,", ")}`;case"invalid_key":return`${r.origin} içinde geçersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${r.origin} içinde geçersiz değer`;default:return"Geçersiz değer"}}};function qz(){return{localeError:Gz()}}const Hz=()=>{const t={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"число";case"object":{if(Array.isArray(i))return"масив";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return i=>{switch(i.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${i.expected}, отримано ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Неправильні вхідні дані: очікується ${me(i.values[0])}`:`Неправильна опція: очікується одне з ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Занадто велике: очікується, що ${i.origin??"значення"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"елементів"}`:`Занадто велике: очікується, що ${i.origin??"значення"} буде ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Занадто мале: очікується, що ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Занадто мале: очікується, що ${i.origin} буде ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Неправильний рядок: повинен починатися з "${s.prefix}"`:s.format==="ends_with"?`Неправильний рядок: повинен закінчуватися на "${s.suffix}"`:s.format==="includes"?`Неправильний рядок: повинен містити "${s.includes}"`:s.format==="regex"?`Неправильний рядок: повинен відповідати шаблону ${s.pattern}`:`Неправильний ${r[s.format]??i.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${i.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${i.keys.length>1?"і":""}: ${ee(i.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${i.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${i.origin}`;default:return"Неправильні вхідні дані"}}};function dM(){return{localeError:Hz()}}function Wz(){return dM()}const Yz=()=>{const t={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"نمبر";case"object":{if(Array.isArray(i))return"آرے";if(i===null)return"نل";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return i=>{switch(i.code){case"invalid_type":return`غلط ان پٹ: ${i.expected} متوقع تھا، ${n(i.input)} موصول ہوا`;case"invalid_value":return i.values.length===1?`غلط ان پٹ: ${me(i.values[0])} متوقع تھا`:`غلط آپشن: ${ee(i.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`بہت بڑا: ${i.origin??"ویلیو"} کے ${s}${i.maximum.toString()} ${o.unit??"عناصر"} ہونے متوقع تھے`:`بہت بڑا: ${i.origin??"ویلیو"} کا ${s}${i.maximum.toString()} ہونا متوقع تھا`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`بہت چھوٹا: ${i.origin} کے ${s}${i.minimum.toString()} ${o.unit} ہونے متوقع تھے`:`بہت چھوٹا: ${i.origin} کا ${s}${i.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{const s=i;return s.format==="starts_with"?`غلط سٹرنگ: "${s.prefix}" سے شروع ہونا چاہیے`:s.format==="ends_with"?`غلط سٹرنگ: "${s.suffix}" پر ختم ہونا چاہیے`:s.format==="includes"?`غلط سٹرنگ: "${s.includes}" شامل ہونا چاہیے`:s.format==="regex"?`غلط سٹرنگ: پیٹرن ${s.pattern} سے میچ ہونا چاہیے`:`غلط ${r[s.format]??i.format}`}case"not_multiple_of":return`غلط نمبر: ${i.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${i.keys.length>1?"ز":""}: ${ee(i.keys,"، ")}`;case"invalid_key":return`${i.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${i.origin} میں غلط ویلیو`;default:return"غلط ان پٹ"}}};function Kz(){return{localeError:Yz()}}const Zz=()=>{const t={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"số";case"object":{if(Array.isArray(i))return"mảng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"};return i=>{switch(i.code){case"invalid_type":return`Đầu vào không hợp lệ: mong đợi ${i.expected}, nhận được ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Đầu vào không hợp lệ: mong đợi ${me(i.values[0])}`:`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Quá lớn: mong đợi ${i.origin??"giá trị"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"phần tử"}`:`Quá lớn: mong đợi ${i.origin??"giá trị"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Quá nhỏ: mong đợi ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Quá nhỏ: mong đợi ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Chuỗi không hợp lệ: phải bắt đầu bằng "${s.prefix}"`:s.format==="ends_with"?`Chuỗi không hợp lệ: phải kết thúc bằng "${s.suffix}"`:s.format==="includes"?`Chuỗi không hợp lệ: phải bao gồm "${s.includes}"`:s.format==="regex"?`Chuỗi không hợp lệ: phải khớp với mẫu ${s.pattern}`:`${r[s.format]??i.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${i.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${ee(i.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${i.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${i.origin}`;default:return"Đầu vào không hợp lệ"}}};function Xz(){return{localeError:Zz()}}const Jz=()=>{const t={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"非数字(NaN)":"数字";case"object":{if(Array.isArray(i))return"数组";if(i===null)return"空值(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return i=>{switch(i.code){case"invalid_type":return`无效输入：期望 ${i.expected}，实际接收 ${n(i.input)}`;case"invalid_value":return i.values.length===1?`无效输入：期望 ${me(i.values[0])}`:`无效选项：期望以下之一 ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`数值过大：期望 ${i.origin??"值"} ${s}${i.maximum.toString()} ${o.unit??"个元素"}`:`数值过大：期望 ${i.origin??"值"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`数值过小：期望 ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:`数值过小：期望 ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`无效字符串：必须以 "${s.prefix}" 开头`:s.format==="ends_with"?`无效字符串：必须以 "${s.suffix}" 结尾`:s.format==="includes"?`无效字符串：必须包含 "${s.includes}"`:s.format==="regex"?`无效字符串：必须满足正则表达式 ${s.pattern}`:`无效${r[s.format]??i.format}`}case"not_multiple_of":return`无效数字：必须是 ${i.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${ee(i.keys,", ")}`;case"invalid_key":return`${i.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${i.origin} 中包含无效值(value)`;default:return"无效输入"}}};function Qz(){return{localeError:Jz()}}const eG=()=>{const t={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return i=>{switch(i.code){case"invalid_type":return`無效的輸入值：預期為 ${i.expected}，但收到 ${n(i.input)}`;case"invalid_value":return i.values.length===1?`無效的輸入值：預期為 ${me(i.values[0])}`:`無效的選項：預期為以下其中之一 ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`數值過大：預期 ${i.origin??"值"} 應為 ${s}${i.maximum.toString()} ${o.unit??"個元素"}`:`數值過大：預期 ${i.origin??"值"} 應為 ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`數值過小：預期 ${i.origin} 應為 ${s}${i.minimum.toString()} ${o.unit}`:`數值過小：預期 ${i.origin} 應為 ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`無效的字串：必須以 "${s.prefix}" 開頭`:s.format==="ends_with"?`無效的字串：必須以 "${s.suffix}" 結尾`:s.format==="includes"?`無效的字串：必須包含 "${s.includes}"`:s.format==="regex"?`無效的字串：必須符合格式 ${s.pattern}`:`無效的 ${r[s.format]??i.format}`}case"not_multiple_of":return`無效的數字：必須為 ${i.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${i.keys.length>1?"們":""}：${ee(i.keys,"、")}`;case"invalid_key":return`${i.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${i.origin} 中有無效的值`;default:return"無效的輸入值"}}};function tG(){return{localeError:eG()}}const nG=()=>{const t={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nọ́mbà";case"object":{if(Array.isArray(i))return"akopọ";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"};return i=>{switch(i.code){case"invalid_type":return`Ìbáwọlé aṣìṣe: a ní láti fi ${i.expected}, àmọ̀ a rí ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ìbáwọlé aṣìṣe: a ní láti fi ${me(i.values[0])}`:`Àṣàyàn aṣìṣe: yan ọ̀kan lára ${ee(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Tó pọ̀ jù: a ní láti jẹ́ pé ${i.origin??"iye"} ${o.verb} ${s}${i.maximum} ${o.unit}`:`Tó pọ̀ jù: a ní láti jẹ́ ${s}${i.maximum}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Kéré ju: a ní láti jẹ́ pé ${i.origin} ${o.verb} ${s}${i.minimum} ${o.unit}`:`Kéré ju: a ní láti jẹ́ ${s}${i.minimum}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú "${s.prefix}"`:s.format==="ends_with"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú "${s.suffix}"`:s.format==="includes"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní "${s.includes}"`:s.format==="regex"?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${s.pattern}`:`Aṣìṣe: ${r[s.format]??i.format}`}case"not_multiple_of":return`Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${i.divisor}`;case"unrecognized_keys":return`Bọtìnì àìmọ̀: ${ee(i.keys,", ")}`;case"invalid_key":return`Bọtìnì aṣìṣe nínú ${i.origin}`;case"invalid_union":return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣìṣe nínú ${i.origin}`;default:return"Ìbáwọlé aṣìṣe"}}};function rG(){return{localeError:nG()}}const fM=Object.freeze(Object.defineProperty({__proto__:null,ar:_V,az:EV,be:bV,bg:xV,ca:AV,cs:RV,da:CV,de:NV,en:lM,eo:UV,es:$V,fa:jV,fi:zV,fr:qV,frCA:WV,he:KV,hu:XV,id:QV,is:nz,it:iz,ja:oz,ka:uz,kh:pz,km:pM,ko:fz,lt:gz,mk:vz,ms:Sz,nl:Tz,no:xz,ota:Az,pl:Cz,ps:Rz,pt:Nz,ru:Pz,sl:Lz,sv:Fz,ta:Bz,th:Vz,tr:qz,ua:Wz,uk:dM,ur:Kz,vi:Xz,yo:rG,zhCN:Qz,zhTW:tG},Symbol.toStringTag,{value:"Module"}));var Wy;const mM=Symbol("ZodOutput"),hM=Symbol("ZodInput");class av{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function cv(){return new av}(Wy=globalThis).__zod_globalRegistry??(Wy.__zod_globalRegistry=cv());const _n=globalThis.__zod_globalRegistry;function gM(t,e){return new t({type:"string",...K(e)})}function _M(t,e){return new t({type:"string",coerce:!0,...K(e)})}function uv(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...K(e)})}function ll(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...K(e)})}function lv(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...K(e)})}function pv(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...K(e)})}function dv(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...K(e)})}function fv(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...K(e)})}function op(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...K(e)})}function mv(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...K(e)})}function hv(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...K(e)})}function gv(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...K(e)})}function _v(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...K(e)})}function vv(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...K(e)})}function Ev(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...K(e)})}function Sv(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...K(e)})}function bv(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...K(e)})}function Tv(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...K(e)})}function vM(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...K(e)})}function yv(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...K(e)})}function xv(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...K(e)})}function wv(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...K(e)})}function Av(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...K(e)})}function Dv(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...K(e)})}function Rv(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...K(e)})}const EM={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function SM(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...K(e)})}function bM(t,e){return new t({type:"string",format:"date",check:"string_format",...K(e)})}function TM(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...K(e)})}function yM(t,e){return new t({type:"string",format:"duration",check:"string_format",...K(e)})}function xM(t,e){return new t({type:"number",checks:[],...K(e)})}function wM(t,e){return new t({type:"number",coerce:!0,checks:[],...K(e)})}function AM(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...K(e)})}function DM(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...K(e)})}function RM(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...K(e)})}function IM(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...K(e)})}function CM(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...K(e)})}function OM(t,e){return new t({type:"boolean",...K(e)})}function NM(t,e){return new t({type:"boolean",coerce:!0,...K(e)})}function kM(t,e){return new t({type:"bigint",...K(e)})}function PM(t,e){return new t({type:"bigint",coerce:!0,...K(e)})}function MM(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...K(e)})}function LM(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...K(e)})}function UM(t,e){return new t({type:"symbol",...K(e)})}function FM(t,e){return new t({type:"undefined",...K(e)})}function $M(t,e){return new t({type:"null",...K(e)})}function BM(t){return new t({type:"any"})}function jM(t){return new t({type:"unknown"})}function VM(t,e){return new t({type:"never",...K(e)})}function zM(t,e){return new t({type:"void",...K(e)})}function GM(t,e){return new t({type:"date",...K(e)})}function qM(t,e){return new t({type:"date",coerce:!0,...K(e)})}function HM(t,e){return new t({type:"nan",...K(e)})}function Di(t,e){return new J_({check:"less_than",...K(e),value:t,inclusive:!1})}function vn(t,e){return new J_({check:"less_than",...K(e),value:t,inclusive:!0})}function Ri(t,e){return new Q_({check:"greater_than",...K(e),value:t,inclusive:!1})}function jt(t,e){return new Q_({check:"greater_than",...K(e),value:t,inclusive:!0})}function WM(t){return Ri(0,t)}function YM(t){return Di(0,t)}function KM(t){return vn(0,t)}function ZM(t){return jt(0,t)}function dc(t,e){return new Nk({check:"multiple_of",...K(e),value:t})}function ap(t,e){return new Mk({check:"max_size",...K(e),maximum:t})}function fc(t,e){return new Lk({check:"min_size",...K(e),minimum:t})}function Iv(t,e){return new Uk({check:"size_equals",...K(e),size:t})}function cp(t,e){return new Fk({check:"max_length",...K(e),maximum:t})}function ys(t,e){return new $k({check:"min_length",...K(e),minimum:t})}function up(t,e){return new Bk({check:"length_equals",...K(e),length:t})}function Cv(t,e){return new jk({check:"string_format",format:"regex",...K(e),pattern:t})}function Ov(t){return new Vk({check:"string_format",format:"lowercase",...K(t)})}function Nv(t){return new zk({check:"string_format",format:"uppercase",...K(t)})}function kv(t,e){return new Gk({check:"string_format",format:"includes",...K(e),includes:t})}function Pv(t,e){return new qk({check:"string_format",format:"starts_with",...K(e),prefix:t})}function Mv(t,e){return new Hk({check:"string_format",format:"ends_with",...K(e),suffix:t})}function XM(t,e,n){return new Wk({check:"property",property:t,schema:e,...K(n)})}function Lv(t,e){return new Yk({check:"mime_type",mime:t,...K(e)})}function Lr(t){return new Kk({check:"overwrite",tx:t})}function Uv(t){return Lr(e=>e.normalize(t))}function Fv(){return Lr(t=>t.trim())}function $v(){return Lr(t=>t.toLowerCase())}function Bv(){return Lr(t=>t.toUpperCase())}function jv(){return Lr(t=>RN(t))}function JM(t,e,n){return new t({type:"array",element:e,...K(n)})}function iG(t,e,n){return new t({type:"union",options:e,...K(n)})}function sG(t,e,n,r){return new t({type:"union",options:n,discriminator:e,...K(r)})}function oG(t,e,n){return new t({type:"intersection",left:e,right:n})}function aG(t,e,n,r){const i=n instanceof he,s=i?r:n,o=i?n:null;return new t({type:"tuple",items:e,rest:o,...K(s)})}function cG(t,e,n,r){return new t({type:"record",keyType:e,valueType:n,...K(r)})}function uG(t,e,n,r){return new t({type:"map",keyType:e,valueType:n,...K(r)})}function lG(t,e,n){return new t({type:"set",valueType:e,...K(n)})}function pG(t,e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:r,...K(n)})}function dG(t,e,n){return new t({type:"enum",entries:e,...K(n)})}function fG(t,e,n){return new t({type:"literal",values:Array.isArray(e)?e:[e],...K(n)})}function QM(t,e){return new t({type:"file",...K(e)})}function mG(t,e){return new t({type:"transform",transform:e})}function hG(t,e){return new t({type:"optional",innerType:e})}function gG(t,e){return new t({type:"nullable",innerType:e})}function _G(t,e,n){return new t({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():rp(n)}})}function vG(t,e,n){return new t({type:"nonoptional",innerType:e,...K(n)})}function EG(t,e){return new t({type:"success",innerType:e})}function SG(t,e,n){return new t({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}function bG(t,e,n){return new t({type:"pipe",in:e,out:n})}function TG(t,e){return new t({type:"readonly",innerType:e})}function yG(t,e,n){return new t({type:"template_literal",parts:e,...K(n)})}function xG(t,e){return new t({type:"lazy",getter:e})}function wG(t,e){return new t({type:"promise",innerType:e})}function eL(t,e,n){const r=K(n);return r.abort??(r.abort=!0),new t({type:"custom",check:"custom",fn:e,...r})}function tL(t,e,n){return new t({type:"custom",check:"custom",fn:e,...K(n)})}function nL(t){const e=rL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(bs(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(bs(i))}},t(n.value,n)));return e}function rL(t,e){const n=new Ze({check:"custom",...K(e)});return n._zod.check=t,n}function iL(t){const e=new Ze({check:"describe"});return e._zod.onattach=[n=>{const r=_n.get(n)??{};_n.add(n,{...r,description:t})}],e._zod.check=()=>{},e}function sL(t){const e=new Ze({check:"meta"});return e._zod.onattach=[n=>{const r=_n.get(n)??{};_n.add(n,{...r,...t})}],e._zod.check=()=>{},e}function oL(t,e){const n=K(e);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(r=r.map(f=>typeof f=="string"?f.toLowerCase():f),i=i.map(f=>typeof f=="string"?f.toLowerCase():f));const s=new Set(r),o=new Set(i),a=t.Codec??ov,c=t.Boolean??nv,u=t.String??Fc,l=new u({type:"string",error:n.error}),p=new c({type:"boolean",error:n.error}),d=new a({type:"pipe",in:l,out:p,transform:((f,m)=>{let h=f;return n.case!=="sensitive"&&(h=h.toLowerCase()),s.has(h)?!0:o.has(h)?!1:(m.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:m.value,inst:d,continue:!1}),{})}),reverseTransform:((f,m)=>f===!0?r[0]||"true":i[0]||"false"),error:n.error});return d}function $c(t,e,n,r={}){const i=K(r),s={...K(r),check:"string_format",type:"string",format:e,fn:typeof n=="function"?n:a=>n.test(a),...i};return n instanceof RegExp&&(s.pattern=n),new t(s)}class Rg{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??_n,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,a);const c=e._zod.toJSONSchema?.();if(c)a.schema=c;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path},d=e._zod.parent;if(d)a.ref=d,this.process(d,p),this.seen.get(d).isParent=!0;else{const f=a.schema;switch(i.type){case"string":{const m=f;m.type="string";const{minimum:h,maximum:g,format:_,patterns:S,contentEncoding:v}=e._zod.bag;if(typeof h=="number"&&(m.minLength=h),typeof g=="number"&&(m.maxLength=g),_&&(m.format=s[_]??_,m.format===""&&delete m.format),v&&(m.contentEncoding=v),S&&S.size>0){const T=[...S];T.length===1?m.pattern=T[0].source:T.length>1&&(a.schema.allOf=[...T.map(y=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:y.source}))])}break}case"number":{const m=f,{minimum:h,maximum:g,format:_,multipleOf:S,exclusiveMaximum:v,exclusiveMinimum:T}=e._zod.bag;typeof _=="string"&&_.includes("int")?m.type="integer":m.type="number",typeof T=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.minimum=T,m.exclusiveMinimum=!0):m.exclusiveMinimum=T),typeof h=="number"&&(m.minimum=h,typeof T=="number"&&this.target!=="draft-4"&&(T>=h?delete m.minimum:delete m.exclusiveMinimum)),typeof v=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.maximum=v,m.exclusiveMaximum=!0):m.exclusiveMaximum=v),typeof g=="number"&&(m.maximum=g,typeof v=="number"&&this.target!=="draft-4"&&(v<=g?delete m.maximum:delete m.exclusiveMaximum)),typeof S=="number"&&(m.multipleOf=S);break}case"boolean":{const m=f;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(f.type="string",f.nullable=!0,f.enum=[null]):f.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{f.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const m=f,{minimum:h,maximum:g}=e._zod.bag;typeof h=="number"&&(m.minItems=h),typeof g=="number"&&(m.maxItems=g),m.type="array",m.items=this.process(i.element,{...p,path:[...p.path,"items"]});break}case"object":{const m=f;m.type="object",m.properties={};const h=i.shape;for(const S in h)m.properties[S]=this.process(h[S],{...p,path:[...p.path,"properties",S]});const g=new Set(Object.keys(h)),_=new Set([...g].filter(S=>{const v=i.shape[S]._zod;return this.io==="input"?v.optin===void 0:v.optout===void 0}));_.size>0&&(m.required=Array.from(_)),i.catchall?._zod.def.type==="never"?m.additionalProperties=!1:i.catchall?i.catchall&&(m.additionalProperties=this.process(i.catchall,{...p,path:[...p.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{const m=f,h=i.discriminator!==void 0,g=i.options.map((_,S)=>this.process(_,{...p,path:[...p.path,h?"oneOf":"anyOf",S]}));h?m.oneOf=g:m.anyOf=g;break}case"intersection":{const m=f,h=this.process(i.left,{...p,path:[...p.path,"allOf",0]}),g=this.process(i.right,{...p,path:[...p.path,"allOf",1]}),_=v=>"allOf"in v&&Object.keys(v).length===1,S=[..._(h)?h.allOf:[h],..._(g)?g.allOf:[g]];m.allOf=S;break}case"tuple":{const m=f;m.type="array";const h=this.target==="draft-2020-12"?"prefixItems":"items",g=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",_=i.items.map((y,b)=>this.process(y,{...p,path:[...p.path,h,b]})),S=i.rest?this.process(i.rest,{...p,path:[...p.path,g,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(m.prefixItems=_,S&&(m.items=S)):this.target==="openapi-3.0"?(m.items={anyOf:_},S&&m.items.anyOf.push(S),m.minItems=_.length,S||(m.maxItems=_.length)):(m.items=_,S&&(m.additionalItems=S));const{minimum:v,maximum:T}=e._zod.bag;typeof v=="number"&&(m.minItems=v),typeof T=="number"&&(m.maxItems=T);break}case"record":{const m=f;m.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(m.propertyNames=this.process(i.keyType,{...p,path:[...p.path,"propertyNames"]})),m.additionalProperties=this.process(i.valueType,{...p,path:[...p.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const m=f,h=U_(i.entries);h.every(g=>typeof g=="number")&&(m.type="number"),h.every(g=>typeof g=="string")&&(m.type="string"),m.enum=h;break}case"literal":{const m=f,h=[];for(const g of i.values)if(g===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof g=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");h.push(Number(g))}else h.push(g);if(h.length!==0)if(h.length===1){const g=h[0];m.type=g===null?"null":typeof g,this.target==="draft-4"||this.target==="openapi-3.0"?m.enum=[g]:m.const=g}else h.every(g=>typeof g=="number")&&(m.type="number"),h.every(g=>typeof g=="string")&&(m.type="string"),h.every(g=>typeof g=="boolean")&&(m.type="string"),h.every(g=>g===null)&&(m.type="null"),m.enum=h;break}case"file":{const m=f,h={type:"string",format:"binary",contentEncoding:"binary"},{minimum:g,maximum:_,mime:S}=e._zod.bag;g!==void 0&&(h.minLength=g),_!==void 0&&(h.maxLength=_),S?S.length===1?(h.contentMediaType=S[0],Object.assign(m,h)):m.anyOf=S.map(v=>({...h,contentMediaType:v})):Object.assign(m,h);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const m=this.process(i.innerType,p);this.target==="openapi-3.0"?(a.ref=i.innerType,f.nullable=!0):f.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,p),a.ref=i.innerType;break}case"success":{const m=f;m.type="boolean";break}case"default":{this.process(i.innerType,p),a.ref=i.innerType,f.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,p),a.ref=i.innerType,this.io==="input"&&(f._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,p),a.ref=i.innerType;let m;try{m=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}f.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const m=f,h=e._zod.pattern;if(!h)throw new Error("Pattern not found in template literal");m.type="string",m.pattern=h.source;break}case"pipe":{const m=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(m,p),a.ref=m;break}case"readonly":{this.process(i.innerType,p),a.ref=i.innerType,f.readOnly=!0;break}case"promise":{this.process(i.innerType,p),a.ref=i.innerType;break}case"optional":{this.process(i.innerType,p),a.ref=i.innerType;break}case"lazy":{const m=e._zod.innerType;this.process(m,p),a.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const u=this.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),this.io==="input"&&xt(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,n){const r={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=l=>{const p=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const h=r.external.registry.get(l[0])?.id,g=r.external.uri??(S=>S);if(h)return{ref:g(h)};const _=l[1].defId??l[1].schema.id??`schema${this.counter++}`;return l[1].defId=_,{defId:_,ref:`${g("__shared")}#/${p}/${_}`}}if(l[1]===i)return{ref:"#"};const f=`#/${p}/`,m=l[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:f+m}},o=l=>{if(l[1].schema.$ref)return;const p=l[1],{ref:d,defId:f}=s(l);p.def={...p.schema},f&&(p.defId=f);const m=p.schema;for(const h in m)delete m[h];m.$ref=d};if(r.cycles==="throw")for(const l of this.seen.entries()){const p=l[1];if(p.cycle)throw new Error(`Cycle detected: #/${p.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of this.seen.entries()){const p=l[1];if(e===l[0]){o(l);continue}if(r.external){const f=r.external.registry.get(l[0])?.id;if(e!==l[0]&&f){o(l);continue}}if(this.metadataRegistry.get(l[0])?.id){o(l);continue}if(p.cycle){o(l);continue}if(p.count>1&&r.reused==="ref"){o(l);continue}}const a=(l,p)=>{const d=this.seen.get(l),f=d.def??d.schema,m={...f};if(d.ref===null)return;const h=d.ref;if(d.ref=null,h){a(h,p);const g=this.seen.get(h).schema;g.$ref&&(p.target==="draft-7"||p.target==="draft-4"||p.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(g)):(Object.assign(f,g),Object.assign(f,m))}d.isParent||this.override({zodSchema:l,jsonSchema:f,path:d.path??[]})};for(const l of[...this.seen.entries()].reverse())a(l[0],{target:this.target});const c={};if(this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?c.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),r.external?.uri){const l=r.external.registry.get(e)?.id;if(!l)throw new Error("Schema is missing an `id` property");c.$id=r.external.uri(l)}Object.assign(c,i.def);const u=r.external?.defs??{};for(const l of this.seen.entries()){const p=l[1];p.def&&p.defId&&(u[p.defId]=p.def)}r.external||Object.keys(u).length>0&&(this.target==="draft-2020-12"?c.$defs=u:c.definitions=u);try{return JSON.parse(JSON.stringify(c))}catch{throw new Error("Error converting schema to JSON.")}}}function aL(t,e){if(t instanceof av){const r=new Rg(e),i={};for(const a of t._idmap.entries()){const[c,u]=a;r.process(u)}const s={},o={registry:t,uri:e?.uri,defs:i};for(const a of t._idmap.entries()){const[c,u]=a;s[c]=r.emit(u,{...e,external:o})}if(Object.keys(i).length>0){const a=r.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[a]:i}}return{schemas:s}}const n=new Rg(e);return n.process(t),n.emit(t,e)}function xt(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return xt(r.element,n);if(r.type==="set")return xt(r.valueType,n);if(r.type==="lazy")return xt(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return xt(r.innerType,n);if(r.type==="intersection")return xt(r.left,n)||xt(r.right,n);if(r.type==="record"||r.type==="map")return xt(r.keyType,n)||xt(r.valueType,n);if(r.type==="pipe")return xt(r.in,n)||xt(r.out,n);if(r.type==="object"){for(const i in r.shape)if(xt(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(xt(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(xt(i,n))return!0;return!!(r.rest&&xt(r.rest,n))}return!1}const AG=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),DG=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:CP,$ZodArray:MP,$ZodAsyncError:Ti,$ZodBase64:vP,$ZodBase64URL:SP,$ZodBigInt:rv,$ZodBigIntFormat:AP,$ZodBoolean:nv,$ZodCIDRv4:gP,$ZodCIDRv6:_P,$ZodCUID:iP,$ZodCUID2:sP,$ZodCatch:tM,$ZodCheck:Ze,$ZodCheckBigIntFormat:Pk,$ZodCheckEndsWith:Hk,$ZodCheckGreaterThan:Q_,$ZodCheckIncludes:Gk,$ZodCheckLengthEquals:Bk,$ZodCheckLessThan:J_,$ZodCheckLowerCase:Vk,$ZodCheckMaxLength:Fk,$ZodCheckMaxSize:Mk,$ZodCheckMimeType:Yk,$ZodCheckMinLength:$k,$ZodCheckMinSize:Lk,$ZodCheckMultipleOf:Nk,$ZodCheckNumberFormat:kk,$ZodCheckOverwrite:Kk,$ZodCheckProperty:Wk,$ZodCheckRegex:jk,$ZodCheckSizeEquals:Uk,$ZodCheckStartsWith:qk,$ZodCheckStringFormat:Uc,$ZodCheckUpperCase:zk,$ZodCodec:ov,$ZodCustom:uM,$ZodCustomStringFormat:xP,$ZodDate:PP,$ZodDefault:XP,$ZodDiscriminatedUnion:BP,$ZodE164:bP,$ZodEmail:eP,$ZodEmoji:nP,$ZodEncodeError:tp,$ZodEnum:qP,$ZodError:$_,$ZodFile:WP,$ZodFunction:oM,$ZodGUID:Jk,$ZodIPv4:fP,$ZodIPv6:mP,$ZodISODate:lP,$ZodISODateTime:uP,$ZodISODuration:dP,$ZodISOTime:pP,$ZodIntersection:jP,$ZodJWT:yP,$ZodKSUID:cP,$ZodLazy:cM,$ZodLiteral:HP,$ZodMAC:hP,$ZodMap:zP,$ZodNaN:nM,$ZodNanoID:rP,$ZodNever:NP,$ZodNonOptional:QP,$ZodNull:IP,$ZodNullable:ZP,$ZodNumber:tv,$ZodNumberFormat:wP,$ZodObject:FP,$ZodObjectJIT:$P,$ZodOptional:KP,$ZodPipe:rM,$ZodPrefault:JP,$ZodPromise:aM,$ZodReadonly:iM,$ZodRealError:Wt,$ZodRecord:VP,$ZodRegistry:av,$ZodSet:GP,$ZodString:Fc,$ZodStringFormat:ze,$ZodSuccess:eM,$ZodSymbol:DP,$ZodTemplateLiteral:sM,$ZodTransform:YP,$ZodTuple:sv,$ZodType:he,$ZodULID:oP,$ZodURL:tP,$ZodUUID:Qk,$ZodUndefined:RP,$ZodUnion:iv,$ZodUnknown:OP,$ZodVoid:kP,$ZodXID:aP,$brand:AN,$constructor:P,$input:hM,$output:mM,Doc:Zk,JSONSchema:AG,JSONSchemaGenerator:Rg,NEVER:wN,TimePrecision:EM,_any:BM,_array:JM,_base64:wv,_base64url:Av,_bigint:kM,_boolean:OM,_catch:SG,_check:rL,_cidrv4:yv,_cidrv6:xv,_coercedBigint:PM,_coercedBoolean:NM,_coercedDate:qM,_coercedNumber:wM,_coercedString:_M,_cuid:gv,_cuid2:_v,_custom:eL,_date:GM,_decode:z_,_decodeAsync:q_,_default:_G,_discriminatedUnion:sG,_e164:Dv,_email:uv,_emoji:mv,_encode:V_,_encodeAsync:G_,_endsWith:Mv,_enum:pG,_file:QM,_float32:DM,_float64:RM,_gt:Ri,_gte:jt,_guid:ll,_includes:kv,_int:AM,_int32:IM,_int64:MM,_intersection:oG,_ipv4:bv,_ipv6:Tv,_isoDate:bM,_isoDateTime:SM,_isoDuration:yM,_isoTime:TM,_jwt:Rv,_ksuid:Sv,_lazy:xG,_length:up,_literal:fG,_lowercase:Ov,_lt:Di,_lte:vn,_mac:vM,_map:uG,_max:vn,_maxLength:cp,_maxSize:ap,_mime:Lv,_min:jt,_minLength:ys,_minSize:fc,_multipleOf:dc,_nan:HM,_nanoid:hv,_nativeEnum:dG,_negative:YM,_never:VM,_nonnegative:ZM,_nonoptional:vG,_nonpositive:KM,_normalize:Uv,_null:$M,_nullable:gG,_number:xM,_optional:hG,_overwrite:Lr,_parse:Oc,_parseAsync:Nc,_pipe:bG,_positive:WM,_promise:wG,_property:XM,_readonly:TG,_record:cG,_refine:tL,_regex:Cv,_safeDecode:W_,_safeDecodeAsync:K_,_safeEncode:H_,_safeEncodeAsync:Y_,_safeParse:kc,_safeParseAsync:Pc,_set:lG,_size:Iv,_slugify:jv,_startsWith:Pv,_string:gM,_stringFormat:$c,_stringbool:oL,_success:EG,_superRefine:nL,_symbol:UM,_templateLiteral:yG,_toLowerCase:$v,_toUpperCase:Bv,_transform:mG,_trim:Fv,_tuple:aG,_uint32:CM,_uint64:LM,_ulid:vv,_undefined:FM,_union:iG,_unknown:jM,_uppercase:Nv,_url:op,_uuid:lv,_uuidv4:pv,_uuidv6:dv,_uuidv7:fv,_void:zM,_xid:Ev,clone:tn,config:Ot,decode:$2,decodeAsync:j2,describe:iL,encode:F2,encodeAsync:B2,flattenError:B_,formatError:j_,globalConfig:ol,globalRegistry:_n,isValidBase64:ev,isValidBase64URL:EP,isValidJWT:TP,locales:fM,meta:sL,parse:wg,parseAsync:Ag,prettifyError:WN,regexes:X_,registry:cv,safeDecode:z2,safeDecodeAsync:q2,safeEncode:V2,safeEncodeAsync:G2,safeParse:YN,safeParseAsync:KN,toDotPath:HN,toJSONSchema:aL,treeifyError:qN,util:zN,version:Xk},Symbol.toStringTag,{value:"Module"})),Vv=P("ZodISODateTime",(t,e)=>{uP.init(t,e),Ge.init(t,e)});function cL(t){return SM(Vv,t)}const zv=P("ZodISODate",(t,e)=>{lP.init(t,e),Ge.init(t,e)});function uL(t){return bM(zv,t)}const Gv=P("ZodISOTime",(t,e)=>{pP.init(t,e),Ge.init(t,e)});function lL(t){return TM(Gv,t)}const qv=P("ZodISODuration",(t,e)=>{dP.init(t,e),Ge.init(t,e)});function pL(t){return yM(qv,t)}const RG=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:zv,ZodISODateTime:Vv,ZodISODuration:qv,ZodISOTime:Gv,date:uL,datetime:cL,duration:pL,time:lL},Symbol.toStringTag,{value:"Module"})),dL=(t,e)=>{$_.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>j_(t,n)},flatten:{value:n=>B_(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,al,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,al,2)}},isEmpty:{get(){return t.issues.length===0}}})},IG=P("ZodError",dL),Yt=P("ZodError",dL,{Parent:Error}),fL=Oc(Yt),mL=Nc(Yt),hL=kc(Yt),gL=Pc(Yt),_L=V_(Yt),vL=z_(Yt),EL=G_(Yt),SL=q_(Yt),bL=H_(Yt),TL=W_(Yt),yL=Y_(Yt),xL=K_(Yt),Ee=P("ZodType",(t,e)=>(he.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(mr(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>tn(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>fL(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>hL(t,n,r),t.parseAsync=async(n,r)=>mL(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>gL(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>_L(t,n,r),t.decode=(n,r)=>vL(t,n,r),t.encodeAsync=async(n,r)=>EL(t,n,r),t.decodeAsync=async(n,r)=>SL(t,n,r),t.safeEncode=(n,r)=>bL(t,n,r),t.safeDecode=(n,r)=>TL(t,n,r),t.safeEncodeAsync=async(n,r)=>yL(t,n,r),t.safeDecodeAsync=async(n,r)=>xL(t,n,r),t.refine=(n,r)=>t.check(pU(n,r)),t.superRefine=n=>t.check(dU(n)),t.overwrite=n=>t.check(Lr(n)),t.optional=()=>dl(t),t.nullable=()=>fl(t),t.nullish=()=>dl(fl(t)),t.nonoptional=n=>QL(t,n),t.array=()=>$i(t),t.or=n=>fE([t,n]),t.and=n=>FL(t,n),t.transform=n=>ml(t,hE(n)),t.default=n=>ZL(t,n),t.prefault=n=>JL(t,n),t.catch=n=>nU(t,n),t.pipe=n=>ml(t,n),t.readonly=()=>sU(t),t.describe=n=>{const r=t.clone();return _n.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return _n.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return _n.get(t);const r=t.clone();return _n.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Hv=P("_ZodString",(t,e)=>{Fc.init(t,e),Ee.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(Cv(...r)),t.includes=(...r)=>t.check(kv(...r)),t.startsWith=(...r)=>t.check(Pv(...r)),t.endsWith=(...r)=>t.check(Mv(...r)),t.min=(...r)=>t.check(ys(...r)),t.max=(...r)=>t.check(cp(...r)),t.length=(...r)=>t.check(up(...r)),t.nonempty=(...r)=>t.check(ys(1,...r)),t.lowercase=r=>t.check(Ov(r)),t.uppercase=r=>t.check(Nv(r)),t.trim=()=>t.check(Fv()),t.normalize=(...r)=>t.check(Uv(...r)),t.toLowerCase=()=>t.check($v()),t.toUpperCase=()=>t.check(Bv()),t.slugify=()=>t.check(jv())}),lp=P("ZodString",(t,e)=>{Fc.init(t,e),Hv.init(t,e),t.email=n=>t.check(uv(Wv,n)),t.url=n=>t.check(op(pp,n)),t.jwt=n=>t.check(Rv(cE,n)),t.emoji=n=>t.check(mv(Yv,n)),t.guid=n=>t.check(ll(pl,n)),t.uuid=n=>t.check(lv(rr,n)),t.uuidv4=n=>t.check(pv(rr,n)),t.uuidv6=n=>t.check(dv(rr,n)),t.uuidv7=n=>t.check(fv(rr,n)),t.nanoid=n=>t.check(hv(Kv,n)),t.guid=n=>t.check(ll(pl,n)),t.cuid=n=>t.check(gv(Zv,n)),t.cuid2=n=>t.check(_v(Xv,n)),t.ulid=n=>t.check(vv(Jv,n)),t.base64=n=>t.check(wv(sE,n)),t.base64url=n=>t.check(Av(oE,n)),t.xid=n=>t.check(Ev(Qv,n)),t.ksuid=n=>t.check(Sv(eE,n)),t.ipv4=n=>t.check(bv(tE,n)),t.ipv6=n=>t.check(Tv(nE,n)),t.cidrv4=n=>t.check(yv(rE,n)),t.cidrv6=n=>t.check(xv(iE,n)),t.e164=n=>t.check(Dv(aE,n)),t.datetime=n=>t.check(cL(n)),t.date=n=>t.check(uL(n)),t.time=n=>t.check(lL(n)),t.duration=n=>t.check(pL(n))});function at(t){return gM(lp,t)}const Ge=P("ZodStringFormat",(t,e)=>{ze.init(t,e),Hv.init(t,e)}),Wv=P("ZodEmail",(t,e)=>{eP.init(t,e),Ge.init(t,e)});function CG(t){return uv(Wv,t)}const pl=P("ZodGUID",(t,e)=>{Jk.init(t,e),Ge.init(t,e)});function OG(t){return ll(pl,t)}const rr=P("ZodUUID",(t,e)=>{Qk.init(t,e),Ge.init(t,e)});function NG(t){return lv(rr,t)}function kG(t){return pv(rr,t)}function PG(t){return dv(rr,t)}function MG(t){return fv(rr,t)}const pp=P("ZodURL",(t,e)=>{tP.init(t,e),Ge.init(t,e)});function LG(t){return op(pp,t)}function UG(t){return op(pp,{protocol:/^https?$/,hostname:mk,...K(t)})}const Yv=P("ZodEmoji",(t,e)=>{nP.init(t,e),Ge.init(t,e)});function FG(t){return mv(Yv,t)}const Kv=P("ZodNanoID",(t,e)=>{rP.init(t,e),Ge.init(t,e)});function $G(t){return hv(Kv,t)}const Zv=P("ZodCUID",(t,e)=>{iP.init(t,e),Ge.init(t,e)});function BG(t){return gv(Zv,t)}const Xv=P("ZodCUID2",(t,e)=>{sP.init(t,e),Ge.init(t,e)});function jG(t){return _v(Xv,t)}const Jv=P("ZodULID",(t,e)=>{oP.init(t,e),Ge.init(t,e)});function VG(t){return vv(Jv,t)}const Qv=P("ZodXID",(t,e)=>{aP.init(t,e),Ge.init(t,e)});function zG(t){return Ev(Qv,t)}const eE=P("ZodKSUID",(t,e)=>{cP.init(t,e),Ge.init(t,e)});function GG(t){return Sv(eE,t)}const tE=P("ZodIPv4",(t,e)=>{fP.init(t,e),Ge.init(t,e)});function qG(t){return bv(tE,t)}const wL=P("ZodMAC",(t,e)=>{hP.init(t,e),Ge.init(t,e)});function HG(t){return vM(wL,t)}const nE=P("ZodIPv6",(t,e)=>{mP.init(t,e),Ge.init(t,e)});function WG(t){return Tv(nE,t)}const rE=P("ZodCIDRv4",(t,e)=>{gP.init(t,e),Ge.init(t,e)});function YG(t){return yv(rE,t)}const iE=P("ZodCIDRv6",(t,e)=>{_P.init(t,e),Ge.init(t,e)});function KG(t){return xv(iE,t)}const sE=P("ZodBase64",(t,e)=>{vP.init(t,e),Ge.init(t,e)});function ZG(t){return wv(sE,t)}const oE=P("ZodBase64URL",(t,e)=>{SP.init(t,e),Ge.init(t,e)});function XG(t){return Av(oE,t)}const aE=P("ZodE164",(t,e)=>{bP.init(t,e),Ge.init(t,e)});function JG(t){return Dv(aE,t)}const cE=P("ZodJWT",(t,e)=>{yP.init(t,e),Ge.init(t,e)});function QG(t){return Rv(cE,t)}const Bc=P("ZodCustomStringFormat",(t,e)=>{xP.init(t,e),Ge.init(t,e)});function eq(t,e,n={}){return $c(Bc,t,e,n)}function tq(t){return $c(Bc,"hostname",fk,t)}function nq(t){return $c(Bc,"hex",Ck,t)}function rq(t,e){const n=e?.enc??"hex",r=`${t}_${n}`,i=X_[r];if(!i)throw new Error(`Unrecognized hash format: ${r}`);return $c(Bc,r,i,e)}const dp=P("ZodNumber",(t,e)=>{tv.init(t,e),Ee.init(t,e),t.gt=(r,i)=>t.check(Ri(r,i)),t.gte=(r,i)=>t.check(jt(r,i)),t.min=(r,i)=>t.check(jt(r,i)),t.lt=(r,i)=>t.check(Di(r,i)),t.lte=(r,i)=>t.check(vn(r,i)),t.max=(r,i)=>t.check(vn(r,i)),t.int=r=>t.check(Ig(r)),t.safe=r=>t.check(Ig(r)),t.positive=r=>t.check(Ri(0,r)),t.nonnegative=r=>t.check(jt(0,r)),t.negative=r=>t.check(Di(0,r)),t.nonpositive=r=>t.check(vn(0,r)),t.multipleOf=(r,i)=>t.check(dc(r,i)),t.step=(r,i)=>t.check(dc(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function yi(t){return xM(dp,t)}const Ms=P("ZodNumberFormat",(t,e)=>{wP.init(t,e),dp.init(t,e)});function Ig(t){return AM(Ms,t)}function iq(t){return DM(Ms,t)}function sq(t){return RM(Ms,t)}function oq(t){return IM(Ms,t)}function aq(t){return CM(Ms,t)}const fp=P("ZodBoolean",(t,e)=>{nv.init(t,e),Ee.init(t,e)});function AL(t){return OM(fp,t)}const mp=P("ZodBigInt",(t,e)=>{rv.init(t,e),Ee.init(t,e),t.gte=(r,i)=>t.check(jt(r,i)),t.min=(r,i)=>t.check(jt(r,i)),t.gt=(r,i)=>t.check(Ri(r,i)),t.gte=(r,i)=>t.check(jt(r,i)),t.min=(r,i)=>t.check(jt(r,i)),t.lt=(r,i)=>t.check(Di(r,i)),t.lte=(r,i)=>t.check(vn(r,i)),t.max=(r,i)=>t.check(vn(r,i)),t.positive=r=>t.check(Ri(BigInt(0),r)),t.negative=r=>t.check(Di(BigInt(0),r)),t.nonpositive=r=>t.check(vn(BigInt(0),r)),t.nonnegative=r=>t.check(jt(BigInt(0),r)),t.multipleOf=(r,i)=>t.check(dc(r,i));const n=t._zod.bag;t.minValue=n.minimum??null,t.maxValue=n.maximum??null,t.format=n.format??null});function cq(t){return kM(mp,t)}const uE=P("ZodBigIntFormat",(t,e)=>{AP.init(t,e),mp.init(t,e)});function uq(t){return MM(uE,t)}function lq(t){return LM(uE,t)}const DL=P("ZodSymbol",(t,e)=>{DP.init(t,e),Ee.init(t,e)});function pq(t){return UM(DL,t)}const RL=P("ZodUndefined",(t,e)=>{RP.init(t,e),Ee.init(t,e)});function dq(t){return FM(RL,t)}const IL=P("ZodNull",(t,e)=>{IP.init(t,e),Ee.init(t,e)});function CL(t){return $M(IL,t)}const OL=P("ZodAny",(t,e)=>{CP.init(t,e),Ee.init(t,e)});function fq(){return BM(OL)}const NL=P("ZodUnknown",(t,e)=>{OP.init(t,e),Ee.init(t,e)});function xs(){return jM(NL)}const kL=P("ZodNever",(t,e)=>{NP.init(t,e),Ee.init(t,e)});function lE(t){return VM(kL,t)}const PL=P("ZodVoid",(t,e)=>{kP.init(t,e),Ee.init(t,e)});function mq(t){return zM(PL,t)}const pE=P("ZodDate",(t,e)=>{PP.init(t,e),Ee.init(t,e),t.min=(r,i)=>t.check(jt(r,i)),t.max=(r,i)=>t.check(vn(r,i));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function hq(t){return GM(pE,t)}const ML=P("ZodArray",(t,e)=>{MP.init(t,e),Ee.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(ys(n,r)),t.nonempty=n=>t.check(ys(1,n)),t.max=(n,r)=>t.check(cp(n,r)),t.length=(n,r)=>t.check(up(n,r)),t.unwrap=()=>t.element});function $i(t,e){return JM(ML,t,e)}function gq(t){const e=t._zod.def.shape;return Ii(Object.keys(e))}const hp=P("ZodObject",(t,e)=>{$P.init(t,e),Ee.init(t,e),Te(t,"shape",()=>e.shape),t.keyof=()=>Ii(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:xs()}),t.loose=()=>t.clone({...t._zod.def,catchall:xs()}),t.strict=()=>t.clone({...t._zod.def,catchall:lE()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>LN(t,n),t.safeExtend=n=>UN(t,n),t.merge=n=>FN(t,n),t.pick=n=>PN(t,n),t.omit=n=>MN(t,n),t.partial=(...n)=>$N(gE,t,n[0]),t.required=(...n)=>BN(_E,t,n[0])});function zn(t,e){const n={type:"object",shape:t??{},...K(e)};return new hp(n)}function _q(t,e){return new hp({type:"object",shape:t,catchall:lE(),...K(e)})}function vq(t,e){return new hp({type:"object",shape:t,catchall:xs(),...K(e)})}const dE=P("ZodUnion",(t,e)=>{iv.init(t,e),Ee.init(t,e),t.options=e.options});function fE(t,e){return new dE({type:"union",options:t,...K(e)})}const LL=P("ZodDiscriminatedUnion",(t,e)=>{dE.init(t,e),BP.init(t,e)});function Eq(t,e,n){return new LL({type:"union",options:e,discriminator:t,...K(n)})}const UL=P("ZodIntersection",(t,e)=>{jP.init(t,e),Ee.init(t,e)});function FL(t,e){return new UL({type:"intersection",left:t,right:e})}const $L=P("ZodTuple",(t,e)=>{sv.init(t,e),Ee.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function BL(t,e,n){const r=e instanceof he,i=r?n:e,s=r?e:null;return new $L({type:"tuple",items:t,rest:s,...K(i)})}const mE=P("ZodRecord",(t,e)=>{VP.init(t,e),Ee.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function jL(t,e,n){return new mE({type:"record",keyType:t,valueType:e,...K(n)})}function Sq(t,e,n){const r=tn(t);return r._zod.values=void 0,new mE({type:"record",keyType:r,valueType:e,...K(n)})}const VL=P("ZodMap",(t,e)=>{zP.init(t,e),Ee.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function bq(t,e,n){return new VL({type:"map",keyType:t,valueType:e,...K(n)})}const zL=P("ZodSet",(t,e)=>{GP.init(t,e),Ee.init(t,e),t.min=(...n)=>t.check(fc(...n)),t.nonempty=n=>t.check(fc(1,n)),t.max=(...n)=>t.check(ap(...n)),t.size=(...n)=>t.check(Iv(...n))});function Tq(t,e){return new zL({type:"set",valueType:t,...K(e)})}const mc=P("ZodEnum",(t,e)=>{qP.init(t,e),Ee.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new mc({...e,checks:[],...K(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new mc({...e,checks:[],...K(i),entries:s})}});function Ii(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new mc({type:"enum",entries:n,...K(e)})}function yq(t,e){return new mc({type:"enum",entries:t,...K(e)})}const GL=P("ZodLiteral",(t,e)=>{HP.init(t,e),Ee.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function qL(t,e){return new GL({type:"literal",values:Array.isArray(t)?t:[t],...K(e)})}const HL=P("ZodFile",(t,e)=>{WP.init(t,e),Ee.init(t,e),t.min=(n,r)=>t.check(fc(n,r)),t.max=(n,r)=>t.check(ap(n,r)),t.mime=(n,r)=>t.check(Lv(Array.isArray(n)?n:[n],r))});function xq(t){return QM(HL,t)}const WL=P("ZodTransform",(t,e)=>{YP.init(t,e),Ee.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new tp(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(bs(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(bs(o))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function hE(t){return new WL({type:"transform",transform:t})}const gE=P("ZodOptional",(t,e)=>{KP.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function dl(t){return new gE({type:"optional",innerType:t})}const YL=P("ZodNullable",(t,e)=>{ZP.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function fl(t){return new YL({type:"nullable",innerType:t})}function wq(t){return dl(fl(t))}const KL=P("ZodDefault",(t,e)=>{XP.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function ZL(t,e){return new KL({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():rp(e)}})}const XL=P("ZodPrefault",(t,e)=>{JP.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function JL(t,e){return new XL({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():rp(e)}})}const _E=P("ZodNonOptional",(t,e)=>{QP.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function QL(t,e){return new _E({type:"nonoptional",innerType:t,...K(e)})}const eU=P("ZodSuccess",(t,e)=>{eM.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Aq(t){return new eU({type:"success",innerType:t})}const tU=P("ZodCatch",(t,e)=>{tM.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function nU(t,e){return new tU({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const rU=P("ZodNaN",(t,e)=>{nM.init(t,e),Ee.init(t,e)});function Dq(t){return HM(rU,t)}const vE=P("ZodPipe",(t,e)=>{rM.init(t,e),Ee.init(t,e),t.in=e.in,t.out=e.out});function ml(t,e){return new vE({type:"pipe",in:t,out:e})}const EE=P("ZodCodec",(t,e)=>{vE.init(t,e),ov.init(t,e)});function Rq(t,e,n){return new EE({type:"pipe",in:t,out:e,transform:n.decode,reverseTransform:n.encode})}const iU=P("ZodReadonly",(t,e)=>{iM.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function sU(t){return new iU({type:"readonly",innerType:t})}const oU=P("ZodTemplateLiteral",(t,e)=>{sM.init(t,e),Ee.init(t,e)});function Iq(t,e){return new oU({type:"template_literal",parts:t,...K(e)})}const aU=P("ZodLazy",(t,e)=>{cM.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.getter()});function cU(t){return new aU({type:"lazy",getter:t})}const uU=P("ZodPromise",(t,e)=>{aM.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Cq(t){return new uU({type:"promise",innerType:t})}const lU=P("ZodFunction",(t,e)=>{oM.init(t,e),Ee.init(t,e)});function Yy(t){return new lU({type:"function",input:Array.isArray(t?.input)?BL(t?.input):t?.input??$i(xs()),output:t?.output??xs()})}const gp=P("ZodCustom",(t,e)=>{uM.init(t,e),Ee.init(t,e)});function Oq(t){const e=new Ze({check:"custom"});return e._zod.check=t,e}function Nq(t,e){return eL(gp,t??(()=>!0),e)}function pU(t,e={}){return tL(gp,t,e)}function dU(t){return nL(t)}const kq=iL,Pq=sL;function Mq(t,e={error:`Input not instance of ${t.name}`}){const n=new gp({type:"custom",check:"custom",fn:r=>r instanceof t,abort:!0,...K(e)});return n._zod.bag.Class=t,n}const Lq=(...t)=>oL({Codec:EE,Boolean:fp,String:lp},...t);function Uq(t){const e=cU(()=>fE([at(t),yi(),AL(),CL(),$i(e),jL(at(),e)]));return e}function Fq(t,e){return ml(hE(t),e)}const $q={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Bq(t){Ot({customError:t})}function jq(){return Ot().customError}var Cg;Cg||(Cg={});function Vq(t){return _M(lp,t)}function zq(t){return wM(dp,t)}function Gq(t){return NM(fp,t)}function qq(t){return PM(mp,t)}function Hq(t){return qM(pE,t)}const Wq=Object.freeze(Object.defineProperty({__proto__:null,bigint:qq,boolean:Gq,date:Hq,number:zq,string:Vq},Symbol.toStringTag,{value:"Module"}));Ot(lM());const Xt=Object.freeze(Object.defineProperty({__proto__:null,$brand:AN,$input:hM,$output:mM,NEVER:wN,TimePrecision:EM,ZodAny:OL,ZodArray:ML,ZodBase64:sE,ZodBase64URL:oE,ZodBigInt:mp,ZodBigIntFormat:uE,ZodBoolean:fp,ZodCIDRv4:rE,ZodCIDRv6:iE,ZodCUID:Zv,ZodCUID2:Xv,ZodCatch:tU,ZodCodec:EE,ZodCustom:gp,ZodCustomStringFormat:Bc,ZodDate:pE,ZodDefault:KL,ZodDiscriminatedUnion:LL,ZodE164:aE,ZodEmail:Wv,ZodEmoji:Yv,ZodEnum:mc,ZodError:IG,ZodFile:HL,get ZodFirstPartyTypeKind(){return Cg},ZodFunction:lU,ZodGUID:pl,ZodIPv4:tE,ZodIPv6:nE,ZodISODate:zv,ZodISODateTime:Vv,ZodISODuration:qv,ZodISOTime:Gv,ZodIntersection:UL,ZodIssueCode:$q,ZodJWT:cE,ZodKSUID:eE,ZodLazy:aU,ZodLiteral:GL,ZodMAC:wL,ZodMap:VL,ZodNaN:rU,ZodNanoID:Kv,ZodNever:kL,ZodNonOptional:_E,ZodNull:IL,ZodNullable:YL,ZodNumber:dp,ZodNumberFormat:Ms,ZodObject:hp,ZodOptional:gE,ZodPipe:vE,ZodPrefault:XL,ZodPromise:uU,ZodReadonly:iU,ZodRealError:Yt,ZodRecord:mE,ZodSet:zL,ZodString:lp,ZodStringFormat:Ge,ZodSuccess:eU,ZodSymbol:DL,ZodTemplateLiteral:oU,ZodTransform:WL,ZodTuple:$L,ZodType:Ee,ZodULID:Jv,ZodURL:pp,ZodUUID:rr,ZodUndefined:RL,ZodUnion:dE,ZodUnknown:NL,ZodVoid:PL,ZodXID:Qv,_ZodString:Hv,_default:ZL,_function:Yy,any:fq,array:$i,base64:ZG,base64url:XG,bigint:cq,boolean:AL,catch:nU,check:Oq,cidrv4:YG,cidrv6:KG,clone:tn,codec:Rq,coerce:Wq,config:Ot,core:DG,cuid:BG,cuid2:jG,custom:Nq,date:hq,decode:vL,decodeAsync:SL,describe:kq,discriminatedUnion:Eq,e164:JG,email:CG,emoji:FG,encode:_L,encodeAsync:EL,endsWith:Mv,enum:Ii,file:xq,flattenError:B_,float32:iq,float64:sq,formatError:j_,function:Yy,getErrorMap:jq,globalRegistry:_n,gt:Ri,gte:jt,guid:OG,hash:rq,hex:nq,hostname:tq,httpUrl:UG,includes:kv,instanceof:Mq,int:Ig,int32:oq,int64:uq,intersection:FL,ipv4:qG,ipv6:WG,iso:RG,json:Uq,jwt:QG,keyof:gq,ksuid:GG,lazy:cU,length:up,literal:qL,locales:fM,looseObject:vq,lowercase:Ov,lt:Di,lte:vn,mac:HG,map:bq,maxLength:cp,maxSize:ap,meta:Pq,mime:Lv,minLength:ys,minSize:fc,multipleOf:dc,nan:Dq,nanoid:$G,nativeEnum:yq,negative:YM,never:lE,nonnegative:ZM,nonoptional:QL,nonpositive:KM,normalize:Uv,null:CL,nullable:fl,nullish:wq,number:yi,object:zn,optional:dl,overwrite:Lr,parse:fL,parseAsync:mL,partialRecord:Sq,pipe:ml,positive:WM,prefault:JL,preprocess:Fq,prettifyError:WN,promise:Cq,property:XM,readonly:sU,record:jL,refine:pU,regex:Cv,regexes:X_,registry:cv,safeDecode:TL,safeDecodeAsync:xL,safeEncode:bL,safeEncodeAsync:yL,safeParse:hL,safeParseAsync:gL,set:Tq,setErrorMap:Bq,size:Iv,slugify:jv,startsWith:Pv,strictObject:_q,string:at,stringFormat:eq,stringbool:Lq,success:Aq,superRefine:dU,symbol:pq,templateLiteral:Iq,toJSONSchema:aL,toLowerCase:$v,toUpperCase:Bv,transform:hE,treeifyError:qN,trim:Fv,tuple:BL,uint32:aq,uint64:lq,ulid:VG,undefined:dq,union:fE,unknown:xs,uppercase:Nv,url:LG,util:zN,uuid:NG,uuidv4:kG,uuidv6:PG,uuidv7:MG,void:mq,xid:zG},Symbol.toStringTag,{value:"Module"})),Yq=Ii(["ACTIVE","PAUSED","DELETED"]),Kq=Ii(["worktree","local"]),Zq=zn({version:yi().optional(),id:at(),name:at(),prompt:at(),status:Yq,rrule:at().optional(),execution_environment:Kq.optional(),cwds:$i(at()),created_at:yi(),updated_at:yi()}),Og="FREQ=HOURLY;INTERVAL=24;BYMINUTE=0",Xq="worktree";function Ci(t){const e=t?.trim();return e||Og}function _p(t){return t==="worktree"||t==="local"?t:Xq}const fU={Dev:"dev",Agent:"agent",InternalAlpha:"internal-alpha",PublicBeta:"public-beta",Prod:"prod"},sd=Object.values(fU),mU={...fU,values:sd,help:sd.join(", "),isValid(t){return sd.includes(t)},parse(t){const e=t?.trim();return e&&mU.isValid(e)?e:null}},et={openCommandMenu:"CmdOrCtrl+Shift+P",openCommandMenuAlt:"CmdOrCtrl+K",findInThread:"CmdOrCtrl+F",settings:"CmdOrCtrl+,",newThread:"CmdOrCtrl+N",newThreadAlt:"CmdOrCtrl+Shift+O",openFolder:"CmdOrCtrl+O",copyConversationPath:"CmdOrCtrl+Alt+Shift+C",toggleThreadPin:"CmdOrCtrl+Alt+P",renameThread:"Command+Control+R",archiveThread:"CmdOrCtrl+Shift+A",copyWorkingDirectory:"CmdOrCtrl+Shift+C",copySessionId:"CmdOrCtrl+Alt+C",copyDeeplink:"CmdOrCtrl+Alt+L",toggleSidebar:"CmdOrCtrl+B",toggleTerminal:"CmdOrCtrl+J",toggleDiffPanel:"CmdOrCtrl+Alt+B",toggleTraceRecording:"CmdOrCtrl+Shift+S",navigateBack:"CmdOrCtrl+[",navigateForward:"CmdOrCtrl+]",previousThread:"CmdOrCtrl+Shift+[",nextThread:"CmdOrCtrl+Shift+]"};class hU{ttlMs;entryByKey=new Map;constructor(e){this.ttlMs=e.ttlMs}set(e,n,r=Date.now()){this.pruneExpired(r),this.entryByKey.set(e,{value:n,createdAtMs:r})}get(e,n=Date.now()){const r=this.entryByKey.get(e);if(r){if(this.isExpired(r,n)){this.entryByKey.delete(e);return}return r.value}}has(e,n=Date.now()){const r=this.entryByKey.get(e);return r?this.isExpired(r,n)?(this.entryByKey.delete(e),!1):!0:!1}delete(e){return this.entryByKey.delete(e)}clear(){this.entryByKey.clear()}size(e=Date.now()){return this.pruneExpired(e),this.entryByKey.size}pruneExpired(e){for(const[n,r]of this.entryByKey)this.isExpired(r,e)&&this.entryByKey.delete(n)}isExpired(e,n){return n-e.createdAtMs>this.ttlMs}}const Jq="present";class Qq{map;constructor(e){this.map=new hU({ttlMs:e.ttlMs})}add(e,n=Date.now()){this.map.set(e,Jq,n)}has(e,n=Date.now()){return this.map.has(e,n)}delete(e){return this.map.delete(e)}clear(){this.map.clear()}size(e=Date.now()){return this.map.size(e)}}const Ky="features.";function e6(t){return t.startsWith(Ky)?t:`${Ky}${t}`}function t6(t,e){return!e||Object.keys(e).length===0?t:{...t,config:{...n6(e),...t.config??{}}}}function n6(t){const e={};for(const[n,r]of Object.entries(t)){const i=e6(n);e[i]=r}return e}function r6(t){return t}const Ne={GIT_BRANCH_PREFIX:"git-branch-prefix",GIT_ALWAYS_FORCE_PUSH:"git-always-force-push",GIT_COMMIT_INSTRUCTIONS:"git-commit-instructions",GIT_PR_INSTRUCTIONS:"git-pr-instructions",ACTIVE_WORKSPACE_ROOTS:"active-workspace-roots",WORKSPACE_ROOT_OPTIONS:"electron-saved-workspace-roots",WORKSPACE_ROOT_LABELS:"electron-workspace-root-labels",OPEN_IN_TARGET_PREFERENCES:"open-in-target-preferences",PINNED_THREAD_IDS:"pinned-thread-ids",THREAD_TITLES:"thread-titles"},i6={[Ne.GIT_ALWAYS_FORCE_PUSH]:!1,[Ne.GIT_BRANCH_PREFIX]:"codex/",[Ne.GIT_COMMIT_INSTRUCTIONS]:"",[Ne.GIT_PR_INSTRUCTIONS]:""};function Hu(t){return i6[t]}function Oe(t){return t==null?!1:t.kind==="ssh"||t.kind==="brix"}const s6="environment.toml",o6="codex.localEnvironmentConfigPath",a6="__none__",c6=["tool","run","debug","test"],u6=["darwin","linux","win32"],l6=zn({name:at(),icon:Ii(c6).nullable().catch(null),command:at(),platform:Ii(u6).optional()}),od=zn({script:at()}),p6=zn({script:at(),darwin:od.optional(),linux:od.optional(),win32:od.optional()}),d6=zn({version:yi().int().min(1).default(1),name:at(),setup:p6,actions:$i(l6).optional()}),f6={error:!0,"thread/started":!0,"thread/name/updated":!1,"thread/tokenUsage/updated":!0,"turn/started":!0,"turn/completed":!0,"turn/diff/updated":!0,"turn/plan/updated":!0,"item/started":!0,"item/completed":!0,"rawResponseItem/completed":!1,"item/agentMessage/delta":!0,"item/plan/delta":!0,"item/commandExecution/outputDelta":!0,"item/commandExecution/terminalInteraction":!1,"item/fileChange/outputDelta":!0,"item/mcpToolCall/progress":!0,"mcpServer/oauthLogin/completed":!0,"account/updated":!0,"account/rateLimits/updated":!0,"app/list/updated":!0,"item/reasoning/summaryTextDelta":!0,"item/reasoning/summaryPartAdded":!0,"item/reasoning/textDelta":!0,"thread/compacted":!1,deprecationNotice:!0,configWarning:!0,"windows/worldWritableWarning":!1,"account/login/completed":!0,"model/rerouted":!0,authStatusChange:!1,loginChatGptComplete:!1,sessionConfigured:!1,"codex/event/session_configured":!1,"codex/event/task_started":!1,"codex/event/agent_reasoning":!1,"codex/event/agent_message":!1,"codex/event/task_complete":!1,"codex/event/mcp_tool_call_begin":!1,"codex/event/mcp_tool_call_end":!1,"codex/event/exec_command_begin":!1,"codex/event/exec_command_end":!1,"codex/event/exec_command_output_delta":!1,"codex/event/exec_approval_request":!1,"codex/event/apply_patch_approval_request":!1,"codex/event/background_event":!1,"codex/event/turn_diff":!1,"codex/event/get_history_entry_response":!1,"codex/event/agent_reasoning_delta":!1,"codex/event/agent_reasoning_section_break":!1,"codex/event/agent_message_delta":!1,"codex/event/stream_error":!1,"codex/event/error":!1,"codex/event/turn_aborted":!1,"codex/event/plan_delta":!1,"codex/event/plan_update":!1,"codex/event/patch_apply_begin":!1,"codex/event/patch_apply_end":!1,"codex/event/item_started":!1,"codex/event/item_completed":!1,"codex/event/user_message":!1,"codex/event/agent_reasoning_raw_content":!1,"codex/event/agent_reasoning_raw_content_delta":!1,"codex/event/web_search_begin":!1,"codex/event/web_search_end":!1,"codex/event/mcp_list_tools_response":!1,"codex/event/list_skills_response":!1,"codex/event/list_remote_skills_response":!1,"codex/event/remote_skill_downloaded":!1,"codex/event/list_custom_prompts_response":!1,"codex/event/raw_response_item":!1,"codex/event/agent_message_content_delta":!1,"codex/event/reasoning_content_delta":!1,"codex/event/reasoning_raw_content_delta":!1,"codex/event/warning":!1,"codex/event/undo_started":!1,"codex/event/undo_completed":!1,"codex/event/shutdown_complete":!1,"codex/event/entered_review_mode":!1,"codex/event/exited_review_mode":!1,"codex/event/view_image_tool_call":!1,"codex/event/mcp_startup_update":!1,"codex/event/mcp_startup_complete":!1,"codex/event/remote_task_created":!1,"codex/event/thread_rolled_back":!1,"codex/event/thread_name_updated":!1,"codex/event/collab_agent_spawn_begin":!1,"codex/event/collab_agent_spawn_end":!1,"codex/event/collab_agent_interaction_begin":!1,"codex/event/collab_agent_interaction_end":!1,"codex/event/collab_resume_begin":!1,"codex/event/collab_resume_end":!1,"codex/event/collab_waiting_begin":!1,"codex/event/collab_waiting_end":!1,"codex/event/collab_close_begin":!1,"codex/event/collab_close_end":!1,"codex/event/elicitation_request":!1,"codex/event/dynamic_tool_call_request":!1,"codex/event/request_user_input":!1,"codex/event/terminal_interaction":!1,"codex/event/token_count":!1,"codex/event/deprecation_notice":!1,"fuzzyFileSearch/sessionUpdated":!0,"fuzzyFileSearch/sessionCompleted":!0,"thread/archived":!0,"thread/unarchived":!0,"thread/status/changed":!0,"windowsSandbox/setupCompleted":!1},m6=Object.entries(f6).filter(([,t])=>!t).map(([t])=>t);class h6{minIntervalMs;lastMarkedAtMs=Number.NEGATIVE_INFINITY;constructor(e){this.minIntervalMs=e.minIntervalMs}canPass(e=Date.now()){return e-this.lastMarkedAtMs>=this.minIntervalMs}mark(e=Date.now()){this.lastMarkedAtMs=e}tryPass(e=Date.now()){return this.canPass(e)?(this.mark(e),!0):!1}}function SE(t){const e=t.trim();if(!e||/^[a-zA-Z]:[\\/]/.test(e))return null;if(e.includes("://")){const r=g6(e);return r.success?r.value:null}const n=_6(e);return n.success?n.value:null}function g6(t){try{const e=new URL(t),n=e.hostname;if(!n)return{success:!1};const r=e.pathname.replace(/^\/+/,"").replace(/\.git$/i,""),i=gU(r);return i.success?{success:!0,value:{host:n,...i.value}}:{success:!1}}catch{return{success:!1}}}function _6(t){if(t.includes("://"))return{success:!1};const e=/^(?:[^@]+@)?([^:]+):(.+)$/.exec(t);if(!e)return{success:!1};const n=e[1]?.trim(),r=e[2]?.trim().replace(/^\/+/,"").replace(/\.git$/i,"");if(!n||!r)return{success:!1};const i=gU(r);return i.success?{success:!0,value:{host:n,...i.value}}:{success:!1}}function gU(t){const e=t.split("/").filter(i=>i.length>0);if(e.length<2)return{success:!1};const n=e[e.length-1];if(!n)return{success:!1};const r=e.slice(0,-1).join("/");return r?{success:!0,value:{owner:r,repo:n}}:{success:!1}}const _U={type:"fullAccess"},v6={"read-only":{sandboxMode:"read-only",approvalPolicy:"on-request"},auto:{sandboxMode:"workspace-write",approvalPolicy:"on-request"},"full-access":{sandboxMode:"danger-full-access",approvalPolicy:"never"}};function E6(t){switch(t.type){case"dangerFullAccess":return"danger-full-access";case"readOnly":return"read-only";case"workspaceWrite":return"workspace-write";case"externalSandbox":return null}}function S6(t,e){const n=!!e?.approval_policy||!!e?.sandbox_mode,r=b6(t),i=n?bU([],e):null;return i&&vU(t,E6(i.sandboxPolicy),i.approvalPolicy)?[...r,"custom"]:r}function vU(t,e,n){if(t==null)return!0;const r=t.allowedSandboxModes;if(r!=null&&e&&!r.includes(e))return!1;const i=t.allowedApprovalPolicies;return!(i!=null&&n&&!i.includes(n))}function b6(t){const e=[];return ad("read-only",t)&&e.push("read-only"),ad("auto",t)&&e.push("auto"),ad("full-access",t)&&e.push("full-access"),e}function ad(t,e){if(e==null)return!0;const{sandboxMode:n,approvalPolicy:r}=v6[t];return vU(e,n,r)}function EU(t,e,n){return{sandboxPolicy:{type:"workspaceWrite",writableRoots:[...t,...e?.writable_roots||[]],readOnlyAccess:_U,excludeSlashTmp:e?.exclude_slash_tmp??!1,excludeTmpdirEnvVar:e?.exclude_tmpdir_env_var??!1,networkAccess:e?.network_access??!1},approvalPolicy:n??"on-request"}}function Ng(t){return{sandboxPolicy:{type:"readOnly",access:_U},approvalPolicy:t??"on-request"}}function SU(t){return{sandboxPolicy:{type:"dangerFullAccess"},approvalPolicy:t??"never"}}function bU(t,e){switch(e.sandbox_mode){case"danger-full-access":return SU(e.approval_policy);case"read-only":return Ng(e.approval_policy);case"workspace-write":return EU(t,e.sandbox_workspace_write,e.approval_policy);case null:case void 0:return Ng(e.approval_policy)}}function T6(t,e,n){switch(t){case"read-only":return Ng();case"full-access":return SU();case"auto":return EU(e);case"custom":return bU(e,n)}}const Wu={CHANGED:"inbox-items-changed"},TU={"thread-stream-state-changed":4,"thread-archived":1,"thread-follower-start-turn":1,"thread-follower-interrupt-turn":1,"thread-follower-set-model-and-reasoning":1,"thread-follower-set-collaboration-mode":1,"thread-follower-command-approval-decision":1,"thread-follower-file-approval-decision":1,"thread-follower-submit-user-input":1,"thread-follower-set-queued-follow-ups-state":1,"thread-queued-followups-changed":1};function cs(t){const e=TU[t];return e===void 0?0:e}function cd(t){const e=TU[t];return e===void 0?0:e}class y6{windowMs;entries=[];headIndex=0;rollingSum=0;constructor(e){this.windowMs=e.windowMs}record(e,n=Date.now()){this.entries.push({atMs:n,value:e}),this.rollingSum+=e,this.prune(n)}getSnapshot(e=Date.now()){return this.prune(e),{count:this.entries.length-this.headIndex,sum:this.rollingSum}}prune(e){const n=e-this.windowMs;for(;this.headIndex<this.entries.length&&this.entries[this.headIndex].atMs<n;)this.rollingSum-=this.entries[this.headIndex].value,this.headIndex+=1;this.headIndex!==0&&(this.headIndex*2<this.entries.length||(this.entries.splice(0,this.headIndex),this.headIndex=0))}}const jc="https://17de4aef18bcd467f0a250b004f16737@o33249.ingest.us.sentry.io/4510507758977024",x6="codex-desktop@";function bE(t){return`${x6}${t}`}function w6(t){switch(t){case"dev":case"agent":case"internal-alpha":case"public-beta":return!0;case"prod":return!1}}function A6(t){return w6(t)?1:0}const D6=["git"];var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ud,Zy;function R6(){return Zy||(Zy=1,ud=function(){}),ud}var ld,Xy;function ji(){if(Xy)return ld;Xy=1;var t=R6()();return ld=function(e){return e!==t&&e!==null},ld}var pd,Jy;function xU(){if(Jy)return pd;Jy=1;var t=ji(),e=Array.prototype.forEach,n=Object.create,r=function(i,s){var o;for(o in i)s[o]=i[o]};return pd=function(i){var s=n(null);return e.call(arguments,function(o){t(o)&&r(Object(o),s)}),s},pd}var dd,Qy;function I6(){return Qy||(Qy=1,dd=function(){var t=Math.sign;return typeof t!="function"?!1:t(10)===1&&t(-20)===-1}),dd}var fd,ex;function C6(){return ex||(ex=1,fd=function(t){return t=Number(t),isNaN(t)||t===0?t:t>0?1:-1}),fd}var md,tx;function O6(){return tx||(tx=1,md=I6()()?Math.sign:C6()),md}var hd,nx;function N6(){if(nx)return hd;nx=1;var t=O6(),e=Math.abs,n=Math.floor;return hd=function(r){return isNaN(r)?0:(r=Number(r),r===0||!isFinite(r)?r:t(r)*n(e(r)))},hd}var gd,rx;function Vi(){if(rx)return gd;rx=1;var t=N6(),e=Math.max;return gd=function(n){return e(0,t(n))},gd}var _d,ix;function wU(){if(ix)return _d;ix=1;var t=Vi();return _d=function(e,n,r){var i;return isNaN(e)?(i=n,i>=0?r&&i?i-1:i:1):e===!1?!1:t(e)},_d}var vd,sx;function Ur(){return sx||(sx=1,vd=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}),vd}var Ed,ox;function Ls(){if(ox)return Ed;ox=1;var t=ji();return Ed=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e},Ed}var Sd,ax;function k6(){if(ax)return Sd;ax=1;var t=Ur(),e=Ls(),n=Function.prototype.bind,r=Function.prototype.call,i=Object.keys,s=Object.prototype.propertyIsEnumerable;return Sd=function(o,a){return function(c,u){var l,p=arguments[2],d=arguments[3];return c=Object(e(c)),t(u),l=i(c),d&&l.sort(typeof d=="function"?n.call(d,c):void 0),typeof o!="function"&&(o=l[o]),r.call(o,l,function(f,m){return s.call(c,f)?r.call(u,p,c[f],f,c,m):a})}},Sd}var bd,cx;function vp(){return cx||(cx=1,bd=k6()("forEach")),bd}var ux={},lx;function zi(){return lx||(lx=1),ux}var Td={exports:{}},yd,px;function P6(){return px||(px=1,yd=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),yd}var xd,dx;function M6(){return dx||(dx=1,xd=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),xd}var wd,fx;function L6(){if(fx)return wd;fx=1;var t=ji(),e=Object.keys;return wd=function(n){return e(t(n)?Object(n):n)},wd}var Ad,mx;function U6(){return mx||(mx=1,Ad=M6()()?Object.keys:L6()),Ad}var Dd,hx;function F6(){if(hx)return Dd;hx=1;var t=U6(),e=Ls(),n=Math.max;return Dd=function(r,i){var s,o,a=n(arguments.length,2),c;for(r=Object(e(r)),c=function(u){try{r[u]=i[u]}catch(l){s||(s=l)}},o=1;o<a;++o)i=arguments[o],t(i).forEach(c);if(s!==void 0)throw s;return r},Dd}var Rd,gx;function AU(){return gx||(gx=1,Rd=P6()()?Object.assign:F6()),Rd}var Id,_x;function $6(){if(_x)return Id;_x=1;var t=ji(),e={function:!0,object:!0};return Id=function(n){return t(n)&&e[typeof n]||!1},Id}var vx;function B6(){return vx||(vx=1,(function(t){var e=AU(),n=$6(),r=ji(),i=Error.captureStackTrace;t.exports=function(s){var o=new Error(s),a=arguments[1],c=arguments[2];return r(c)||n(a)&&(c=a,a=null),r(c)&&e(o,c),r(a)&&(o.code=a),i&&i(o,t.exports),o}})(Td)),Td.exports}var ou={exports:{}},Cd,Ex;function DU(){if(Ex)return Cd;Ex=1;var t=Ls(),e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols;return Cd=function(s,o){var a,c=Object(t(o));if(s=Object(t(s)),r(c).forEach(function(u){try{e(s,u,n(o,u))}catch(l){a=l}}),typeof i=="function"&&i(c).forEach(function(u){try{e(s,u,n(o,u))}catch(l){a=l}}),a!==void 0)throw a;return s},Cd}var Sx;function RU(){if(Sx)return ou.exports;Sx=1;var t=Vi(),e=function(o,a){return a},n,r,i,s;try{Object.defineProperty(e,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return e.length===1?(n={configurable:!0,writable:!1,enumerable:!1},r=Object.defineProperty,ou.exports=function(o,a){return a=t(a),o.length===a?o:(n.value=a,r(o,"length",n))}):(s=DU(),i=(function(){var o=[];return function(a){var c,u=0;if(o[a])return o[a];for(c=[];a--;)c.push("a"+(++u).toString(36));return new Function("fn","return function ("+c.join(", ")+") { return fn.apply(this, arguments); };")}})(),ou.exports=function(o,a){var c;if(a=t(a),o.length===a)return o;c=i(a)(o);try{s(c,o)}catch{}return c}),ou.exports}var Od={exports:{}},Nd,bx;function IU(){if(bx)return Nd;bx=1;var t=void 0;return Nd=function(e){return e!==t&&e!==null},Nd}var kd,Tx;function j6(){if(Tx)return kd;Tx=1;var t=IU(),e={object:!0,function:!0,undefined:!0};return kd=function(n){return t(n)?hasOwnProperty.call(e,typeof n):!1},kd}var Pd,yx;function V6(){if(yx)return Pd;yx=1;var t=j6();return Pd=function(e){if(!t(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},Pd}var Md,xx;function z6(){if(xx)return Md;xx=1;var t=V6();return Md=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!t(e)},Md}var Ld,wx;function G6(){if(wx)return Ld;wx=1;var t=z6(),e=/^\s*class[\s{/}]/,n=Function.prototype.toString;return Ld=function(r){return!(!t(r)||e.test(n.call(r)))},Ld}var Ud,Ax;function q6(){if(Ax)return Ud;Ax=1;var t="razdwatrzy";return Ud=function(){return typeof t.contains!="function"?!1:t.contains("dwa")===!0&&t.contains("foo")===!1},Ud}var Fd,Dx;function H6(){if(Dx)return Fd;Dx=1;var t=String.prototype.indexOf;return Fd=function(e){return t.call(this,e,arguments[1])>-1},Fd}var $d,Rx;function W6(){return Rx||(Rx=1,$d=q6()()?String.prototype.contains:H6()),$d}var Ix;function Gi(){if(Ix)return Od.exports;Ix=1;var t=IU(),e=G6(),n=AU(),r=xU(),i=W6(),s=Od.exports=function(o,a){var c,u,l,p,d;return arguments.length<2||typeof o!="string"?(p=a,a=o,o=null):p=arguments[2],t(o)?(c=i.call(o,"c"),u=i.call(o,"e"),l=i.call(o,"w")):(c=l=!0,u=!1),d={value:a,configurable:c,enumerable:u,writable:l},p?n(r(p),d):d};return s.gs=function(o,a,c){var u,l,p,d;return typeof o!="string"?(p=c,c=a,a=o,o=null):p=arguments[3],t(a)?e(a)?t(c)?e(c)||(p=c,c=void 0):c=void 0:(p=a,a=c=void 0):a=void 0,t(o)?(u=i.call(o,"c"),l=i.call(o,"e")):(u=!0,l=!1),d={get:a,set:c,configurable:u,enumerable:l},p?n(r(p),d):d},Od.exports}var au={exports:{}},Cx;function Y6(){return Cx||(Cx=1,(function(t,e){var n=Gi(),r=Ur(),i=Function.prototype.apply,s=Function.prototype.call,o=Object.create,a=Object.defineProperty,c=Object.defineProperties,u=Object.prototype.hasOwnProperty,l={configurable:!0,enumerable:!1,writable:!0},p,d,f,m,h,g,_;p=function(S,v){var T;return r(v),u.call(this,"__ee__")?T=this.__ee__:(T=l.value=o(null),a(this,"__ee__",l),l.value=null),T[S]?typeof T[S]=="object"?T[S].push(v):T[S]=[T[S],v]:T[S]=v,this},d=function(S,v){var T,y;return r(v),y=this,p.call(this,S,T=function(){f.call(y,S,T),i.call(v,this,arguments)}),T.__eeOnceListener__=v,this},f=function(S,v){var T,y,b,x;if(r(v),!u.call(this,"__ee__"))return this;if(T=this.__ee__,!T[S])return this;if(y=T[S],typeof y=="object")for(x=0;b=y[x];++x)(b===v||b.__eeOnceListener__===v)&&(y.length===2?T[S]=y[x?0:1]:y.splice(x,1));else(y===v||y.__eeOnceListener__===v)&&delete T[S];return this},m=function(S){var v,T,y,b,x;if(u.call(this,"__ee__")&&(b=this.__ee__[S],!!b))if(typeof b=="object"){for(T=arguments.length,x=new Array(T-1),v=1;v<T;++v)x[v-1]=arguments[v];for(b=b.slice(),v=0;y=b[v];++v)i.call(y,this,x)}else switch(arguments.length){case 1:s.call(b,this);break;case 2:s.call(b,this,arguments[1]);break;case 3:s.call(b,this,arguments[1],arguments[2]);break;default:for(T=arguments.length,x=new Array(T-1),v=1;v<T;++v)x[v-1]=arguments[v];i.call(b,this,x)}},h={on:p,once:d,off:f,emit:m},g={on:n(p),once:n(d),off:n(f),emit:n(m)},_=c({},g),t.exports=e=function(S){return S==null?o(_):c(Object(S),g)},e.methods=h})(au,au.exports)),au.exports}var Bd,Ox;function K6(){return Ox||(Ox=1,Bd=function(){var t=Array.from,e,n;return typeof t!="function"?!1:(e=["raz","dwa"],n=t(e),!!(n&&n!==e&&n[1]==="dwa"))}),Bd}var jd,Nx;function Z6(){return Nx||(Nx=1,jd=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),jd}var Vd,kx;function X6(){if(kx)return Vd;kx=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Vd=(function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}})(),Vd}var zd,Px;function Ep(){return Px||(Px=1,zd=Z6()()?globalThis:X6()),zd}var Gd,Mx;function J6(){if(Mx)return Gd;Mx=1;var t=Ep(),e={object:!0,symbol:!0};return Gd=function(){var n=t.Symbol,r;if(typeof n!="function")return!1;r=n("test symbol");try{String(r)}catch{return!1}return!(!e[typeof n.iterator]||!e[typeof n.toPrimitive]||!e[typeof n.toStringTag])},Gd}var qd,Lx;function Q6(){return Lx||(Lx=1,qd=function(t){return t?typeof t=="symbol"?!0:!t.constructor||t.constructor.name!=="Symbol"?!1:t[t.constructor.toStringTag]==="Symbol":!1}),qd}var Hd,Ux;function CU(){if(Ux)return Hd;Ux=1;var t=Q6();return Hd=function(e){if(!t(e))throw new TypeError(e+" is not a symbol");return e},Hd}var Wd,Fx;function eH(){if(Fx)return Wd;Fx=1;var t=Gi(),e=Object.create,n=Object.defineProperty,r=Object.prototype,i=e(null);return Wd=function(s){for(var o=0,a,c;i[s+(o||"")];)++o;return s+=o||"",i[s]=!0,a="@@"+s,n(r,a,t.gs(null,function(u){c||(c=!0,n(this,a,t(u)),c=!1)})),a},Wd}var Yd,$x;function tH(){if($x)return Yd;$x=1;var t=Gi(),e=Ep().Symbol;return Yd=function(n){return Object.defineProperties(n,{hasInstance:t("",e&&e.hasInstance||n("hasInstance")),isConcatSpreadable:t("",e&&e.isConcatSpreadable||n("isConcatSpreadable")),iterator:t("",e&&e.iterator||n("iterator")),match:t("",e&&e.match||n("match")),replace:t("",e&&e.replace||n("replace")),search:t("",e&&e.search||n("search")),species:t("",e&&e.species||n("species")),split:t("",e&&e.split||n("split")),toPrimitive:t("",e&&e.toPrimitive||n("toPrimitive")),toStringTag:t("",e&&e.toStringTag||n("toStringTag")),unscopables:t("",e&&e.unscopables||n("unscopables"))})},Yd}var Kd,Bx;function nH(){if(Bx)return Kd;Bx=1;var t=Gi(),e=CU(),n=Object.create(null);return Kd=function(r){return Object.defineProperties(r,{for:t(function(i){return n[i]?n[i]:n[i]=r(String(i))}),keyFor:t(function(i){var s;e(i);for(s in n)if(n[s]===i)return s})})},Kd}var Zd,jx;function rH(){if(jx)return Zd;jx=1;var t=Gi(),e=CU(),n=Ep().Symbol,r=eH(),i=tH(),s=nH(),o=Object.create,a=Object.defineProperties,c=Object.defineProperty,u,l,p;if(typeof n=="function")try{String(n()),p=!0}catch{}else n=null;return l=function(f){if(this instanceof l)throw new TypeError("Symbol is not a constructor");return u(f)},Zd=u=function d(f){var m;if(this instanceof d)throw new TypeError("Symbol is not a constructor");return p?n(f):(m=o(l.prototype),f=f===void 0?"":String(f),a(m,{__description__:t("",f),__name__:t("",r(f))}))},i(u),s(u),a(l.prototype,{constructor:t(u),toString:t("",function(){return this.__name__})}),a(u.prototype,{toString:t(function(){return"Symbol ("+e(this).__description__+")"}),valueOf:t(function(){return e(this)})}),c(u.prototype,u.toPrimitive,t("",function(){var d=e(this);return typeof d=="symbol"?d:d.toString()})),c(u.prototype,u.toStringTag,t("c","Symbol")),c(l.prototype,u.toStringTag,t("c",u.prototype[u.toStringTag])),c(l.prototype,u.toPrimitive,t("c",u.prototype[u.toPrimitive])),Zd}var Xd,Vx;function iH(){return Vx||(Vx=1,Xd=J6()()?Ep().Symbol:rH()),Xd}var Jd,zx;function sH(){if(zx)return Jd;zx=1;var t=Object.prototype.toString,e=t.call((function(){return arguments})());return Jd=function(n){return t.call(n)===e},Jd}var Qd,Gx;function oH(){if(Gx)return Qd;Gx=1;var t=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return Qd=function(n){return typeof n=="function"&&e(t.call(n))},Qd}var ef,qx;function aH(){if(qx)return ef;qx=1;var t=Object.prototype.toString,e=t.call("");return ef=function(n){return typeof n=="string"||n&&typeof n=="object"&&(n instanceof String||t.call(n)===e)||!1},ef}var tf,Hx;function cH(){if(Hx)return tf;Hx=1;var t=iH().iterator,e=sH(),n=oH(),r=Vi(),i=Ur(),s=Ls(),o=ji(),a=aH(),c=Array.isArray,u=Function.prototype.call,l={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;return tf=function(d){var f=arguments[1],m=arguments[2],h,g,_,S,v,T,y,b,x,D;if(d=Object(s(d)),o(f)&&i(f),!this||this===Array||!n(this)){if(!f){if(e(d))return v=d.length,v!==1?Array.apply(null,d):(S=new Array(1),S[0]=d[0],S);if(c(d)){for(S=new Array(v=d.length),g=0;g<v;++g)S[g]=d[g];return S}}S=[]}else h=this;if(!c(d)){if((x=d[t])!==void 0){for(y=i(x).call(d),h&&(S=new h),b=y.next(),g=0;!b.done;)D=f?u.call(f,m,b.value,g):b.value,h?(l.value=D,p(S,g,l)):S[g]=D,b=y.next(),++g;v=g}else if(a(d)){for(v=d.length,h&&(S=new h),g=0,_=0;g<v;++g)D=d[g],g+1<v&&(T=D.charCodeAt(0),T>=55296&&T<=56319&&(D+=d[++g])),D=f?u.call(f,m,D,_):D,h?(l.value=D,p(S,_,l)):S[_]=D,++_;v=_}}if(v===void 0)for(v=r(d.length),h&&(S=new h(v)),g=0;g<v;++g)D=f?u.call(f,m,d[g],g):d[g],h?(l.value=D,p(S,g,l)):S[g]=D;return h&&(l.value=null,S.length=v),S},tf}var nf,Wx;function TE(){return Wx||(Wx=1,nf=K6()()?Array.from:cH()),nf}var rf,Yx;function uH(){if(Yx)return rf;Yx=1;var t=TE(),e=Array.isArray;return rf=function(n){return e(n)?n:t(n)},rf}var sf,Kx;function lH(){if(Kx)return sf;Kx=1;var t=uH(),e=ji(),n=Ur(),r=Array.prototype.slice,i;return i=function(s){return this.map(function(o,a){return o?o(s[a]):s[a]}).concat(r.call(s,this.length))},sf=function(s){return s=t(s),s.forEach(function(o){e(o)&&n(o)}),i.bind(s)},sf}var of,Zx;function pH(){if(Zx)return of;Zx=1;var t=Ur();return of=function(e){var n;return typeof e=="function"?{set:e,get:e}:(n={get:t(e.get)},e.set!==void 0?(n.set=t(e.set),e.delete&&(n.delete=t(e.delete)),e.clear&&(n.clear=t(e.clear)),n):(n.set=n.get,n))},of}var af,Xx;function dH(){if(Xx)return af;Xx=1;var t=B6(),e=RU(),n=Gi(),r=Y6().methods,i=lH(),s=pH(),o=Function.prototype.apply,a=Function.prototype.call,c=Object.create,u=Object.defineProperties,l=r.on,p=r.emit;return af=function(d,f,m){var h=c(null),g,_,S,v,T,y,b,x,D,k,U,C,L,j,N;return f!==!1?_=f:isNaN(d.length)?_=1:_=d.length,m.normalizer&&(k=s(m.normalizer),S=k.get,v=k.set,T=k.delete,y=k.clear),m.resolvers!=null&&(N=i(m.resolvers)),S?j=e(function(H){var O,M,Q=arguments;if(N&&(Q=N(Q)),O=S(Q),O!==null&&hasOwnProperty.call(h,O))return U&&g.emit("get",O,Q,this),h[O];if(Q.length===1?M=a.call(d,this,Q[0]):M=o.call(d,this,Q),O===null){if(O=S(Q),O!==null)throw t("Circular invocation","CIRCULAR_INVOCATION");O=v(Q)}else if(hasOwnProperty.call(h,O))throw t("Circular invocation","CIRCULAR_INVOCATION");return h[O]=M,C&&g.emit("set",O,null,M),M},_):f===0?j=function(){var H;if(hasOwnProperty.call(h,"data"))return U&&g.emit("get","data",arguments,this),h.data;if(arguments.length?H=o.call(d,this,arguments):H=a.call(d,this),hasOwnProperty.call(h,"data"))throw t("Circular invocation","CIRCULAR_INVOCATION");return h.data=H,C&&g.emit("set","data",null,H),H}:j=function(H){var O,M=arguments,Q;if(N&&(M=N(arguments)),Q=String(M[0]),hasOwnProperty.call(h,Q))return U&&g.emit("get",Q,M,this),h[Q];if(M.length===1?O=a.call(d,this,M[0]):O=o.call(d,this,M),hasOwnProperty.call(h,Q))throw t("Circular invocation","CIRCULAR_INVOCATION");return h[Q]=O,C&&g.emit("set",Q,null,O),O},g={original:d,memoized:j,profileName:m.profileName,get:function(H){return N&&(H=N(H)),S?S(H):String(H[0])},has:function(H){return hasOwnProperty.call(h,H)},delete:function(H){var O;hasOwnProperty.call(h,H)&&(T&&T(H),O=h[H],delete h[H],L&&g.emit("delete",H,O))},clear:function(){var H=h;y&&y(),h=c(null),g.emit("clear",H)},on:function(H,O){return H==="get"?U=!0:H==="set"?C=!0:H==="delete"&&(L=!0),l.call(this,H,O)},emit:p,updateEnv:function(){d=g.original}},S?b=e(function(H){var O,M=arguments;N&&(M=N(M)),O=S(M),O!==null&&g.delete(O)},_):f===0?b=function(){return g.delete("data")}:b=function(H){return N&&(H=N(arguments)[0]),g.delete(H)},x=e(function(){var H,O=arguments;return f===0?h.data:(N&&(O=N(O)),S?H=S(O):H=String(O[0]),h[H])}),D=e(function(){var H,O=arguments;return f===0?g.has("data"):(N&&(O=N(O)),S?H=S(O):H=String(O[0]),H===null?!1:g.has(H))}),u(j,{__memoized__:n(!0),delete:n(b),clear:n(g.clear),_get:n(x),_has:n(D)}),g},af}var cf,Jx;function fH(){if(Jx)return cf;Jx=1;var t=Ur(),e=vp(),n=zi(),r=dH(),i=wU();return cf=function s(o){var a,c,u;if(t(o),a=Object(arguments[1]),a.async&&a.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(o,"__memoized__")&&!a.force?o:(c=i(a.length,o.length,a.async&&n.async),u=r(o,c,a),e(n,function(l,p){a[p]&&l(a[p],u,a)}),s.__profiler__&&s.__profiler__(u),u.updateEnv(),u.memoized)},cf}var uf,Qx;function mH(){return Qx||(Qx=1,uf=function(t){var e,n,r=t.length;if(!r)return"";for(e=String(t[n=0]);--r;)e+=""+t[++n];return e}),uf}var lf,ew;function hH(){return ew||(ew=1,lf=function(t){return t?function(e){for(var n=String(e[0]),r=0,i=t;--i;)n+=""+e[++r];return n}:function(){return""}}),lf}var pf,tw;function gH(){return tw||(tw=1,pf=function(){var t=Number.isNaN;return typeof t!="function"?!1:!t({})&&t(NaN)&&!t(34)}),pf}var df,nw;function _H(){return nw||(nw=1,df=function(t){return t!==t}),df}var ff,rw;function vH(){return rw||(rw=1,ff=gH()()?Number.isNaN:_H()),ff}var mf,iw;function yE(){if(iw)return mf;iw=1;var t=vH(),e=Vi(),n=Ls(),r=Array.prototype.indexOf,i=Object.prototype.hasOwnProperty,s=Math.abs,o=Math.floor;return mf=function(a){var c,u,l,p;if(!t(a))return r.apply(this,arguments);for(u=e(n(this).length),l=arguments[1],isNaN(l)?l=0:l>=0?l=o(l):l=e(this.length)-o(s(l)),c=l;c<u;++c)if(i.call(this,c)&&(p=this[c],t(p)))return c;return-1},mf}var hf,sw;function EH(){if(sw)return hf;sw=1;var t=yE(),e=Object.create;return hf=function(){var n=0,r=[],i=e(null);return{get:function(s){var o=0,a=r,c,u=s.length;if(u===0)return a[u]||null;if(a=a[u]){for(;o<u-1;){if(c=t.call(a[0],s[o]),c===-1)return null;a=a[1][c],++o}return c=t.call(a[0],s[o]),c===-1?null:a[1][c]||null}return null},set:function(s){var o=0,a=r,c,u=s.length;if(u===0)a[u]=++n;else{for(a[u]||(a[u]=[[],[]]),a=a[u];o<u-1;)c=t.call(a[0],s[o]),c===-1&&(c=a[0].push(s[o])-1,a[1].push([[],[]])),a=a[1][c],++o;c=t.call(a[0],s[o]),c===-1&&(c=a[0].push(s[o])-1),a[1][c]=++n}return i[n]=s,n},delete:function(s){var o=0,a=r,c,u=i[s],l=u.length,p=[];if(l===0)delete a[l];else if(a=a[l]){for(;o<l-1;){if(c=t.call(a[0],u[o]),c===-1)return;p.push(a,c),a=a[1][c],++o}if(c=t.call(a[0],u[o]),c===-1)return;for(s=a[1][c],a[0].splice(c,1),a[1].splice(c,1);!a[0].length&&p.length;)c=p.pop(),a=p.pop(),a[0].splice(c,1),a[1].splice(c,1)}delete i[s]},clear:function(){r=[],i=e(null)}}},hf}var gf,ow;function SH(){if(ow)return gf;ow=1;var t=yE();return gf=function(){var e=0,n=[],r=[];return{get:function(i){var s=t.call(n,i[0]);return s===-1?null:r[s]},set:function(i){return n.push(i[0]),r.push(++e),e},delete:function(i){var s=t.call(r,i);s!==-1&&(n.splice(s,1),r.splice(s,1))},clear:function(){n=[],r=[]}}},gf}var _f,aw;function bH(){if(aw)return _f;aw=1;var t=yE(),e=Object.create;return _f=function(n){var r=0,i=[[],[]],s=e(null);return{get:function(o){for(var a=0,c=i,u;a<n-1;){if(u=t.call(c[0],o[a]),u===-1)return null;c=c[1][u],++a}return u=t.call(c[0],o[a]),u===-1?null:c[1][u]||null},set:function(o){for(var a=0,c=i,u;a<n-1;)u=t.call(c[0],o[a]),u===-1&&(u=c[0].push(o[a])-1,c[1].push([[],[]])),c=c[1][u],++a;return u=t.call(c[0],o[a]),u===-1&&(u=c[0].push(o[a])-1),c[1][u]=++r,s[r]=o,r},delete:function(o){for(var a=0,c=i,u,l=[],p=s[o];a<n-1;){if(u=t.call(c[0],p[a]),u===-1)return;l.push(c,u),c=c[1][u],++a}if(u=t.call(c[0],p[a]),u!==-1){for(o=c[1][u],c[0].splice(u,1),c[1].splice(u,1);!c[0].length&&l.length;)u=l.pop(),c=l.pop(),c[0].splice(u,1),c[1].splice(u,1);delete s[o]}},clear:function(){i=[[],[]],s=e(null)}}},_f}var cw={},vf,uw;function OU(){if(uw)return vf;uw=1;var t=Ur(),e=vp(),n=Function.prototype.call;return vf=function(r,i){var s={},o=arguments[2];return t(i),e(r,function(a,c,u,l){s[c]=n.call(i,o,a,c,u,l)}),s},vf}var Ef,lw;function xE(){if(lw)return Ef;lw=1;var t=function(n){if(typeof n!="function")throw new TypeError(n+" is not a function");return n},e=function(n){var r=document.createTextNode(""),i,s,o=0;return new n(function(){var a;if(i)s&&(i=s.concat(i));else{if(!s)return;i=s}if(s=i,i=null,typeof s=="function"){a=s,s=null,a();return}for(r.data=o=++o%2;s;)a=s.shift(),s.length||(s=null),a()}).observe(r,{characterData:!0}),function(a){if(t(a),i){typeof i=="function"?i=[i,a]:i.push(a);return}i=a,r.data=o=++o%2}};return Ef=(function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(n){queueMicrotask(t(n))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return e(MutationObserver);if(typeof WebKitMutationObserver=="function")return e(WebKitMutationObserver)}return typeof setImmediate=="function"?function(n){setImmediate(t(n))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(n){setTimeout(t(n),0)}:null})(),Ef}var pw;function TH(){if(pw)return cw;pw=1;var t=TE(),e=OU(),n=DU(),r=RU(),i=xE(),s=Array.prototype.slice,o=Function.prototype.apply,a=Object.create;return zi().async=function(c,u){var l=a(null),p=a(null),d=u.memoized,f=u.original,m,h,g;u.memoized=r(function(_){var S=arguments,v=S[S.length-1];return typeof v=="function"&&(m=v,S=s.call(S,0,-1)),d.apply(h=this,g=S)},d);try{n(u.memoized,d)}catch{}u.on("get",function(_){var S,v,T;if(m){if(l[_]){typeof l[_]=="function"?l[_]=[l[_],m]:l[_].push(m),m=null;return}S=m,v=h,T=g,m=h=g=null,i(function(){var y;hasOwnProperty.call(p,_)?(y=p[_],u.emit("getasync",_,T,v),o.call(S,y.context,y.args)):(m=S,h=v,g=T,d.apply(v,T))})}}),u.original=function(){var _,S,v,T;return m?(_=t(arguments),S=function y(b){var x,D,k=y.id;if(k==null){i(o.bind(y,this,arguments));return}if(delete y.id,x=l[k],delete l[k],!!x)return D=t(arguments),u.has(k)&&(b?u.delete(k):(p[k]={context:this,args:D},u.emit("setasync",k,typeof x=="function"?1:x.length))),typeof x=="function"?T=o.call(x,this,D):x.forEach(function(U){T=o.call(U,this,D)},this),T},v=m,m=h=g=null,_.push(S),T=o.call(f,this,_),S.cb=v,m=S,T):o.call(f,this,arguments)},u.on("set",function(_){if(!m){u.delete(_);return}l[_]?typeof l[_]=="function"?l[_]=[l[_],m.cb]:l[_].push(m.cb):l[_]=m.cb,delete m.cb,m.id=_,m=null}),u.on("delete",function(_){var S;hasOwnProperty.call(l,_)||p[_]&&(S=p[_],delete p[_],u.emit("deleteasync",_,s.call(S.args,1)))}),u.on("clear",function(){var _=p;p=a(null),u.emit("clearasync",e(_,function(S){return s.call(S.args,1)}))})},cw}var dw={},Sf,fw;function yH(){if(fw)return Sf;fw=1;var t=Array.prototype.forEach,e=Object.create;return Sf=function(n){var r=e(null);return t.call(arguments,function(i){r[i]=!0}),r},Sf}var bf,mw;function NU(){return mw||(mw=1,bf=function(t){return typeof t=="function"}),bf}var Tf,hw;function xH(){if(hw)return Tf;hw=1;var t=NU();return Tf=function(e){try{return e&&t(e.toString)?e.toString():String(e)}catch{throw new TypeError("Passed argument cannot be stringifed")}},Tf}var yf,gw;function wH(){if(gw)return yf;gw=1;var t=Ls(),e=xH();return yf=function(n){return e(t(n))},yf}var xf,_w;function AH(){if(_w)return xf;_w=1;var t=NU();return xf=function(e){try{return e&&t(e.toString)?e.toString():String(e)}catch{return"<Non-coercible to string value>"}},xf}var wf,vw;function DH(){if(vw)return wf;vw=1;var t=AH(),e=/[\n\r\u2028\u2029]/g;return wf=function(n){var r=t(n);return r.length>100&&(r=r.slice(0,99)+"…"),r=r.replace(e,function(i){return JSON.stringify(i).slice(1,-1)}),r},wf}var cu={exports:{}},Ew;function kU(){if(Ew)return cu.exports;Ew=1,cu.exports=t,cu.exports.default=t;function t(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}return cu.exports}var Sw;function RH(){if(Sw)return dw;Sw=1;var t=OU(),e=yH(),n=wH(),r=DH(),i=kU(),s=xE(),o=Object.create,a=e("then","then:finally","done","done:finally");return zi().promise=function(c,u){var l=o(null),p=o(null),d=o(null);if(c===!0)c=null;else if(c=n(c),!a[c])throw new TypeError("'"+r(c)+"' is not valid promise mode");u.on("set",function(f,m,h){var g=!1;if(!i(h)){p[f]=h,u.emit("setasync",f,1);return}l[f]=1,d[f]=h;var _=function(y){var b=l[f];if(g)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);b&&(delete l[f],p[f]=y,u.emit("setasync",f,b))},S=function(){g=!0,l[f]&&(delete l[f],delete d[f],u.delete(f))},v=c;if(v||(v="then"),v==="then"){var T=function(){s(S)};h=h.then(function(y){s(_.bind(this,y))},T),typeof h.finally=="function"&&h.finally(T)}else if(v==="done"){if(typeof h.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");h.done(_,S)}else if(v==="done:finally"){if(typeof h.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof h.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");h.done(_),h.finally(S)}}),u.on("get",function(f,m,h){var g;if(l[f]){++l[f];return}g=d[f];var _=function(){u.emit("getasync",f,m,h)};i(g)?typeof g.done=="function"?g.done(_):g.then(function(){s(_)}):_()}),u.on("delete",function(f){if(delete d[f],l[f]){delete l[f];return}if(hasOwnProperty.call(p,f)){var m=p[f];delete p[f],u.emit("deleteasync",f,[m])}}),u.on("clear",function(){var f=p;p=o(null),l=o(null),d=o(null),u.emit("clearasync",t(f,function(m){return[m]}))})},dw}var bw={},Tw;function IH(){if(Tw)return bw;Tw=1;var t=Ur(),e=vp(),n=zi(),r=Function.prototype.apply;return n.dispose=function(i,s,o){var a;if(t(i),o.async&&n.async||o.promise&&n.promise){s.on("deleteasync",a=function(c,u){r.call(i,null,u)}),s.on("clearasync",function(c){e(c,function(u,l){a(l,u)})});return}s.on("delete",a=function(c,u){i(u)}),s.on("clear",function(c){e(c,function(u,l){a(l,u)})})},bw}var yw={},Af,xw;function CH(){return xw||(xw=1,Af=2147483647),Af}var Df,ww;function OH(){if(ww)return Df;ww=1;var t=Vi(),e=CH();return Df=function(n){if(n=t(n),n>e)throw new TypeError(n+" exceeds maximum possible timeout");return n},Df}var Aw;function NH(){if(Aw)return yw;Aw=1;var t=TE(),e=vp(),n=xE(),r=kU(),i=OH(),s=zi(),o=Function.prototype,a=Math.max,c=Math.min,u=Object.create;return s.maxAge=function(l,p,d){var f,m,h,g;l=i(l),l&&(f=u(null),m=d.async&&s.async||d.promise&&s.promise?"async":"",p.on("set"+m,function(_){f[_]=setTimeout(function(){p.delete(_)},l),typeof f[_].unref=="function"&&f[_].unref(),g&&(g[_]&&g[_]!=="nextTick"&&clearTimeout(g[_]),g[_]=setTimeout(function(){delete g[_]},h),typeof g[_].unref=="function"&&g[_].unref())}),p.on("delete"+m,function(_){clearTimeout(f[_]),delete f[_],g&&(g[_]!=="nextTick"&&clearTimeout(g[_]),delete g[_])}),d.preFetch&&(d.preFetch===!0||isNaN(d.preFetch)?h=.333:h=a(c(Number(d.preFetch),1),0),h&&(g={},h=(1-h)*l,p.on("get"+m,function(_,S,v){g[_]||(g[_]="nextTick",n(function(){var T;g[_]==="nextTick"&&(delete g[_],p.delete(_),d.async&&(S=t(S),S.push(o)),T=p.memoized.apply(v,S),d.promise&&r(T)&&(typeof T.done=="function"?T.done(o,o):T.then(o,o)))}))}))),p.on("clear"+m,function(){e(f,function(_){clearTimeout(_)}),f={},g&&(e(g,function(_){_!=="nextTick"&&clearTimeout(_)}),g={})}))},yw}var Dw={},Rf,Rw;function kH(){if(Rw)return Rf;Rw=1;var t=Vi(),e=Object.create,n=Object.prototype.hasOwnProperty;return Rf=function(r){var i=0,s=1,o=e(null),a=e(null),c=0,u;return r=t(r),{hit:function(l){var p=a[l],d=++c;if(o[d]=l,a[l]=d,!p)return++i,i<=r?void 0:(l=o[s],u(l),l);if(delete o[p],s===p)for(;!n.call(o,++s););},delete:u=function(l){var p=a[l];if(p&&(delete o[p],delete a[l],--i,s===p)){if(!i){c=0,s=1;return}for(;!n.call(o,++s););}},clear:function(){i=0,s=1,o=e(null),a=e(null),c=0}}},Rf}var Iw;function PH(){if(Iw)return Dw;Iw=1;var t=Vi(),e=kH(),n=zi();return n.max=function(r,i,s){var o,a,c;r=t(r),r&&(a=e(r),o=s.async&&n.async||s.promise&&n.promise?"async":"",i.on("set"+o,c=function(u){u=a.hit(u),u!==void 0&&i.delete(u)}),i.on("get"+o,c),i.on("delete"+o,a.delete),i.on("clear"+o,a.clear))},Dw}var Cw={},Ow;function MH(){if(Ow)return Cw;Ow=1;var t=Gi(),e=zi(),n=Object.create,r=Object.defineProperties;return e.refCounter=function(i,s,o){var a,c;a=n(null),c=o.async&&e.async||o.promise&&e.promise?"async":"",s.on("set"+c,function(u,l){a[u]=l||1}),s.on("get"+c,function(u){++a[u]}),s.on("delete"+c,function(u){delete a[u]}),s.on("clear"+c,function(){a={}}),r(s.memoized,{deleteRef:t(function(){var u=s.get(arguments);return u===null||!a[u]?null:--a[u]?!1:(s.delete(u),!0)}),getRefCount:t(function(){var u=s.get(arguments);return u===null||!a[u]?0:a[u]})})},Cw}var If,Nw;function LH(){if(Nw)return If;Nw=1;var t=xU(),e=wU(),n=fH();return If=function(r){var i=t(arguments[1]),s;return i.normalizer||(s=i.length=e(i.length,r.length,i.async),s!==0&&(i.primitive?s===!1?i.normalizer=mH():s>1&&(i.normalizer=hH()(s)):s===!1?i.normalizer=EH()():s===1?i.normalizer=SH()():i.normalizer=bH()(s))),i.async&&TH(),i.promise&&RH(),i.dispose&&IH(),i.maxAge&&NH(),i.max&&PH(),i.refCounter&&MH(),n(r,i)},If}var UH=LH();const xi=Bi(UH);class FH{constructor(e){this.i=0,this.string=e,this.whitespace=` 	\r
`,this.quotes=`'"`,this.escapes="\\",this.escapedQuotes='"',this.ansiCQuotes=!0,this.localeQuotes=!0,this.debug=!1}readChar(){return this.string.charAt(this.i++)}processEscapes(e,n,r){if(!r&&!this.escapedQuotes.includes(n))return e;const i="["+this.escapes.replace(/(.)/g,"\\$1")+"]";if(!r&&this.escapedQuotes.includes(n)){const s=new RegExp(i+"("+i+"|\\"+n+")","g");return e.replace(s,"$1")}if(r){const s={"([\\\\'\"?])":a=>a,a:()=>"\x07",b:()=>"\b","e|E":()=>"\x1B",f:()=>"\f",n:()=>`
`,r:()=>"\r",t:()=>"	",v:()=>"\v","([0-7]{1,3})":a=>String.fromCharCode(parseInt(a,8)),"x([0-9a-fA-F]{1,2})":a=>String.fromCharCode(parseInt(a,16)),"u([0-9a-fA-F]{1,4})":a=>String.fromCharCode(parseInt(a,16)),"U([0-9a-fA-F]{1,8})":a=>String.fromCharCode(parseInt(a,16)),"c(.)":a=>a==="?"?"":a==="@"?"\0":String.fromCharCode(a.charCodeAt(0)&31)},o=new RegExp(i+"("+Object.keys(s).join("|")+")","g");return e.replace(o,function(a,c){for(const u in s){const l=new RegExp("^"+u+"$").exec(c);if(l!==null)return s[u].apply(null,l.slice(1))}})}}*[Symbol.iterator](){let e=!1,n=!1,r=!1,i=-2,s;for(this.debug&&console.log("full input:",">"+this.string+"<");;){const o=this.i,a=this.readChar();if(this.debug&&console.log("position:",o,"input:",">"+a+"<","accumulated:",s,"inQuote:",e,"inDollarQuote:",n,"lastDollar:",i,"escaped:",r),a===""){if(e)throw new Error("Got EOF while in a quoted string");if(r)throw new Error("Got EOF while in an escape sequence");s!==void 0&&(yield s);return}if(r){a===`
`||(e?s=(s||"")+r+a:s=(s||"")+a),r=!1;continue}if(this.escapes.includes(a)&&(!e||n!==!1||this.escapedQuotes.includes(e))){r=a;continue}if(e!==!1){if(a===e){s=this.processEscapes(s,e,n==="'"),e=!1,n=!1;continue}s=(s||"")+a;continue}if(this.quotes.includes(a)){e=a,i===o-1&&(a==="'"&&!this.ansiCQuotes||a==='"'&&!this.localeQuotes||(n=a)),s=s||"",n!==!1&&(s=s.slice(0,-1));continue}if(e===!1&&a==="$"&&(i=o),this.whitespace.includes(a)){s!==void 0&&(yield s),s=void 0;continue}s=(s||"")+a}}}function $H(t){return Array.from(new FH(t))}function Ct(t){return t===""?"''":/[^\w@%\-+=:,./]/.test(t)?("'"+t.replace(/('+)/g,`'"$1"'`)+"'").replace(/^''|''$/g,""):t}function hl(t){if(!Array.isArray(t))throw new TypeError("args should be an array");return t.map(Ct).join(" ")}function BH(t){if(!t.startsWith("["))return{loggerName:null,message:t};const e=t.indexOf("]");if(e===-1)return{loggerName:null,message:t};if(t[e+1]!==" ")return{loggerName:null,message:t};const n=t.slice(1,e).trim();if(!n)return{loggerName:null,message:t};const r=t.slice(e+2);return{loggerName:n,message:r}}const PU={safe:{},sensitive:{}};function kg(t){return t==null?PU:{safe:t.safe,sensitive:t.sensitive??{}}}class MU{buffer=[];maxBufferSize=500;hasLoggedDroppedLogMessage=!1;push(e){if(this.buffer.length>=this.maxBufferSize){this.hasLoggedDroppedLogMessage||(this.hasLoggedDroppedLogMessage=!0,this.buffer.push({level:"warning",message:"Dropped buffered log message after maxBufferSize was reached",tags:PU}));return}this.buffer.push(e)}createLogMethod(e){return(n,r)=>{this.push({level:e,message:n,tags:kg(r)})}}trace=this.createLogMethod("trace");debug=this.createLogMethod("debug");info=this.createLogMethod("info");warning=this.createLogMethod("warning");error=this.createLogMethod("error");log=(e,n,r)=>{this.push({level:e,message:n,tags:kg(r)})};flushTo(e){for(const n of this.buffer)e.log(n.level,n.message,n.tags);this.buffer.length=0}dispose(){this.buffer=[]}}let Yu=new MU,kw=!1;function jH(t){if(kw&&process.env.NODE_ENV!=="test")throw new Error("Logger already set");kw=!0,Yu instanceof MU&&Yu.flushTo(t),Yu=t}function Mt(){return Yu}function VH(t){if(typeof t=="string")return t.length===0||/\s/.test(t)?JSON.stringify(t):t;if(typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return String(t);if(t==null)return typeof t>"u"?"undefined":"null";try{const e=JSON.stringify(t);if(e!=null)return e}catch{}return String(t)}function zH(t,e){return t==="error"&&e instanceof Error}function GH(t){const e={};for(const[n,r]of Object.entries(t)){if(zH(n,r)){e.errorName=r.name,e.errorMessage=r.message,e.errorStack=r.stack,r.code!=null&&(e.errorCode=r.code);continue}e[n]=r}return e}function qH(t){const e=GH(t);return Object.keys(e).sort((r,i)=>r.localeCompare(i)).map(r=>{const i=e[r];return`${r}=${VH(i)}`}).join(" ")}function bn(t){const e=`[${t}] `,n=(i,s,o)=>{Mt().log(i,`${e}${s}`,kg(o))},r=i=>(s,o)=>{n(i,s,o)};return{trace:r("trace"),debug:r("debug"),info:r("info"),warning:r("warning"),error:r("error"),log:(i,s,o)=>{n(i,s,o)},dispose:()=>{Mt().dispose()}}}function Le(t){let e=null;return()=>(e||(e=bn(t)),e)}var Yn={},Pw;function HH(){if(Pw)return Yn;Pw=1;var t=Yn&&Yn.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.RateLimit=Yn.Sema=void 0;const e=t(Ps);function n(p,d,f,m,h){for(let g=0;g<h;++g)f[g+m]=p[g+d],p[g+d]=void 0}function r(p){return p=p>>>0,p=p-1,p=p|p>>1,p=p|p>>2,p=p|p>>4,p=p|p>>8,p=p|p>>16,p+1}function i(p){return r(Math.min(Math.max(16,p),1073741824))}class s{constructor(d){this._capacity=i(d),this._length=0,this._front=0,this.arr=[]}push(d){const f=this._length;this.checkCapacity(f+1);const m=this._front+f&this._capacity-1;return this.arr[m]=d,this._length=f+1,f+1}pop(){const d=this._length;if(d===0)return;const f=this._front+d-1&this._capacity-1,m=this.arr[f];return this.arr[f]=void 0,this._length=d-1,m}shift(){const d=this._length;if(d===0)return;const f=this._front,m=this.arr[f];return this.arr[f]=void 0,this._front=f+1&this._capacity-1,this._length=d-1,m}get length(){return this._length}checkCapacity(d){this._capacity<d&&this.resizeTo(i(this._capacity*1.5+16))}resizeTo(d){const f=this._capacity;this._capacity=d;const m=this._front,h=this._length;if(m+h>f){const g=m+h&f-1;n(this.arr,0,this.arr,f,g)}}}class o extends e.default{}function a(p){return typeof p=="function"}function c(){return"1"}class u{constructor(d,{initFn:f=c,pauseFn:m,resumeFn:h,capacity:g=10}={}){if(a(m)!==a(h))throw new Error("pauseFn and resumeFn must be both set for pausing");this.nrTokens=d,this.free=new s(d),this.waiting=new s(g),this.releaseEmitter=new o,this.noTokens=f===c,this.pauseFn=m,this.resumeFn=h,this.paused=!1,this.releaseEmitter.on("release",_=>{const S=this.waiting.shift();S?S.resolve(_):(this.resumeFn&&this.paused&&(this.paused=!1,this.resumeFn()),this.free.push(_))});for(let _=0;_<d;_++)this.free.push(f())}tryAcquire(){return this.free.pop()}async acquire(){let d=this.tryAcquire();return d!==void 0?d:new Promise((f,m)=>{this.pauseFn&&!this.paused&&(this.paused=!0,this.pauseFn()),this.waiting.push({resolve:f,reject:m})})}release(d){this.releaseEmitter.emit("release",this.noTokens?"1":d)}drain(){const d=new Array(this.nrTokens);for(let f=0;f<this.nrTokens;f++)d[f]=this.acquire();return Promise.all(d)}nrWaiting(){return this.waiting.length}}Yn.Sema=u;function l(p,{timeUnit:d=1e3,uniformDistribution:f=!1}={}){const m=new u(f?1:p),h=f?d/p:d;return async function(){await m.acquire(),setTimeout(()=>m.release(),h)}}return Yn.RateLimit=l,Yn}var LU=HH();class UU{constructor(e,n=[],r=[],i){this.child=e,this.stdoutChunks=n,this.stderrChunks=r,this.promise=i.then(({code:s,signal:o})=>({type:"resolve",code:s,signal:o}),s=>({type:"reject",error:s}))}result=null;promise;check(){return this.wait().then(({stdout:e,stderr:n,code:r,signal:i})=>{if(r===0)return{stdout:e,stderr:n};throw new Error(`process exited with code ${r}, signal ${i}`)})}wait(){return this.promise.then(e=>{switch(e.type){case"resolve":{const{code:n,signal:r}=e;return{stdout:Buffer.concat(this.stdoutChunks).toString("utf8"),stderr:Buffer.concat(this.stderrChunks).toString("utf8"),code:n,signal:r}}case"reject":throw e.error}})}getStdout(){return Buffer.concat(this.stdoutChunks)}getStderr(){return Buffer.concat(this.stderrChunks)}getExitCode(){return this.result?.type==="resolve"?this.result.code:null}isDone(){return this.result!=null}kill(){this.child.kill()}}const WH={startSpan:(t,e)=>e()};let FU=WH;function YH(t){FU=t}function KH(){return FU}function $U(t,e){return KH().startSpan(t,e)}let gl;function ZH(t){if(gl)throw new Error("shouldSpawnInsideWsl already set");gl=t}function XH(){if(!gl){if(process.env.NODE_ENV==="test"||process.env.VITEST!=null)return!1;throw new Error("shouldSpawnInsideWsl not set")}return gl()}function JH(){const t=Mt(),e=QH(t);if(!e)return;if(n4(e))return Pg(e);if(t4(e))return Pg(r4(e));const n=e4(e,t);if(n)return n;t.warning("[resolveCodexHomeFromWsl] Unable to translate Linux path",{safe:{},sensitive:{linuxPath:e}})}function QH(t){return BU(["/usr/bin/env","bash","-lc",'printf %s "${CODEX_HOME:-$HOME/.codex}"'],"readCodexHomePathFromWslEnv",t)}function e4(t,e){const n=BU(["wslpath","-w",t],`resolveCodexHomeFromWsl:wslpath(${t})`,e);return n?Pg(n):void 0}function BU(t,e,n){try{const r=Dc.spawnSync("wsl.exe",t,{encoding:"utf8",windowsHide:!0});if(r.error){n.debug("WSL command error",{safe:{context:e},sensitive:{error:r.error}});return}if(r.status!==0){n.debug("WSL command non-zero exit",{safe:{context:e},sensitive:{status:r.status,stderr:r.stderr?.toString()??""}});return}const i=r.stdout?.toString().trim();if(!i){n.warning("WSL command returned empty output",{safe:{context:e},sensitive:{}});return}return i}catch(r){n.warning("WSL command unexpected error",{safe:{context:e},sensitive:{error:r}});return}}function Pg(t){return t.replace(/\//g,"\\")}function t4(t){return/^\/mnt\/[a-zA-Z]\//.test(t)?!0:/^\\{1,2}mnt\\[a-zA-Z]\\/.test(t)}function n4(t){return!!(/^[a-zA-Z]:[\\/]/.test(t)||/^\\\\/.test(t))}function r4(t){const e=t.match(/^\/mnt\/([a-zA-Z])\/(.*)$/);if(e){const i=e[1].toUpperCase(),s=e[2].replace(/\//g,"\\");return`${i}:\\${s}`}const n=t.match(/^\\{1,2}[Mm][Nn][Tt]\\([a-zA-Z])\\(.*)$/i);if(n){const i=n[1].toUpperCase(),s=n[2].replace(/[\\/]/g,"\\");return`${i}:\\${s}`}const r=t.match(/^C:\\mnt\\c(.*)$/i);return r?`C:\\${r[1].replace(/^([\\/])+/,"").replace(/[\\/]/g,"\\")}`:t.replace(/\//g,"\\")}function jU(t){if(/^(\\\\|\/\/)(wsl\$|wsl\.localhost)/i.test(t)){const r=t.replace(/^((\\\\|\/\/)(wsl\$|wsl\.localhost)[\\/]+)/i,"").split(/[\\/]/);r.shift();const i=r.join("/").replace(/\\/g,"/");return i.length===0?"/":i.startsWith("/")?i:`/${i}`}if(t.startsWith("/"))return t;const e=t.match(/^([a-zA-Z]):[\\/](.*)$/);if(e){const n=e[1].toLowerCase(),r=e[2].replace(/\\/g,"/");return`/mnt/${n}/${r}`}return t.replace(/\\/g,"/")}const VU=Le("spawn-async");function zU(t){const e=t[0]??"process";return e==="git"&&t[1]?{op:"git.exec",name:`git ${t[1]}`}:{op:"process.exec",name:e}}function Vc({args:t,cwd:e,env:n,signal:r,stdoutChunkHandler:i,stderrChunkHandler:s,onExitHandler:o}){if(XH())return VU().info("Spawning process inside WSL"),i4(t,e,n?s4(n):void 0,r,i,s);const a=t[0],c=t.slice(1),u={cwd:e,env:{...process.env,...n},stdio:["ignore","pipe","pipe"]},l=Dc.spawn(a,c,u),p=[],d=[],f=new Promise((h,g)=>{const _=GU(l,r);l.stdout?.on("data",S=>{p.push(S),i?.(S)}),l.stderr?.on("data",S=>{d.push(S),s?.(S)}),l.on("close",(S,v)=>{o?.(),_?.(),h({code:S,signal:v})}),l.on("error",S=>{o?.(),_?.(),g(S)})}),m=zU(t);return new UU(l,p,d,$U(m,()=>f))}function i4(t,e,n,r,i,s){const o=e?jU(e):".",a=["RUST_LOG=warn"];n&&a.push(...o4(n));const c=["-d","Ubuntu"];c.push("--cd",o),c.push("--exec","/usr/bin/env",...a,...t);const u={env:{...process.env},stdio:["ignore","pipe","pipe"]};VU().debug("Spawning process inside WSL",{safe:{command:`wsl.exe ${c.join(" ")}`},sensitive:{}});const l=Dc.spawn("wsl.exe",c,u),p=[],d=[],f=new Promise((h,g)=>{const _=GU(l,r);l.stdout?.on("data",S=>{p.push(S),i?.(S)}),l.stderr?.on("data",S=>{d.push(S),s?.(S)}),l.on("close",(S,v)=>{_?.(),h({code:S,signal:v})}),l.on("error",S=>{_?.(),g(S)})}),m=zU(t);return new UU(l,p,d,$U(m,()=>f))}function GU(t,e){if(!e)return;const n=()=>{t.kill()};return e.addEventListener("abort",n),e.aborted&&n(),()=>{e.removeEventListener("abort",n)}}function s4(t){const e={};for(const[n,r]of Object.entries(t))r!=null&&process.env[n]!==r&&(e[n]=r);return e}function o4(t){const e=[];for(const[n,r]of Object.entries(t)){const i=a4(r)?jU(r):r;e.push(`${n}=${i}`)}return e}function a4(t){return t.includes(";")?!1:!!(/^(?:[a-zA-Z]:[\\/]|\\\\|\/\/)/.test(t)||/^(\\\\|\/\/)(wsl\$|wsl\.localhost)[\\/]/i.test(t))}const c4=4,u4=1e3,Cf=new Map,Of=Le("spawn-remote-async");function l4(t){const e=[];for(const[n,r]of Object.entries(t))r!=null&&e.push(`${n}=${Ct(r)}`);return e}function p4(t){return Cf.has(t)||Cf.set(t,new LU.Sema(c4)),Cf.get(t)}class d4{constructor(e,n){this.semaphore=e,this.timeout=n}releaseTimeout=null;released=!1;async acquire(){await this.semaphore.acquire(),this.releaseTimeout=setTimeout(()=>{this.release()},this.timeout)}release(){this.released||(this.released=!0,this.releaseTimeout&&clearTimeout(this.releaseTimeout),this.semaphore.release())}}async function Sp({hostConfig:t,args:e,env:n,signal:r,timeoutMs:i,noConcurrencyLimit:s,stdoutChunkHandler:o,stderrChunkHandler:a}){const c=n?l4(n):[],u=[...t.terminal_command,"--",...c,...e];let l=null;if(!s){const m=p4(t.id);l=new d4(m,u4),await l.acquire()}let p=!1,d=null;const f=Vc({args:u,signal:r,stdoutChunkHandler:o,stderrChunkHandler:a,onExitHandler:()=>{p=!0,d&&clearTimeout(d),l&&l.release()}});return i!=null&&(d=setTimeout(()=>{f.kill()},i),p&&d&&(clearTimeout(d),d=null)),f}async function Kn({hostConfig:t,args:e,errorOnNonZeroExitCode:n=!0}){const r=crypto.randomUUID().slice(0,8);Of().debug("Spawning remote process",{safe:{requestId:r,argsCount:e.length},sensitive:{args:e}});const i=await Sp({hostConfig:t,args:e}),{stdout:s,stderr:o,code:a}=await i.wait();if(a!==0){if(Of().debug("Remote process exited with non-zero code",{safe:{requestId:r,code:a},sensitive:{stderr:o}}),n)throw new Error(`Process errored with code ${a} stderr=${o}`)}else Of().debug("Remote process exited successfully",{safe:{requestId:r,code:a},sensitive:{}});return{stdout:s,stderr:o,code:a}}const f4=6e4,m4=60*f4,wE=24*m4;function wn(t){const{preferWsl:e=!1}=t,n=Mt();if(e&&process.platform==="win32"){const r=JH();if(r)return r;n.info("[resolveCodexHome] Falling back to host home directory because WSL CODEX_HOME could not be resolved")}return process.env.CODEX_HOME??ec.join(kt.homedir(),".codex")}const Us=xi(async t=>{const e=typeof t=="string"?g4(t):t;return h4(e)},{length:1,normalizer:([t])=>typeof t=="string"?t:t.id,promise:!0,maxAge:wE});async function h4(t){const e=Mt(),r=["sh","-lc",Ct('if [ -n "$CODEX_HOME" ]; then printf "%s" "$CODEX_HOME"; else printf "%s" "$HOME/.codex"; fi')];let i,s=!1;const o=setTimeout(()=>{s=!0,i?.kill()},1e4);try{i=await Sp({hostConfig:t,args:r});const{stdout:a,stderr:c,code:u}=await i.wait();if(clearTimeout(o),s)throw e.warning("[resolveRemoteSshCodexHome] timed out"),new Error("resolveRemoteSshCodexHome timed out");if(u!==0)throw new Error(`[resolveRemoteSshCodexHome] failed (${u}): ${c||a}`);return a.trim()}catch(a){throw clearTimeout(o),e.warning("[resolveRemoteSshCodexHome] error",{safe:{},sensitive:{error:a}}),a}}function g4(t){return{id:t,display_name:t,kind:"ssh",codex_cli_command:[],terminal_command:$H(t)}}const ve={async readFile(t,e){if(Oe(e)){const{stdout:n}=await Kn({hostConfig:e,args:["cat",t]});return n}return Y.promises.readFile(t,"utf-8")},async readFileBase64(t,e){if(Oe(e)){const{stdout:n}=await Kn({hostConfig:e,args:["base64",t]});return Buffer.from(n,"base64")}return Y.promises.readFile(t,"base64")},async writeFile(t,e,n){if(Oe(n)){await Kn({hostConfig:n,args:["sh","-c",Ct(`cat > ${t} << "EOF"
${e}
EOF`)]});return}await Y.promises.writeFile(t,e,"utf8")},async mkdir(t,e={},n){if(Oe(n)){const r=["mkdir"];e.recursive!==!1&&r.push("-p"),r.push(t),await Kn({hostConfig:n,args:r});return}await Y.promises.mkdir(t,{recursive:e.recursive??!0})},async stat(t,e){if(!Oe(e))return Y.promises.stat(t);const{stdout:n,code:r}=await Kn({hostConfig:e,args:["sh","-c",Ct('if [ -d "$1" ]; then echo "dir"; elif [ -f "$1" ]; then echo "file"; elif [ -L "$1" ]; then echo "link"; else exit 1; fi'),"sh",t],errorOnNonZeroExitCode:!1});if(r===1)throw new Error(`File not found: ${t}`);const i=n.trim();return{isDirectory:()=>i==="dir",isFile:()=>i==="file"||i==="link"}},async readdir(t,e){if(Oe(e)){const{stdout:n}=await Kn({hostConfig:e,args:["sh","-c",Ct('ls -A "$1"'),"sh",t]});return n.split(/\r?\n/).map(r=>r.trim()).filter(r=>r.length>0)}return Y.promises.readdir(t)},async rm(t,e={},n){if(Oe(n)){const r=["rm"];e.recursive!==!1&&r.push("-r"),e.force!==!1&&r.push("-f"),r.push(t),await Kn({hostConfig:n,args:r});return}await Y.promises.rm(t,{recursive:e.recursive??!0,force:e.force??!0})},async copyFile(t,e,n){if(Oe(n)){await Kn({hostConfig:n,args:["cp",t,e]});return}await Y.promises.copyFile(t,e)},async cp(t,e,n={},r){if(Oe(r)){const i=["cp"];n.recursive&&i.push("-R"),i.push(t,e),await Kn({hostConfig:r,args:i});return}await Y.promises.cp(t,e,{recursive:n.recursive??!1})}};function Ce(t){return Oe(t)?B.posix:B}async function qU(t){const e=Oe(t.hostConfig)?await Us(t.hostConfig):wn(t),n=Ce(t.hostConfig),r=n.join(e,"AGENTS.md");await ve.mkdir(n.dirname(r),{recursive:!0},t.hostConfig);try{await ve.stat(r,t.hostConfig)}catch{await ve.writeFile(r,"",t.hostConfig)}return r}async function _4(t){const e=await qU(t),n=await ve.readFile(e,t.hostConfig);return{path:e,contents:n}}async function v4(t,e){const n=await qU(e);return await ve.writeFile(n,t,e.hostConfig),{path:n}}class E4{handlers=new Set;subscribe(e){return this.handlers.add(e),{dispose:()=>{this.handlers.delete(e)}}}emit(e,n=Date.now()){for(const r of this.handlers)r({type:e,at:n})}}const er={Connecting:0,Open:1,Closing:2,Closed:3},uu={nextConnectionId:1,connectionIds:new WeakMap};function Ut(t){const e=uu.connectionIds.get(t);if(e!=null)return e;const n=uu.nextConnectionId;return uu.nextConnectionId+=1,uu.connectionIds.set(t,n),n}class HU{constructor(e){this.options=e}items=[];readIndex=0;queueDepthHighWaterMark=0;nextDepthThresholdIndex=0;enqueue(e){return this.enqueueMany([e])}enqueueMany(e){if(e.length===0)return[];this.maybeCompact(!1),this.items.push(...e);const n=this.getDepth();n>this.queueDepthHighWaterMark&&(this.queueDepthHighWaterMark=n);const r=[];for(;this.nextDepthThresholdIndex<this.options.depthThresholds.length&&n>=this.options.depthThresholds[this.nextDepthThresholdIndex];){const i=this.options.depthThresholds[this.nextDepthThresholdIndex];this.nextDepthThresholdIndex+=1,r.push({threshold:i,queueDepth:n,queueDepthHighWaterMark:this.queueDepthHighWaterMark})}return r}drain(e){if(this.getDepth()===0)return{drainedCount:0,remainingCount:0,durationMs:0,queueDepthHighWaterMark:this.queueDepthHighWaterMark,drainedAll:!0};const n=Date.now();let r=0;for(;this.readIndex<this.items.length;){const a=this.items[this.readIndex];if(this.readIndex+=1,e.onItem(a),r+=1,!e.flushAll&&(r>=e.maxItemsPerSlice||Date.now()-n>=e.maxSliceMs))break}const i=this.getDepth(),s=Date.now()-n,o=this.queueDepthHighWaterMark;return i===0?(this.items.length=0,this.readIndex=0,this.resetDepthTracking(),{drainedCount:r,remainingCount:0,durationMs:s,queueDepthHighWaterMark:o,drainedAll:!0}):(this.maybeCompact(!1),{drainedCount:r,remainingCount:this.getDepth(),durationMs:s,queueDepthHighWaterMark:o,drainedAll:!1})}clear(){this.items.length=0,this.readIndex=0,this.resetDepthTracking()}getDepth(){return this.items.length-this.readIndex}getQueueDepthHighWaterMark(){return this.queueDepthHighWaterMark}maybeCompact(e){const n=this.readIndex;if(n===0)return;const r=this.getDepth();(e||n>=this.options.compactionMinConsumedItems&&n>=r)&&(r>0&&this.items.copyWithin(0,n),this.items.length=r,this.readIndex=0)}resetDepthTracking(){this.queueDepthHighWaterMark=0,this.nextDepthThresholdIndex=0}}class AE{constructor(e){this.thresholds=e}sizeBytesHighWaterMark=0;nextThresholdIndex=0;track(e){e>this.sizeBytesHighWaterMark&&(this.sizeBytesHighWaterMark=e);const n=[];for(;this.nextThresholdIndex<this.thresholds.length&&e>=this.thresholds[this.nextThresholdIndex];){const r=this.thresholds[this.nextThresholdIndex];this.nextThresholdIndex+=1,n.push({threshold:r,sizeBytes:e,sizeBytesHighWaterMark:this.sizeBytesHighWaterMark})}return n}getHighWaterMark(){return this.sizeBytesHighWaterMark}}class S4{constructor(e){this.onLine=e}buffer="";decoder=new Iy.StringDecoder("utf8");write(e){const n=typeof e=="string"?e:this.decoder.write(e);n&&(this.buffer+=n,this.flushCompleteLines())}end(){const e=this.decoder.end();e&&(this.buffer+=e),this.buffer.length>0&&this.onLine(this.buffer),this.reset()}reset(){this.buffer="",this.decoder=new Iy.StringDecoder("utf8")}flushCompleteLines(){let e=0,n=this.buffer.indexOf(`
`,e);for(;n!==-1;){const r=n>e&&this.buffer[n-1]==="\r"?n-1:n;this.onLine(this.buffer.slice(e,r)),e=n+1,n=this.buffer.indexOf(`
`,e)}e>0&&(this.buffer=this.buffer.slice(e))}}function Mg(t){if(!t||!Y.existsSync(t))return null;const e=process.platform==="win32"?"codex.exe":"codex",n=b4(t)?B.join(t,e):t;return Y.existsSync(n)&&T4(n)?n:null}function b4(t){try{return Y.statSync(t).isDirectory()}catch{return!1}}function T4(t){try{return Y.statSync(t).isFile()}catch{return!1}}const y4=3e4;class x4{bytesReadTotal=0;bytesWrittenTotal=0;windowBucketsBySecond=new Map;trackRead(e,n=Date.now()){e<=0||(this.bytesReadTotal+=e,this.updateWindowBucket(n,e,0))}trackWritten(e,n=Date.now()){e<=0||(this.bytesWrittenTotal+=e,this.updateWindowBucket(n,0,e))}getSnapshot(e=Date.now()){this.pruneWindowBuckets(e);let n=0,r=0;for(const i of this.windowBucketsBySecond.values())n+=i.bytesRead,r+=i.bytesWritten;return{bytesReadTotal:this.bytesReadTotal,bytesWrittenTotal:this.bytesWrittenTotal,bytesReadLast30s:n,bytesWrittenLast30s:r}}updateWindowBucket(e,n,r){const i=Math.floor(e/1e3),s=this.windowBucketsBySecond.get(i);s?(s.bytesRead+=n,s.bytesWritten+=r):this.windowBucketsBySecond.set(i,{bytesRead:n,bytesWritten:r}),this.pruneWindowBuckets(e)}pruneWindowBuckets(e){const n=Math.floor((e-y4)/1e3);for(const r of this.windowBucketsBySecond.keys())r<n&&this.windowBucketsBySecond.delete(r)}}const w4="Codex Desktop",A4=200,D4=8,Mw=[100,250,500,1e3,2500,5e3],R4=[64*1024,256*1024,1024*1024],I4=200,C4=8,O4=1024;class N4{constructor(e,n){this.options=e,this.ioStatsTracker=n,this.stdoutLineFramer=new S4(r=>{this.enqueueStdoutLine(r)}),this.spawnProcess()}readyState=er.Connecting;onopen=null;onmessage=null;onerror=null;onclose=null;proc=null;closeEmitted=!1;stdoutLineFramer;stdoutDispatchHandle=null;stdoutLineQueue=new HU({compactionMinConsumedItems:O4,depthThresholds:Mw});stdoutLineSizeTracker=new AE(R4);logger=bn("StdioConnection");send(e){if(this.readyState!==er.Open||!this.proc||!this.proc.stdin||this.proc.stdin.destroyed)throw new Error("Codex app-server process is not available");const n=`${e}
`;this.ioStatsTracker.trackWritten(Buffer.byteLength(n,"utf8")),this.proc.stdin.write(n)}close(){if(this.readyState===er.Closed)return;if(this.readyState=er.Closing,this.resetStdoutDispatchState(),!this.proc){this.readyState=er.Closed,this.emitClose({type:"close",code:null,reason:null,signal:null});return}if(!this.proc.killed&&this.proc.exitCode==null){this.proc.kill();return}const e=this.proc.exitCode;this.cleanupProcessListeners(),this.proc=null,this.readyState=er.Closed,this.emitClose({type:"close",code:e,reason:null,signal:null})}spawnProcess(){const e=Ht.spawn(this.options.executablePath,this.options.args,{stdio:["pipe","pipe","pipe"],env:this.options.env});if(!e.pid)throw new Error(`Failed to spawn Codex CLI at ${this.options.executablePath}`);this.logger.info("stdio_transport_spawned",{safe:{executablePath:this.options.executablePath,argsCount:this.options.args.length,pid:e.pid},sensitive:{}}),this.proc=e,this.stdoutLineFramer.reset(),this.readyState=er.Open,queueMicrotask(()=>{this.onopen?.({type:"open"})}),e.on("error",this.onProcessError),e.on("exit",this.onProcessExit),e.stderr&&e.stderr.on("data",this.onStderrData),e.stdout&&(e.stdout.on("data",this.onStdoutData),e.stdout.on("end",this.onStdoutEnd)),e.stdin&&e.stdin.on("error",this.onStdinError)}onProcessError=e=>{this.onerror?.({type:"error",error:e,message:e.message})};onProcessExit=(e,n)=>{this.flushPendingStdoutLines(),this.cleanupProcessListeners(),this.stdoutLineFramer.reset(),this.resetStdoutDispatchState(),this.proc=null,this.readyState=er.Closed,this.emitClose({type:"close",code:e,reason:null,signal:n,wasClean:e===0})};onStdoutData=e=>{this.ioStatsTracker.trackRead(typeof e=="string"?Buffer.byteLength(e,"utf8"):e.length),this.stdoutLineFramer.write(e)};onStdoutEnd=()=>{this.stdoutLineFramer.end(),this.flushPendingStdoutLines()};onStderrData=e=>{const n=e.toString().trim();n&&this.onerror?.({type:"error",message:n})};onStdinError=e=>{this.onerror?.({type:"error",error:e,message:e.message})};cleanupProcessListeners(){const e=this.proc;e&&(e.removeListener("error",this.onProcessError),e.removeListener("exit",this.onProcessExit),e.stderr&&e.stderr.removeListener("data",this.onStderrData),e.stdout&&(e.stdout.removeListener("data",this.onStdoutData),e.stdout.removeListener("end",this.onStdoutEnd)),e.stdin&&e.stdin.removeListener("error",this.onStdinError))}emitClose(e){this.closeEmitted||(this.closeEmitted=!0,this.onclose?.(e))}enqueueStdoutLine(e){const n=Buffer.byteLength(e,"utf8"),r=this.stdoutLineSizeTracker.track(n);for(const s of r)this.logger.trace("stdio_stdout_line_size_threshold",{safe:{threshold:s.threshold,lineBytes:s.sizeBytes,lineBytesHighWaterMark:s.sizeBytesHighWaterMark},sensitive:{}});const i=this.stdoutLineQueue.enqueue(e);for(const s of i)this.logger.trace("stdio_stdout_queue_depth_threshold",{safe:{threshold:s.threshold,queueDepth:s.queueDepth,queueDepthHighWaterMark:s.queueDepthHighWaterMark},sensitive:{}});this.scheduleStdoutDispatch()}scheduleStdoutDispatch(){this.stdoutDispatchHandle||(this.stdoutDispatchHandle=setImmediate(()=>{this.stdoutDispatchHandle=null,this.dispatchPendingStdoutLines(!1)}))}flushPendingStdoutLines(){this.dispatchPendingStdoutLines(!0)}dispatchPendingStdoutLines(e){if(this.stdoutLineQueue.getDepth()===0)return;const n=this.stdoutLineQueue.drain({flushAll:e,maxItemsPerSlice:A4,maxSliceMs:D4,onItem:r=>{this.onmessage?.({type:"message",data:r})}});if((n.durationMs>=C4||n.remainingCount>=I4)&&this.logger.debug("stdio_stdout_dispatch_slice",{safe:{flushAll:e,dispatchedCount:n.drainedCount,queueRemaining:n.remainingCount,dispatchDurationMs:n.durationMs,queueDepthHighWaterMark:n.queueDepthHighWaterMark},sensitive:{}}),n.drainedAll){n.queueDepthHighWaterMark>=Mw[0]&&this.logger.debug("stdio_stdout_queue_drained",{safe:{queueDepthHighWaterMark:n.queueDepthHighWaterMark},sensitive:{}});return}e||this.scheduleStdoutDispatch()}resetStdoutDispatchState(){this.stdoutDispatchHandle&&(clearImmediate(this.stdoutDispatchHandle),this.stdoutDispatchHandle=null),this.stdoutLineQueue.clear()}}class WU{constructor(e){this.options=e}kind="stdio";ioStatsTracker=new x4;supportsReconnect(){return!1}async connect(){const e=k4(this.options);if(!e)throw new Error("Unable to locate the Codex CLI binary. Set CODEX_CLI_PATH or ensure the Electron resources include bin/codex.");return new N4(e,this.ioStatsTracker)}getIoStatsSnapshot(){return this.ioStatsTracker.getSnapshot()}}function k4(t){const e=M4({hostConfig:t.hostConfig,repoRoot:t.repoRoot,resourcesPath:t.resourcesPath});if(!e)return null;const n={...process.env,RUST_LOG:process.env.RUST_LOG??"warn",CODEX_INTERNAL_ORIGINATOR_OVERRIDE:t.defaultOriginator??w4};return e.binDirectory&&(n.PATH=L4(n.PATH,e.binDirectory)),{executablePath:e.executablePath,args:e.args,env:n}}function P4(){const t=process.env.CODEX_CLI_PATH??process.env.CUSTOM_CLI_PATH??null;return t?Mg(t)!=null:!1}function YU(t,e){const n=[],r=process.env.CODEX_CLI_PATH??process.env.CUSTOM_CLI_PATH??null;if(r){const s=Mg(r);s&&n.push(s)}const i=process.platform==="win32"?"codex.exe":"codex";e?.resourcesPath&&(n.push(B.join(e.resourcesPath,i)),n.push(B.join(e.resourcesPath,"app.asar.unpacked",i))),t&&n.push(B.join(t,"extension","bin",i));for(const s of n){const o=Mg(s);if(o)return{executablePath:o,binDirectory:B.dirname(o)}}return null}function M4(t){const e=t.hostConfig.codex_cli_command;if(e&&e.length>0){const[r,...i]=e;return!r||r.trim().length===0?null:{executablePath:r,args:i}}const n=YU(t.repoRoot,{resourcesPath:t.resourcesPath});return n?{executablePath:n.executablePath,args:["app-server","--analytics-default-enabled"],binDirectory:n.binDirectory}:null}function L4(t,e){const n=process.platform==="win32"?";":":",r=t??"";return r.includes(e)?r:`${r}${r?n:""}${e}`}var Ft={},Gr={},Jo={},lu={},Dn={},Lw;function U4(){if(Lw)return Dn;Lw=1,Object.defineProperty(Dn,"__esModule",{value:!0});const t=k_,e={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};Dn.ERRORS=e;function n(l){if(!t.Buffer.isEncoding(l))throw new Error(e.INVALID_ENCODING)}Dn.checkEncoding=n;function r(l){return typeof l=="number"&&isFinite(l)&&c(l)}Dn.isFiniteInteger=r;function i(l,p){if(typeof l=="number"){if(!r(l)||l<0)throw new Error(p?e.INVALID_OFFSET:e.INVALID_LENGTH)}else throw new Error(p?e.INVALID_OFFSET_NON_NUMBER:e.INVALID_LENGTH_NON_NUMBER)}function s(l){i(l,!1)}Dn.checkLengthValue=s;function o(l){i(l,!0)}Dn.checkOffsetValue=o;function a(l,p){if(l<0||l>p.length)throw new Error(e.INVALID_TARGET_OFFSET)}Dn.checkTargetOffset=a;function c(l){return typeof l=="number"&&isFinite(l)&&Math.floor(l)===l}function u(l){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof t.Buffer.prototype[l]>"u")throw new Error(`Platform does not support Buffer.prototype.${l}.`)}return Dn.bigIntAndBufferInt64Check=u,Dn}var Uw;function F4(){if(Uw)return lu;Uw=1,Object.defineProperty(lu,"__esModule",{value:!0});const t=U4(),e=4096,n="utf8";class r{constructor(s){if(this.length=0,this._encoding=n,this._writeOffset=0,this._readOffset=0,r.isSmartBufferOptions(s))if(s.encoding&&(t.checkEncoding(s.encoding),this._encoding=s.encoding),s.size)if(t.isFiniteInteger(s.size)&&s.size>0)this._buff=Buffer.allocUnsafe(s.size);else throw new Error(t.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(s.buff)if(Buffer.isBuffer(s.buff))this._buff=s.buff,this.length=s.buff.length;else throw new Error(t.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(e);else{if(typeof s<"u")throw new Error(t.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(e)}}static fromSize(s,o){return new this({size:s,encoding:o})}static fromBuffer(s,o){return new this({buff:s,encoding:o})}static fromOptions(s){return new this(s)}static isSmartBufferOptions(s){const o=s;return o&&(o.encoding!==void 0||o.size!==void 0||o.buff!==void 0)}readInt8(s){return this._readNumberValue(Buffer.prototype.readInt8,1,s)}readInt16BE(s){return this._readNumberValue(Buffer.prototype.readInt16BE,2,s)}readInt16LE(s){return this._readNumberValue(Buffer.prototype.readInt16LE,2,s)}readInt32BE(s){return this._readNumberValue(Buffer.prototype.readInt32BE,4,s)}readInt32LE(s){return this._readNumberValue(Buffer.prototype.readInt32LE,4,s)}readBigInt64BE(s){return t.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,s)}readBigInt64LE(s){return t.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,s)}writeInt8(s,o){return this._writeNumberValue(Buffer.prototype.writeInt8,1,s,o),this}insertInt8(s,o){return this._insertNumberValue(Buffer.prototype.writeInt8,1,s,o)}writeInt16BE(s,o){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,s,o)}insertInt16BE(s,o){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,s,o)}writeInt16LE(s,o){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,s,o)}insertInt16LE(s,o){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,s,o)}writeInt32BE(s,o){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,s,o)}insertInt32BE(s,o){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,s,o)}writeInt32LE(s,o){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,s,o)}insertInt32LE(s,o){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,s,o)}writeBigInt64BE(s,o){return t.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,s,o)}insertBigInt64BE(s,o){return t.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,s,o)}writeBigInt64LE(s,o){return t.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,s,o)}insertBigInt64LE(s,o){return t.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,s,o)}readUInt8(s){return this._readNumberValue(Buffer.prototype.readUInt8,1,s)}readUInt16BE(s){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,s)}readUInt16LE(s){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,s)}readUInt32BE(s){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,s)}readUInt32LE(s){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,s)}readBigUInt64BE(s){return t.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,s)}readBigUInt64LE(s){return t.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,s)}writeUInt8(s,o){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,s,o)}insertUInt8(s,o){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,s,o)}writeUInt16BE(s,o){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,s,o)}insertUInt16BE(s,o){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,s,o)}writeUInt16LE(s,o){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,s,o)}insertUInt16LE(s,o){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,s,o)}writeUInt32BE(s,o){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,s,o)}insertUInt32BE(s,o){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,s,o)}writeUInt32LE(s,o){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,s,o)}insertUInt32LE(s,o){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,s,o)}writeBigUInt64BE(s,o){return t.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,s,o)}insertBigUInt64BE(s,o){return t.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,s,o)}writeBigUInt64LE(s,o){return t.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,s,o)}insertBigUInt64LE(s,o){return t.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,s,o)}readFloatBE(s){return this._readNumberValue(Buffer.prototype.readFloatBE,4,s)}readFloatLE(s){return this._readNumberValue(Buffer.prototype.readFloatLE,4,s)}writeFloatBE(s,o){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,s,o)}insertFloatBE(s,o){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,s,o)}writeFloatLE(s,o){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,s,o)}insertFloatLE(s,o){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,s,o)}readDoubleBE(s){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,s)}readDoubleLE(s){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,s)}writeDoubleBE(s,o){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,s,o)}insertDoubleBE(s,o){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,s,o)}writeDoubleLE(s,o){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,s,o)}insertDoubleLE(s,o){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,s,o)}readString(s,o){let a;typeof s=="number"?(t.checkLengthValue(s),a=Math.min(s,this.length-this._readOffset)):(o=s,a=this.length-this._readOffset),typeof o<"u"&&t.checkEncoding(o);const c=this._buff.slice(this._readOffset,this._readOffset+a).toString(o||this._encoding);return this._readOffset+=a,c}insertString(s,o,a){return t.checkOffsetValue(o),this._handleString(s,!0,o,a)}writeString(s,o,a){return this._handleString(s,!1,o,a)}readStringNT(s){typeof s<"u"&&t.checkEncoding(s);let o=this.length;for(let c=this._readOffset;c<this.length;c++)if(this._buff[c]===0){o=c;break}const a=this._buff.slice(this._readOffset,o);return this._readOffset=o+1,a.toString(s||this._encoding)}insertStringNT(s,o,a){return t.checkOffsetValue(o),this.insertString(s,o,a),this.insertUInt8(0,o+s.length),this}writeStringNT(s,o,a){return this.writeString(s,o,a),this.writeUInt8(0,typeof o=="number"?o+s.length:this.writeOffset),this}readBuffer(s){typeof s<"u"&&t.checkLengthValue(s);const o=typeof s=="number"?s:this.length,a=Math.min(this.length,this._readOffset+o),c=this._buff.slice(this._readOffset,a);return this._readOffset=a,c}insertBuffer(s,o){return t.checkOffsetValue(o),this._handleBuffer(s,!0,o)}writeBuffer(s,o){return this._handleBuffer(s,!1,o)}readBufferNT(){let s=this.length;for(let a=this._readOffset;a<this.length;a++)if(this._buff[a]===0){s=a;break}const o=this._buff.slice(this._readOffset,s);return this._readOffset=s+1,o}insertBufferNT(s,o){return t.checkOffsetValue(o),this.insertBuffer(s,o),this.insertUInt8(0,o+s.length),this}writeBufferNT(s,o){return typeof o<"u"&&t.checkOffsetValue(o),this.writeBuffer(s,o),this.writeUInt8(0,typeof o=="number"?o+s.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(s){t.checkOffsetValue(s),t.checkTargetOffset(s,this),this._readOffset=s}get writeOffset(){return this._writeOffset}set writeOffset(s){t.checkOffsetValue(s),t.checkTargetOffset(s,this),this._writeOffset=s}get encoding(){return this._encoding}set encoding(s){t.checkEncoding(s),this._encoding=s}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(s){const o=typeof s=="string"?s:this._encoding;return t.checkEncoding(o),this._buff.toString(o,0,this.length)}destroy(){return this.clear(),this}_handleString(s,o,a,c){let u=this._writeOffset,l=this._encoding;typeof a=="number"?u=a:typeof a=="string"&&(t.checkEncoding(a),l=a),typeof c=="string"&&(t.checkEncoding(c),l=c);const p=Buffer.byteLength(s,l);return o?this.ensureInsertable(p,u):this._ensureWriteable(p,u),this._buff.write(s,u,p,l),o?this._writeOffset+=p:typeof a=="number"?this._writeOffset=Math.max(this._writeOffset,u+p):this._writeOffset+=p,this}_handleBuffer(s,o,a){const c=typeof a=="number"?a:this._writeOffset;return o?this.ensureInsertable(s.length,c):this._ensureWriteable(s.length,c),s.copy(this._buff,c),o?this._writeOffset+=s.length:typeof a=="number"?this._writeOffset=Math.max(this._writeOffset,c+s.length):this._writeOffset+=s.length,this}ensureReadable(s,o){let a=this._readOffset;if(typeof o<"u"&&(t.checkOffsetValue(o),a=o),a<0||a+s>this.length)throw new Error(t.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(s,o){t.checkOffsetValue(o),this._ensureCapacity(this.length+s),o<this.length&&this._buff.copy(this._buff,o+s,o,this._buff.length),o+s>this.length?this.length=o+s:this.length+=s}_ensureWriteable(s,o){const a=typeof o=="number"?o:this._writeOffset;this._ensureCapacity(a+s),a+s>this.length&&(this.length=a+s)}_ensureCapacity(s){const o=this._buff.length;if(s>o){let a=this._buff,c=o*3/2+1;c<s&&(c=s),this._buff=Buffer.allocUnsafe(c),a.copy(this._buff,0,0,o)}}_readNumberValue(s,o,a){this.ensureReadable(o,a);const c=s.call(this._buff,typeof a=="number"?a:this._readOffset);return typeof a>"u"&&(this._readOffset+=o),c}_insertNumberValue(s,o,a,c){return t.checkOffsetValue(c),this.ensureInsertable(o,c),s.call(this._buff,a,c),this._writeOffset+=o,this}_writeNumberValue(s,o,a,c){if(typeof c=="number"){if(c<0)throw new Error(t.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);t.checkOffsetValue(c)}const u=typeof c=="number"?c:this._writeOffset;return this._ensureWriteable(o,u),s.call(this._buff,a,u),typeof c=="number"?this._writeOffset=Math.max(this._writeOffset,u+o):this._writeOffset+=o,this}}return lu.SmartBuffer=r,lu}var $e={},Fw;function KU(){if(Fw)return $e;Fw=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.SOCKS5_NO_ACCEPTABLE_AUTH=$e.SOCKS5_CUSTOM_AUTH_END=$e.SOCKS5_CUSTOM_AUTH_START=$e.SOCKS_INCOMING_PACKET_SIZES=$e.SocksClientState=$e.Socks5Response=$e.Socks5HostType=$e.Socks5Auth=$e.Socks4Response=$e.SocksCommand=$e.ERRORS=$e.DEFAULT_TIMEOUT=void 0;const t=3e4;$e.DEFAULT_TIMEOUT=t;const e={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};$e.ERRORS=e;const n={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:d=>d+7,Socks4Response:8};$e.SOCKS_INCOMING_PACKET_SIZES=n;var r;(function(d){d[d.connect=1]="connect",d[d.bind=2]="bind",d[d.associate=3]="associate"})(r||($e.SocksCommand=r={}));var i;(function(d){d[d.Granted=90]="Granted",d[d.Failed=91]="Failed",d[d.Rejected=92]="Rejected",d[d.RejectedIdent=93]="RejectedIdent"})(i||($e.Socks4Response=i={}));var s;(function(d){d[d.NoAuth=0]="NoAuth",d[d.GSSApi=1]="GSSApi",d[d.UserPass=2]="UserPass"})(s||($e.Socks5Auth=s={}));const o=128;$e.SOCKS5_CUSTOM_AUTH_START=o;const a=254;$e.SOCKS5_CUSTOM_AUTH_END=a;const c=255;$e.SOCKS5_NO_ACCEPTABLE_AUTH=c;var u;(function(d){d[d.Granted=0]="Granted",d[d.Failure=1]="Failure",d[d.NotAllowed=2]="NotAllowed",d[d.NetworkUnreachable=3]="NetworkUnreachable",d[d.HostUnreachable=4]="HostUnreachable",d[d.ConnectionRefused=5]="ConnectionRefused",d[d.TTLExpired=6]="TTLExpired",d[d.CommandNotSupported=7]="CommandNotSupported",d[d.AddressNotSupported=8]="AddressNotSupported"})(u||($e.Socks5Response=u={}));var l;(function(d){d[d.IPv4=1]="IPv4",d[d.Hostname=3]="Hostname",d[d.IPv6=4]="IPv6"})(l||($e.Socks5HostType=l={}));var p;return(function(d){d[d.Created=0]="Created",d[d.Connecting=1]="Connecting",d[d.Connected=2]="Connected",d[d.SentInitialHandshake=3]="SentInitialHandshake",d[d.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",d[d.SentAuthentication=5]="SentAuthentication",d[d.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",d[d.SentFinalHandshake=7]="SentFinalHandshake",d[d.ReceivedFinalResponse=8]="ReceivedFinalResponse",d[d.BoundWaitingForConnection=9]="BoundWaitingForConnection",d[d.Established=10]="Established",d[d.Disconnected=11]="Disconnected",d[d.Error=99]="Error"})(p||($e.SocksClientState=p={})),$e}var $t={},qr={},$w;function ZU(){if($w)return qr;$w=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.shuffleArray=qr.SocksClientError=void 0;class t extends Error{constructor(r,i){super(r),this.options=i}}qr.SocksClientError=t;function e(n){for(let r=n.length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1));[n[r],n[i]]=[n[i],n[r]]}}return qr.shuffleArray=e,qr}var Zn={},an={},Sr={},Bw;function Lg(){if(Bw)return Sr;Bw=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.isInSubnet=t,Sr.isCorrect=e,Sr.numberToPaddedHex=n,Sr.stringToPaddedHex=r,Sr.testBit=i;function t(s){return this.subnetMask<s.subnetMask?!1:this.mask(s.subnetMask)===s.mask()}function e(s){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===s&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}function n(s){return s.toString(16).padStart(2,"0")}function r(s){return n(parseInt(s,10))}function i(s,o){const{length:a}=s;if(o>a)return!1;const c=a-o;return s.substring(c,c+1)==="1"}return Sr}var cn={},jw;function XU(){return jw||(jw=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.RE_SUBNET_STRING=cn.RE_ADDRESS=cn.GROUPS=cn.BITS=void 0,cn.BITS=32,cn.GROUPS=4,cn.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,cn.RE_SUBNET_STRING=/\/\d{1,2}$/),cn}var Qo={},Vw;function DE(){if(Vw)return Qo;Vw=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.AddressError=void 0;class t extends Error{constructor(n,r){super(n),this.name="AddressError",this.parseMessage=r}}return Qo.AddressError=t,Qo}var zw;function JU(){if(zw)return an;zw=1;var t=an&&an.__createBinding||(Object.create?(function(a,c,u,l){l===void 0&&(l=u);var p=Object.getOwnPropertyDescriptor(c,u);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(a,l,p)}):(function(a,c,u,l){l===void 0&&(l=u),a[l]=c[u]})),e=an&&an.__setModuleDefault||(Object.create?(function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}):function(a,c){a.default=c}),n=an&&an.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&t(c,a,u);return e(c,a),c};Object.defineProperty(an,"__esModule",{value:!0}),an.Address4=void 0;const r=n(Lg()),i=n(XU()),s=DE();class o{constructor(c){this.groups=i.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=r.isCorrect(i.BITS),this.isInSubnet=r.isInSubnet,this.address=c;const u=i.RE_SUBNET_STRING.exec(c);if(u){if(this.parsedSubnet=u[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>i.BITS)throw new s.AddressError("Invalid subnet mask.");c=c.replace(i.RE_SUBNET_STRING,"")}this.addressMinusSuffix=c,this.parsedAddress=this.parse(c)}static isValid(c){try{return new o(c),!0}catch{return!1}}parse(c){const u=c.split(".");if(!c.match(i.RE_ADDRESS))throw new s.AddressError("Invalid IPv4 address.");return u}correctForm(){return this.parsedAddress.map(c=>parseInt(c,10)).join(".")}static fromHex(c){const u=c.replace(/:/g,"").padStart(8,"0"),l=[];let p;for(p=0;p<8;p+=2){const d=u.slice(p,p+2);l.push(parseInt(d,16))}return new o(l.join("."))}static fromInteger(c){return o.fromHex(c.toString(16))}static fromArpa(c){const l=c.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new o(l)}toHex(){return this.parsedAddress.map(c=>r.stringToPaddedHex(c)).join(":")}toArray(){return this.parsedAddress.map(c=>parseInt(c,10))}toGroup6(){const c=[];let u;for(u=0;u<i.GROUPS;u+=2)c.push(`${r.stringToPaddedHex(this.parsedAddress[u])}${r.stringToPaddedHex(this.parsedAddress[u+1])}`);return c.join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(c=>r.stringToPaddedHex(c)).join("")}`)}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(i.BITS-this.subnetMask)}`)}startAddress(){return o.fromBigInt(this._startAddress())}startAddressExclusive(){const c=BigInt("1");return o.fromBigInt(this._startAddress()+c)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(i.BITS-this.subnetMask)}`)}endAddress(){return o.fromBigInt(this._endAddress())}endAddressExclusive(){const c=BigInt("1");return o.fromBigInt(this._endAddress()-c)}static fromBigInt(c){return o.fromHex(c.toString(16))}static fromByteArray(c){if(c.length!==4)throw new s.AddressError("IPv4 addresses require exactly 4 bytes");for(let u=0;u<c.length;u++)if(!Number.isInteger(c[u])||c[u]<0||c[u]>255)throw new s.AddressError("All bytes must be integers between 0 and 255");return this.fromUnsignedByteArray(c)}static fromUnsignedByteArray(c){if(c.length!==4)throw new s.AddressError("IPv4 addresses require exactly 4 bytes");const u=c.join(".");return new o(u)}mask(c){return c===void 0&&(c=this.subnetMask),this.getBitsBase2(0,c)}getBitsBase2(c,u){return this.binaryZeroPad().slice(c,u)}reverseForm(c){c||(c={});const u=this.correctForm().split(".").reverse().join(".");return c.omitSuffix?u:`${u}.in-addr.arpa.`}isMulticast(){return this.isInSubnet(new o("224.0.0.0/4"))}binaryZeroPad(){return this.bigInt().toString(2).padStart(i.BITS,"0")}groupForV6(){const c=this.parsedAddress;return this.address.replace(i.RE_ADDRESS,`<span class="hover-group group-v4 group-6">${c.slice(0,2).join(".")}</span>.<span class="hover-group group-v4 group-7">${c.slice(2,4).join(".")}</span>`)}}return an.Address4=o,an}var un={},Xe={},Gw;function QU(){return Gw||(Gw=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.RE_URL_WITH_PORT=Xe.RE_URL=Xe.RE_ZONE_STRING=Xe.RE_SUBNET_STRING=Xe.RE_BAD_ADDRESS=Xe.RE_BAD_CHARACTERS=Xe.TYPES=Xe.SCOPES=Xe.GROUPS=Xe.BITS=void 0,Xe.BITS=128,Xe.GROUPS=8,Xe.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},Xe.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},Xe.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,Xe.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,Xe.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,Xe.RE_ZONE_STRING=/%.*$/,Xe.RE_URL=/^\[{0,1}([0-9a-f:]+)\]{0,1}/,Xe.RE_URL_WITH_PORT=/\[([0-9a-f:]+)\]:([0-9]{1,5})/),Xe}var Hr={},qw;function e1(){if(qw)return Hr;qw=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.spanAllZeroes=t,Hr.spanAll=e,Hr.spanLeadingZeroes=r,Hr.simpleGroup=i;function t(s){return s.replace(/(0+)/g,'<span class="zero">$1</span>')}function e(s,o=0){return s.split("").map((c,u)=>`<span class="digit value-${c} position-${u+o}">${t(c)}</span>`).join("")}function n(s){return s.replace(/^(0+)/,'<span class="zero">$1</span>')}function r(s){return s.split(":").map(a=>n(a)).join(":")}function i(s,o=0){return s.split(":").map((c,u)=>/group-v4/.test(c)?c:`<span class="hover-group group-${u+o}">${n(c)}</span>`)}return Hr}var bt={},Hw;function $4(){if(Hw)return bt;Hw=1;var t=bt&&bt.__createBinding||(Object.create?(function(c,u,l,p){p===void 0&&(p=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(c,p,d)}):(function(c,u,l,p){p===void 0&&(p=l),c[p]=u[l]})),e=bt&&bt.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),n=bt&&bt.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&t(u,c,l);return e(u,c),u};Object.defineProperty(bt,"__esModule",{value:!0}),bt.ADDRESS_BOUNDARY=void 0,bt.groupPossibilities=i,bt.padGroup=s,bt.simpleRegularExpression=o,bt.possibleElisions=a;const r=n(QU());function i(c){return`(${c.join("|")})`}function s(c){return c.length<4?`0{0,${4-c.length}}${c}`:c}bt.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function o(c){const u=[];c.forEach((p,d)=>{parseInt(p,16)===0&&u.push(d)});const l=u.map(p=>c.map((d,f)=>{if(f===p){const m=f===0||f===r.GROUPS-1?":":"";return i([s(d),m])}return s(d)}).join(":"));return l.push(c.map(s).join(":")),i(l)}function a(c,u,l){const p=u?"":":",d=l?"":":",f=[];!u&&!l&&f.push("::"),u&&l&&f.push(""),(l&&!u||!l&&u)&&f.push(":"),f.push(`${p}(:0{1,4}){1,${c-1}}`),f.push(`(0{1,4}:){1,${c-1}}${d}`),f.push(`(0{1,4}:){${c-1}}0{1,4}`);for(let m=1;m<c-1;m++)for(let h=1;h<c-m;h++)f.push(`(0{1,4}:){${h}}:(0{1,4}:){${c-h-m-1}}0{1,4}`);return i(f)}return bt}var Ww;function B4(){if(Ww)return un;Ww=1;var t=un&&un.__createBinding||(Object.create?(function(S,v,T,y){y===void 0&&(y=T);var b=Object.getOwnPropertyDescriptor(v,T);(!b||("get"in b?!v.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return v[T]}}),Object.defineProperty(S,y,b)}):(function(S,v,T,y){y===void 0&&(y=T),S[y]=v[T]})),e=un&&un.__setModuleDefault||(Object.create?(function(S,v){Object.defineProperty(S,"default",{enumerable:!0,value:v})}):function(S,v){S.default=v}),n=un&&un.__importStar||function(S){if(S&&S.__esModule)return S;var v={};if(S!=null)for(var T in S)T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)&&t(v,S,T);return e(v,S),v};Object.defineProperty(un,"__esModule",{value:!0}),un.Address6=void 0;const r=n(Lg()),i=n(XU()),s=n(QU()),o=n(e1()),a=JU(),c=$4(),u=DE(),l=Lg();function p(S){if(!S)throw new Error("Assertion failed.")}function d(S){const v=/(\d+)(\d{3})/;for(;v.test(S);)S=S.replace(v,"$1,$2");return S}function f(S){return S=S.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),S=S.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),S}function m(S,v){const T=[],y=[];let b;for(b=0;b<S.length;b++)b<v[0]?T.push(S[b]):b>v[1]&&y.push(S[b]);return T.concat(["compact"]).concat(y)}function h(S){return parseInt(S,16).toString(16).padStart(4,"0")}function g(S){return S&255}class _{constructor(v,T){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=r.isInSubnet,this.isCorrect=r.isCorrect(s.BITS),T===void 0?this.groups=s.GROUPS:this.groups=T,this.address=v;const y=s.RE_SUBNET_STRING.exec(v);if(y){if(this.parsedSubnet=y[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>s.BITS)throw new u.AddressError("Invalid subnet mask.");v=v.replace(s.RE_SUBNET_STRING,"")}else if(/\//.test(v))throw new u.AddressError("Invalid subnet mask.");const b=s.RE_ZONE_STRING.exec(v);b&&(this.zone=b[0],v=v.replace(s.RE_ZONE_STRING,"")),this.addressMinusSuffix=v,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(v){try{return new _(v),!0}catch{return!1}}static fromBigInt(v){const T=v.toString(16).padStart(32,"0"),y=[];let b;for(b=0;b<s.GROUPS;b++)y.push(T.slice(b*4,(b+1)*4));return new _(y.join(":"))}static fromURL(v){let T,y=null,b;if(v.indexOf("[")!==-1&&v.indexOf("]:")!==-1){if(b=s.RE_URL_WITH_PORT.exec(v),b===null)return{error:"failed to parse address with port",address:null,port:null};T=b[1],y=b[2]}else if(v.indexOf("/")!==-1){if(v=v.replace(/^[a-z0-9]+:\/\//,""),b=s.RE_URL.exec(v),b===null)return{error:"failed to parse address from URL",address:null,port:null};T=b[1]}else T=v;return y?(y=parseInt(y,10),(y<0||y>65536)&&(y=null)):y=null,{address:new _(T),port:y}}static fromAddress4(v){const T=new a.Address4(v),y=s.BITS-(i.BITS-T.subnetMask);return new _(`::ffff:${T.correctForm()}/${y}`)}static fromArpa(v){let T=v.replace(/(\.ip6\.arpa)?\.$/,"");const y=7;if(T.length!==63)throw new u.AddressError("Invalid 'ip6.arpa' form.");const b=T.split(".").reverse();for(let x=y;x>0;x--){const D=x*4;b.splice(D,0,":")}return T=b.join(""),new _(T)}microsoftTranscription(){return`${this.correctForm().replace(/:/g,"-")}.ipv6-literal.net`}mask(v=this.subnetMask){return this.getBitsBase2(0,v)}possibleSubnets(v=128){const T=s.BITS-this.subnetMask,y=Math.abs(v-s.BITS),b=T-y;return b<0?"0":d((BigInt("2")**BigInt(b)).toString(10))}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(s.BITS-this.subnetMask)}`)}startAddress(){return _.fromBigInt(this._startAddress())}startAddressExclusive(){const v=BigInt("1");return _.fromBigInt(this._startAddress()+v)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(s.BITS-this.subnetMask)}`)}endAddress(){return _.fromBigInt(this._endAddress())}endAddressExclusive(){const v=BigInt("1");return _.fromBigInt(this._endAddress()-v)}getScope(){let v=s.SCOPES[parseInt(this.getBits(12,16).toString(10),10)];return this.getType()==="Global unicast"&&v!=="Link local"&&(v="Global"),v||"Unknown"}getType(){for(const v of Object.keys(s.TYPES))if(this.isInSubnet(new _(v)))return s.TYPES[v];return"Global unicast"}getBits(v,T){return BigInt(`0b${this.getBitsBase2(v,T)}`)}getBitsBase2(v,T){return this.binaryZeroPad().slice(v,T)}getBitsBase16(v,T){const y=T-v;if(y%4!==0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(v,T).toString(16).padStart(y/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,s.BITS)}reverseForm(v){v||(v={});const T=Math.floor(this.subnetMask/4),y=this.canonicalForm().replace(/:/g,"").split("").slice(0,T).reverse().join(".");return T>0?v.omitSuffix?y:`${y}.ip6.arpa.`:v.omitSuffix?"":"ip6.arpa."}correctForm(){let v,T=[],y=0;const b=[];for(v=0;v<this.parsedAddress.length;v++){const k=parseInt(this.parsedAddress[v],16);k===0&&y++,k!==0&&y>0&&(y>1&&b.push([v-y,v-1]),y=0)}y>1&&b.push([this.parsedAddress.length-y,this.parsedAddress.length-1]);const x=b.map(k=>k[1]-k[0]+1);if(b.length>0){const k=x.indexOf(Math.max(...x));T=m(this.parsedAddress,b[k])}else T=this.parsedAddress;for(v=0;v<T.length;v++)T[v]!=="compact"&&(T[v]=parseInt(T[v],16).toString(16));let D=T.join(":");return D=D.replace(/^compact$/,"::"),D=D.replace(/(^compact)|(compact$)/,":"),D=D.replace(/compact/,""),D}binaryZeroPad(){return this.bigInt().toString(2).padStart(s.BITS,"0")}parse4in6(v){const T=v.split(":"),b=T.slice(-1)[0].match(i.RE_ADDRESS);if(b){this.parsedAddress4=b[0],this.address4=new a.Address4(this.parsedAddress4);for(let x=0;x<this.address4.groups;x++)if(/^0[0-9]+/.test(this.address4.parsedAddress[x]))throw new u.AddressError("IPv4 addresses can't have leading zeroes.",v.replace(i.RE_ADDRESS,this.address4.parsedAddress.map(f).join(".")));this.v4=!0,T[T.length-1]=this.address4.toGroup6(),v=T.join(":")}return v}parse(v){v=this.parse4in6(v);const T=v.match(s.RE_BAD_CHARACTERS);if(T)throw new u.AddressError(`Bad character${T.length>1?"s":""} detected in address: ${T.join("")}`,v.replace(s.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));const y=v.match(s.RE_BAD_ADDRESS);if(y)throw new u.AddressError(`Address failed regex: ${y.join("")}`,v.replace(s.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let b=[];const x=v.split("::");if(x.length===2){let D=x[0].split(":"),k=x[1].split(":");D.length===1&&D[0]===""&&(D=[]),k.length===1&&k[0]===""&&(k=[]);const U=this.groups-(D.length+k.length);if(!U)throw new u.AddressError("Error parsing groups");this.elidedGroups=U,this.elisionBegin=D.length,this.elisionEnd=D.length+this.elidedGroups,b=b.concat(D);for(let C=0;C<U;C++)b.push("0");b=b.concat(k)}else if(x.length===1)b=v.split(":"),this.elidedGroups=0;else throw new u.AddressError("Too many :: groups found");if(b=b.map(D=>parseInt(D,16).toString(16)),b.length!==this.groups)throw new u.AddressError("Incorrect number of groups found");return b}canonicalForm(){return this.parsedAddress.map(h).join(":")}decimal(){return this.parsedAddress.map(v=>parseInt(v,16).toString(10).padStart(5,"0")).join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(h).join("")}`)}to4(){const v=this.binaryZeroPad().split("");return a.Address4.fromHex(BigInt(`0b${v.slice(96,128).join("")}`).toString(16))}to4in6(){const v=this.to4(),y=new _(this.parsedAddress.slice(0,6).join(":"),6).correctForm();let b="";return/:$/.test(y)||(b=":"),y+b+v.address}inspectTeredo(){const v=this.getBitsBase16(0,32),y=(this.getBits(80,96)^BigInt("0xffff")).toString(),b=a.Address4.fromHex(this.getBitsBase16(32,64)),x=this.getBits(96,128),D=a.Address4.fromHex((x^BigInt("0xffffffff")).toString(16)),k=this.getBitsBase2(64,80),U=(0,l.testBit)(k,15),C=(0,l.testBit)(k,14),L=(0,l.testBit)(k,8),j=(0,l.testBit)(k,9),N=BigInt(`0b${k.slice(2,6)+k.slice(8,16)}`).toString(10);return{prefix:`${v.slice(0,4)}:${v.slice(4,8)}`,server4:b.address,client4:D.address,flags:k,coneNat:U,microsoft:{reserved:C,universalLocal:j,groupIndividual:L,nonce:N},udpPort:y}}inspect6to4(){const v=this.getBitsBase16(0,16),T=a.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:v.slice(0,4),gateway:T.address}}to6to4(){if(!this.is4())return null;const v=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new _(v)}toByteArray(){const v=this.bigInt().toString(16),y=`${"0".repeat(v.length%2)}${v}`,b=[];for(let x=0,D=y.length;x<D;x+=2)b.push(parseInt(y.substring(x,x+2),16));return b}toUnsignedByteArray(){return this.toByteArray().map(g)}static fromByteArray(v){return this.fromUnsignedByteArray(v.map(g))}static fromUnsignedByteArray(v){const T=BigInt("256");let y=BigInt("0"),b=BigInt("1");for(let x=v.length-1;x>=0;x--)y+=b*BigInt(v[x].toString(10)),b*=T;return _.fromBigInt(y)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"}isMulticast(){return this.getType()==="Multicast"}is4(){return this.v4}isTeredo(){return this.isInSubnet(new _("2001::/32"))}is6to4(){return this.isInSubnet(new _("2002::/16"))}isLoopback(){return this.getType()==="Loopback"}href(v){return v===void 0?v="":v=`:${v}`,`http://[${this.correctForm()}]${v}/`}link(v){v||(v={}),v.className===void 0&&(v.className=""),v.prefix===void 0&&(v.prefix="/#address="),v.v4===void 0&&(v.v4=!1);let T=this.correctForm;v.v4&&(T=this.to4in6);const y=T.call(this);return v.className?`<a href="${v.prefix}${y}" class="${v.className}">${y}</a>`:`<a href="${v.prefix}${y}">${y}</a>`}group(){if(this.elidedGroups===0)return o.simpleGroup(this.address).join(":");p(typeof this.elidedGroups=="number"),p(typeof this.elisionBegin=="number");const v=[],[T,y]=this.address.split("::");T.length?v.push(...o.simpleGroup(T)):v.push("");const b=["hover-group"];for(let x=this.elisionBegin;x<this.elisionBegin+this.elidedGroups;x++)b.push(`group-${x}`);return v.push(`<span class="${b.join(" ")}"></span>`),y.length?v.push(...o.simpleGroup(y,this.elisionEnd)):v.push(""),this.is4()&&(p(this.address4 instanceof a.Address4),v.pop(),v.push(this.address4.groupForV6())),v.join(":")}regularExpressionString(v=!1){let T=[];const y=new _(this.correctForm());if(y.elidedGroups===0)T.push((0,c.simpleRegularExpression)(y.parsedAddress));else if(y.elidedGroups===s.GROUPS)T.push((0,c.possibleElisions)(s.GROUPS));else{const b=y.address.split("::");b[0].length&&T.push((0,c.simpleRegularExpression)(b[0].split(":"))),p(typeof y.elidedGroups=="number"),T.push((0,c.possibleElisions)(y.elidedGroups,b[0].length!==0,b[1].length!==0)),b[1].length&&T.push((0,c.simpleRegularExpression)(b[1].split(":"))),T=[T.join(":")]}return v||(T=["(?=^|",c.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...T,")(?=[^\\w\\:]|",c.ADDRESS_BOUNDARY,"|$)"]),T.join("")}regularExpression(v=!1){return new RegExp(this.regularExpressionString(v),"i")}}return un.Address6=_,un}var Yw;function t1(){return Yw||(Yw=1,(function(t){var e=Zn&&Zn.__createBinding||(Object.create?(function(c,u,l,p){p===void 0&&(p=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(c,p,d)}):(function(c,u,l,p){p===void 0&&(p=l),c[p]=u[l]})),n=Zn&&Zn.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),r=Zn&&Zn.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&e(u,c,l);return n(u,c),u};Object.defineProperty(t,"__esModule",{value:!0}),t.v6=t.AddressError=t.Address6=t.Address4=void 0;var i=JU();Object.defineProperty(t,"Address4",{enumerable:!0,get:function(){return i.Address4}});var s=B4();Object.defineProperty(t,"Address6",{enumerable:!0,get:function(){return s.Address6}});var o=DE();Object.defineProperty(t,"AddressError",{enumerable:!0,get:function(){return o.AddressError}});const a=r(e1());t.v6={helpers:a}})(Zn)),Zn}var Kw;function j4(){if(Kw)return $t;Kw=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.ipToBuffer=$t.int32ToIpv4=$t.ipv4ToInt32=$t.validateSocksClientChainOptions=$t.validateSocksClientOptions=void 0;const t=ZU(),e=KU(),n=jn,r=t1(),i=Rc;function s(m,h=["connect","bind","associate"]){if(!e.SocksCommand[m.command])throw new t.SocksClientError(e.ERRORS.InvalidSocksCommand,m);if(h.indexOf(m.command)===-1)throw new t.SocksClientError(e.ERRORS.InvalidSocksCommandForOperation,m);if(!c(m.destination))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsDestination,m);if(!u(m.proxy))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsProxy,m);if(a(m.proxy,m),m.timeout&&!l(m.timeout))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsTimeout,m);if(m.existing_socket&&!(m.existing_socket instanceof n.Duplex))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsExistingSocket,m)}$t.validateSocksClientOptions=s;function o(m){if(m.command!=="connect")throw new t.SocksClientError(e.ERRORS.InvalidSocksCommandChain,m);if(!c(m.destination))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsDestination,m);if(!(m.proxies&&Array.isArray(m.proxies)&&m.proxies.length>=2))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsProxiesLength,m);if(m.proxies.forEach(h=>{if(!u(h))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsProxy,m);a(h,m)}),m.timeout&&!l(m.timeout))throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsTimeout,m)}$t.validateSocksClientChainOptions=o;function a(m,h){if(m.custom_auth_method!==void 0){if(m.custom_auth_method<e.SOCKS5_CUSTOM_AUTH_START||m.custom_auth_method>e.SOCKS5_CUSTOM_AUTH_END)throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsCustomAuthRange,h);if(m.custom_auth_request_handler===void 0||typeof m.custom_auth_request_handler!="function")throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,h);if(m.custom_auth_response_size===void 0)throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,h);if(m.custom_auth_response_handler===void 0||typeof m.custom_auth_response_handler!="function")throw new t.SocksClientError(e.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,h)}}function c(m){return m&&typeof m.host=="string"&&Buffer.byteLength(m.host)<256&&typeof m.port=="number"&&m.port>=0&&m.port<=65535}function u(m){return m&&(typeof m.host=="string"||typeof m.ipaddress=="string")&&typeof m.port=="number"&&m.port>=0&&m.port<=65535&&(m.type===4||m.type===5)}function l(m){return typeof m=="number"&&m>0}function p(m){return new r.Address4(m).toArray().reduce((g,_)=>(g<<8)+_,0)>>>0}$t.ipv4ToInt32=p;function d(m){const h=m>>>24&255,g=m>>>16&255,_=m>>>8&255,S=m&255;return[h,g,_,S].join(".")}$t.int32ToIpv4=d;function f(m){if(i.isIPv4(m)){const h=new r.Address4(m);return Buffer.from(h.toArray())}else if(i.isIPv6(m)){const h=new r.Address6(m);return Buffer.from(h.canonicalForm().split(":").map(g=>g.padStart(4,"0")).join(""),"hex")}else throw new Error("Invalid IP address format")}return $t.ipToBuffer=f,$t}var ea={},Zw;function V4(){if(Zw)return ea;Zw=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.ReceiveBuffer=void 0;class t{constructor(n=4096){this.buffer=Buffer.allocUnsafe(n),this.offset=0,this.originalSize=n}get length(){return this.offset}append(n){if(!Buffer.isBuffer(n))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+n.length>=this.buffer.length){const r=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+n.length)),r.copy(this.buffer)}return n.copy(this.buffer,this.offset),this.offset+=n.length}peek(n){if(n>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,n)}get(n){if(n>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const r=Buffer.allocUnsafe(n);return this.buffer.slice(0,n).copy(r),this.buffer.copyWithin(0,n,n+this.offset-n),this.offset-=n,r}}return ea.ReceiveBuffer=t,ea}var Xw;function z4(){return Xw||(Xw=1,(function(t){var e=Jo&&Jo.__awaiter||function(p,d,f,m){function h(g){return g instanceof f?g:new f(function(_){_(g)})}return new(f||(f=Promise))(function(g,_){function S(y){try{T(m.next(y))}catch(b){_(b)}}function v(y){try{T(m.throw(y))}catch(b){_(b)}}function T(y){y.done?g(y.value):h(y.value).then(S,v)}T((m=m.apply(p,d||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SocksClientError=t.SocksClient=void 0;const n=Ps,r=Rc,i=F4(),s=KU(),o=j4(),a=V4(),c=ZU();Object.defineProperty(t,"SocksClientError",{enumerable:!0,get:function(){return c.SocksClientError}});const u=t1();class l extends n.EventEmitter{constructor(d){super(),this.options=Object.assign({},d),(0,o.validateSocksClientOptions)(d),this.setState(s.SocksClientState.Created)}static createConnection(d,f){return new Promise((m,h)=>{try{(0,o.validateSocksClientOptions)(d,["connect"])}catch(_){return typeof f=="function"?(f(_),m(_)):h(_)}const g=new l(d);g.connect(d.existing_socket),g.once("established",_=>{g.removeAllListeners(),typeof f=="function"&&f(null,_),m(_)}),g.once("error",_=>{g.removeAllListeners(),typeof f=="function"?(f(_),m(_)):h(_)})})}static createConnectionChain(d,f){return new Promise((m,h)=>e(this,void 0,void 0,function*(){try{(0,o.validateSocksClientChainOptions)(d)}catch(g){return typeof f=="function"?(f(g),m(g)):h(g)}d.randomizeChain&&(0,c.shuffleArray)(d.proxies);try{let g;for(let _=0;_<d.proxies.length;_++){const S=d.proxies[_],v=_===d.proxies.length-1?d.destination:{host:d.proxies[_+1].host||d.proxies[_+1].ipaddress,port:d.proxies[_+1].port},T=yield l.createConnection({command:"connect",proxy:S,destination:v,existing_socket:g});g=g||T.socket}typeof f=="function"?(f(null,{socket:g}),m({socket:g})):m({socket:g})}catch(g){typeof f=="function"?(f(g),m(g)):h(g)}}))}static createUDPFrame(d){const f=new i.SmartBuffer;return f.writeUInt16BE(0),f.writeUInt8(d.frameNumber||0),r.isIPv4(d.remoteHost.host)?(f.writeUInt8(s.Socks5HostType.IPv4),f.writeUInt32BE((0,o.ipv4ToInt32)(d.remoteHost.host))):r.isIPv6(d.remoteHost.host)?(f.writeUInt8(s.Socks5HostType.IPv6),f.writeBuffer((0,o.ipToBuffer)(d.remoteHost.host))):(f.writeUInt8(s.Socks5HostType.Hostname),f.writeUInt8(Buffer.byteLength(d.remoteHost.host)),f.writeString(d.remoteHost.host)),f.writeUInt16BE(d.remoteHost.port),f.writeBuffer(d.data),f.toBuffer()}static parseUDPFrame(d){const f=i.SmartBuffer.fromBuffer(d);f.readOffset=2;const m=f.readUInt8(),h=f.readUInt8();let g;h===s.Socks5HostType.IPv4?g=(0,o.int32ToIpv4)(f.readUInt32BE()):h===s.Socks5HostType.IPv6?g=u.Address6.fromByteArray(Array.from(f.readBuffer(16))).canonicalForm():g=f.readString(f.readUInt8());const _=f.readUInt16BE();return{frameNumber:m,remoteHost:{host:g,port:_},data:f.readBuffer()}}setState(d){this.state!==s.SocksClientState.Error&&(this.state=d)}connect(d){this.onDataReceived=m=>this.onDataReceivedHandler(m),this.onClose=()=>this.onCloseHandler(),this.onError=m=>this.onErrorHandler(m),this.onConnect=()=>this.onConnectHandler();const f=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||s.DEFAULT_TIMEOUT);f.unref&&typeof f.unref=="function"&&f.unref(),d?this.socket=d:this.socket=new r.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(s.SocksClientState.Connecting),this.receiveBuffer=new a.ReceiveBuffer,d?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",m=>{setImmediate(()=>{if(this.receiveBuffer.length>0){const h=this.receiveBuffer.get(this.receiveBuffer.length);m.socket.emit("data",h)}m.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==s.SocksClientState.Established&&this.state!==s.SocksClientState.BoundWaitingForConnection&&this.closeSocket(s.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(s.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(s.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(d){this.receiveBuffer.append(d),this.processData()}processData(){for(;this.state!==s.SocksClientState.Established&&this.state!==s.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===s.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===s.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===s.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===s.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(s.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(s.ERRORS.SocketClosed)}onErrorHandler(d){this.closeSocket(d.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(d){this.state!==s.SocksClientState.Error&&(this.setState(s.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new c.SocksClientError(d,this.options)))}sendSocks4InitialHandshake(){const d=this.options.proxy.userId||"",f=new i.SmartBuffer;f.writeUInt8(4),f.writeUInt8(s.SocksCommand[this.options.command]),f.writeUInt16BE(this.options.destination.port),r.isIPv4(this.options.destination.host)?(f.writeBuffer((0,o.ipToBuffer)(this.options.destination.host)),f.writeStringNT(d)):(f.writeUInt8(0),f.writeUInt8(0),f.writeUInt8(0),f.writeUInt8(1),f.writeStringNT(d),f.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(f.toBuffer())}handleSocks4FinalHandshakeResponse(){const d=this.receiveBuffer.get(8);if(d[1]!==s.Socks4Response.Granted)this.closeSocket(`${s.ERRORS.Socks4ProxyRejectedConnection} - (${s.Socks4Response[d[1]]})`);else if(s.SocksCommand[this.options.command]===s.SocksCommand.bind){const f=i.SmartBuffer.fromBuffer(d);f.readOffset=2;const m={port:f.readUInt16BE(),host:(0,o.int32ToIpv4)(f.readUInt32BE())};m.host==="0.0.0.0"&&(m.host=this.options.proxy.ipaddress),this.setState(s.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:m,socket:this.socket})}else this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const d=this.receiveBuffer.get(8);if(d[1]!==s.Socks4Response.Granted)this.closeSocket(`${s.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${s.Socks4Response[d[1]]})`);else{const f=i.SmartBuffer.fromBuffer(d);f.readOffset=2;const m={port:f.readUInt16BE(),host:(0,o.int32ToIpv4)(f.readUInt32BE())};this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:m,socket:this.socket})}}sendSocks5InitialHandshake(){const d=new i.SmartBuffer,f=[s.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&f.push(s.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&f.push(this.options.proxy.custom_auth_method),d.writeUInt8(5),d.writeUInt8(f.length);for(const m of f)d.writeUInt8(m);this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(d.toBuffer()),this.setState(s.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const d=this.receiveBuffer.get(2);d[0]!==5?this.closeSocket(s.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):d[1]===s.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(s.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):d[1]===s.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=s.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):d[1]===s.Socks5Auth.UserPass?(this.socks5ChosenAuthType=s.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):d[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(s.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const d=this.options.proxy.userId||"",f=this.options.proxy.password||"",m=new i.SmartBuffer;m.writeUInt8(1),m.writeUInt8(Buffer.byteLength(d)),m.writeString(d),m.writeUInt8(Buffer.byteLength(f)),m.writeString(f),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(m.toBuffer()),this.setState(s.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return e(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(s.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(d){return e(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(d)})}handleSocks5AuthenticationNoAuthHandshakeResponse(d){return e(this,void 0,void 0,function*(){return d[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(d){return e(this,void 0,void 0,function*(){return d[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return e(this,void 0,void 0,function*(){this.setState(s.SocksClientState.ReceivedAuthenticationResponse);let d=!1;this.socks5ChosenAuthType===s.Socks5Auth.NoAuth?d=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===s.Socks5Auth.UserPass?d=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(d=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),d?this.sendSocks5CommandRequest():this.closeSocket(s.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){const d=new i.SmartBuffer;d.writeUInt8(5),d.writeUInt8(s.SocksCommand[this.options.command]),d.writeUInt8(0),r.isIPv4(this.options.destination.host)?(d.writeUInt8(s.Socks5HostType.IPv4),d.writeBuffer((0,o.ipToBuffer)(this.options.destination.host))):r.isIPv6(this.options.destination.host)?(d.writeUInt8(s.Socks5HostType.IPv6),d.writeBuffer((0,o.ipToBuffer)(this.options.destination.host))):(d.writeUInt8(s.Socks5HostType.Hostname),d.writeUInt8(this.options.destination.host.length),d.writeString(this.options.destination.host)),d.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(d.toBuffer()),this.setState(s.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const d=this.receiveBuffer.peek(5);if(d[0]!==5||d[1]!==s.Socks5Response.Granted)this.closeSocket(`${s.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${s.Socks5Response[d[1]]}`);else{const f=d[3];let m,h;if(f===s.Socks5HostType.IPv4){const g=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<g){this.nextRequiredPacketBufferSize=g;return}h=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(g).slice(4)),m={host:(0,o.int32ToIpv4)(h.readUInt32BE()),port:h.readUInt16BE()},m.host==="0.0.0.0"&&(m.host=this.options.proxy.ipaddress)}else if(f===s.Socks5HostType.Hostname){const g=d[4],_=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(g);if(this.receiveBuffer.length<_){this.nextRequiredPacketBufferSize=_;return}h=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(_).slice(5)),m={host:h.readString(g),port:h.readUInt16BE()}}else if(f===s.Socks5HostType.IPv6){const g=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<g){this.nextRequiredPacketBufferSize=g;return}h=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(g).slice(4)),m={host:u.Address6.fromByteArray(Array.from(h.readBuffer(16))).canonicalForm(),port:h.readUInt16BE()}}this.setState(s.SocksClientState.ReceivedFinalResponse),s.SocksCommand[this.options.command]===s.SocksCommand.connect?(this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:m,socket:this.socket})):s.SocksCommand[this.options.command]===s.SocksCommand.bind?(this.setState(s.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:m,socket:this.socket})):s.SocksCommand[this.options.command]===s.SocksCommand.associate&&(this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:m,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){const d=this.receiveBuffer.peek(5);if(d[0]!==5||d[1]!==s.Socks5Response.Granted)this.closeSocket(`${s.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${s.Socks5Response[d[1]]}`);else{const f=d[3];let m,h;if(f===s.Socks5HostType.IPv4){const g=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<g){this.nextRequiredPacketBufferSize=g;return}h=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(g).slice(4)),m={host:(0,o.int32ToIpv4)(h.readUInt32BE()),port:h.readUInt16BE()},m.host==="0.0.0.0"&&(m.host=this.options.proxy.ipaddress)}else if(f===s.Socks5HostType.Hostname){const g=d[4],_=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(g);if(this.receiveBuffer.length<_){this.nextRequiredPacketBufferSize=_;return}h=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(_).slice(5)),m={host:h.readString(g),port:h.readUInt16BE()}}else if(f===s.Socks5HostType.IPv6){const g=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<g){this.nextRequiredPacketBufferSize=g;return}h=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(g).slice(4)),m={host:u.Address6.fromByteArray(Array.from(h.readBuffer(16))).canonicalForm(),port:h.readUInt16BE()}}this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:m,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}t.SocksClient=l})(Jo)),Jo}var Jw;function G4(){return Jw||(Jw=1,(function(t){var e=Gr&&Gr.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=Gr&&Gr.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(z4(),t)})(Gr)),Gr}var ln={},Tt={},Qw;function q4(){if(Qw)return Tt;Qw=1;var t=Tt&&Tt.__createBinding||(Object.create?(function(c,u,l,p){p===void 0&&(p=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(c,p,d)}):(function(c,u,l,p){p===void 0&&(p=l),c[p]=u[l]})),e=Tt&&Tt.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),n=Tt&&Tt.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&t(u,c,l);return e(u,c),u};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.req=Tt.json=Tt.toBuffer=void 0;const r=n(ep),i=n(P_);async function s(c){let u=0;const l=[];for await(const p of c)u+=p.length,l.push(p);return Buffer.concat(l,u)}Tt.toBuffer=s;async function o(c){const l=(await s(c)).toString("utf8");try{return JSON.parse(l)}catch(p){const d=p;throw d.message+=` (input: ${l})`,d}}Tt.json=o;function a(c,u={}){const p=((typeof c=="string"?c:c.href).startsWith("https:")?i:r).request(c,u),d=new Promise((f,m)=>{p.once("response",f).once("error",m).end()});return p.then=d.then.bind(d),p}return Tt.req=a,Tt}var eA;function H4(){return eA||(eA=1,(function(t){var e=ln&&ln.__createBinding||(Object.create?(function(l,p,d,f){f===void 0&&(f=d);var m=Object.getOwnPropertyDescriptor(p,d);(!m||("get"in m?!p.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return p[d]}}),Object.defineProperty(l,f,m)}):(function(l,p,d,f){f===void 0&&(f=d),l[f]=p[d]})),n=ln&&ln.__setModuleDefault||(Object.create?(function(l,p){Object.defineProperty(l,"default",{enumerable:!0,value:p})}):function(l,p){l.default=p}),r=ln&&ln.__importStar||function(l){if(l&&l.__esModule)return l;var p={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&e(p,l,d);return n(p,l),p},i=ln&&ln.__exportStar||function(l,p){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(p,d)&&e(p,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;const s=r(Rc),o=r(ep),a=P_;i(q4(),t);const c=Symbol("AgentBaseInternalState");class u extends o.Agent{constructor(p){super(p),this[c]={}}isSecureEndpoint(p){if(p){if(typeof p.secureEndpoint=="boolean")return p.secureEndpoint;if(typeof p.protocol=="string")return p.protocol==="https:"}const{stack:d}=new Error;return typeof d!="string"?!1:d.split(`
`).some(f=>f.indexOf("(https.js:")!==-1||f.indexOf("node:https:")!==-1)}incrementSockets(p){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[p]||(this.sockets[p]=[]);const d=new s.Socket({writable:!1});return this.sockets[p].push(d),this.totalSocketCount++,d}decrementSockets(p,d){if(!this.sockets[p]||d===null)return;const f=this.sockets[p],m=f.indexOf(d);m!==-1&&(f.splice(m,1),this.totalSocketCount--,f.length===0&&delete this.sockets[p])}getName(p){return(typeof p.secureEndpoint=="boolean"?p.secureEndpoint:this.isSecureEndpoint(p))?a.Agent.prototype.getName.call(this,p):super.getName(p)}createSocket(p,d,f){const m={...d,secureEndpoint:this.isSecureEndpoint(d)},h=this.getName(m),g=this.incrementSockets(h);Promise.resolve().then(()=>this.connect(p,m)).then(_=>{if(this.decrementSockets(h,g),_ instanceof o.Agent)try{return _.addRequest(p,m)}catch(S){return f(S)}this[c].currentSocket=_,super.createSocket(p,d,f)},_=>{this.decrementSockets(h,g),f(_)})}createConnection(){const p=this[c].currentSocket;if(this[c].currentSocket=void 0,!p)throw new Error("No socket was returned in the `connect()` function");return p}get defaultPort(){return this[c].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(p){this[c]&&(this[c].defaultPort=p)}get protocol(){return this[c].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(p){this[c]&&(this[c].protocol=p)}}t.Agent=u})(ln)),ln}var pu={exports:{}},du={exports:{}},Nf,tA;function W4(){if(tA)return Nf;tA=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;Nf=function(l,p){p=p||{};var d=typeof l;if(d==="string"&&l.length>0)return o(l);if(d==="number"&&isFinite(l))return p.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(p){var d=parseFloat(p[1]),f=(p[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(l){var p=Math.abs(l);return p>=r?Math.round(l/r)+"d":p>=n?Math.round(l/n)+"h":p>=e?Math.round(l/e)+"m":p>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var p=Math.abs(l);return p>=r?u(l,p,r,"day"):p>=n?u(l,p,n,"hour"):p>=e?u(l,p,e,"minute"):p>=t?u(l,p,t,"second"):l+" ms"}function u(l,p,d,f){var m=p>=d*1.5;return Math.round(l/d)+" "+f+(m?"s":"")}return Nf}var kf,nA;function n1(){if(nA)return kf;nA=1;function t(e){r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=s,r.enabled=c,r.humanize=W4(),r.destroy=l,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function n(p){let d=0;for(let f=0;f<p.length;f++)d=(d<<5)-d+p.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=n;function r(p){let d,f=null,m,h;function g(..._){if(!g.enabled)return;const S=g,v=Number(new Date),T=v-(d||v);S.diff=T,S.prev=d,S.curr=v,d=v,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let y=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(x,D)=>{if(x==="%%")return"%";y++;const k=r.formatters[D];if(typeof k=="function"){const U=_[y];x=k.call(S,U),_.splice(y,1),y--}return x}),r.formatArgs.call(S,_),(S.log||r.log).apply(S,_)}return g.namespace=p,g.useColors=r.useColors(),g.color=r.selectColor(p),g.extend=i,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==r.namespaces&&(m=r.namespaces,h=r.enabled(p)),h),set:_=>{f=_}}),typeof r.init=="function"&&r.init(g),g}function i(p,d){const f=r(this.namespace+(typeof d>"u"?":":d)+p);return f.log=this.log,f}function s(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];const d=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const f of d)f[0]==="-"?r.skips.push(f.slice(1)):r.names.push(f)}function o(p,d){let f=0,m=0,h=-1,g=0;for(;f<p.length;)if(m<d.length&&(d[m]===p[f]||d[m]==="*"))d[m]==="*"?(h=m,g=f,m++):(f++,m++);else if(h!==-1)m=h+1,g++,f=g;else return!1;for(;m<d.length&&d[m]==="*";)m++;return m===d.length}function a(){const p=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),p}function c(p){for(const d of r.skips)if(o(p,d))return!1;for(const d of r.names)if(o(p,d))return!0;return!1}function u(p){return p instanceof Error?p.stack||p.message:p}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return kf=t,kf}var rA;function Y4(){return rA||(rA=1,(function(t,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,p=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(l++,d==="%c"&&(p=l))}),c.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=n1()(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(du,du.exports)),du.exports}var fu={exports:{}},Pf,iA;function K4(){return iA||(iA=1,Pf=(t,e=process.argv)=>{const n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}),Pf}var Mf,sA;function Z4(){if(sA)return Mf;sA=1;const t=Ic,e=_N,n=K4(),{env:r}=process;let i;n("no-color")||n("no-colors")||n("color=false")||n("color=never")?i=0:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(i=1);function s(){if("FORCE_COLOR"in r)return r.FORCE_COLOR==="true"?1:r.FORCE_COLOR==="false"?0:r.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(r.FORCE_COLOR,10),3)}function o(u){return u===0?!1:{level:u,hasBasic:!0,has256:u>=2,has16m:u>=3}}function a(u,{streamIsTTY:l,sniffFlags:p=!0}={}){const d=s();d!==void 0&&(i=d);const f=p?i:d;if(f===0)return 0;if(p){if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2}if(u&&!l&&f===void 0)return 0;const m=f||0;if(r.TERM==="dumb")return m;if(process.platform==="win32"){const h=t.release().split(".");return Number(h[0])>=10&&Number(h[2])>=10586?Number(h[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(h=>h in r)||r.CI_NAME==="codeship"?1:m;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const h=Number.parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return h>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:m}function c(u,l={}){const p=a(u,{streamIsTTY:u&&u.isTTY,...l});return o(p)}return Mf={supportsColor:c,stdout:c({isTTY:e.isatty(1)}),stderr:c({isTTY:e.isatty(2)})},Mf}var oA;function X4(){return oA||(oA=1,(function(t,e){const n=_N,r=Es;e.init=l,e.log=a,e.formatArgs=s,e.save=c,e.load=u,e.useColors=i,e.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{const d=Z4();d&&(d.stderr||d).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(d=>/^debug_/i.test(d)).reduce((d,f)=>{const m=f.substring(6).toLowerCase().replace(/_([a-z])/g,(g,_)=>_.toUpperCase());let h=process.env[f];return/^(yes|on|true|enabled)$/i.test(h)?h=!0:/^(no|off|false|disabled)$/i.test(h)?h=!1:h==="null"?h=null:h=Number(h),d[m]=h,d},{});function i(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:n.isatty(process.stderr.fd)}function s(d){const{namespace:f,useColors:m}=this;if(m){const h=this.color,g="\x1B[3"+(h<8?h:"8;5;"+h),_=`  ${g};1m${f} \x1B[0m`;d[0]=_+d[0].split(`
`).join(`
`+_),d.push(g+"m+"+t.exports.humanize(this.diff)+"\x1B[0m")}else d[0]=o()+f+" "+d[0]}function o(){return e.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...d){return process.stderr.write(r.formatWithOptions(e.inspectOpts,...d)+`
`)}function c(d){d?process.env.DEBUG=d:delete process.env.DEBUG}function u(){return process.env.DEBUG}function l(d){d.inspectOpts={};const f=Object.keys(e.inspectOpts);for(let m=0;m<f.length;m++)d.inspectOpts[f[m]]=e.inspectOpts[f[m]]}t.exports=n1()(e);const{formatters:p}=t.exports;p.o=function(d){return this.inspectOpts.colors=this.useColors,r.inspect(d,this.inspectOpts).split(`
`).map(f=>f.trim()).join(" ")},p.O=function(d){return this.inspectOpts.colors=this.useColors,r.inspect(d,this.inspectOpts)}})(fu,fu.exports)),fu.exports}var aA;function r1(){return aA||(aA=1,typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?pu.exports=Y4():pu.exports=X4()),pu.exports}var cA;function J4(){if(cA)return Ft;cA=1;var t=Ft&&Ft.__createBinding||(Object.create?(function(g,_,S,v){v===void 0&&(v=S);var T=Object.getOwnPropertyDescriptor(_,S);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(g,v,T)}):(function(g,_,S,v){v===void 0&&(v=S),g[v]=_[S]})),e=Ft&&Ft.__setModuleDefault||(Object.create?(function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}):function(g,_){g.default=_}),n=Ft&&Ft.__importStar||function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var S in g)S!=="default"&&Object.prototype.hasOwnProperty.call(g,S)&&t(_,g,S);return e(_,g),_},r=Ft&&Ft.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.SocksProxyAgent=void 0;const i=G4(),s=H4(),o=r(r1()),a=n(d2),c=n(Rc),u=n(vN),l=Ui,p=(0,o.default)("socks-proxy-agent"),d=g=>g.servername===void 0&&g.host&&!c.isIP(g.host)?{...g,servername:g.host}:g;function f(g){let _=!1,S=5;const v=g.hostname,T=parseInt(g.port,10)||1080;switch(g.protocol.replace(":","")){case"socks4":_=!0,S=4;break;case"socks4a":S=4;break;case"socks5":_=!0,S=5;break;case"socks":S=5;break;case"socks5h":S=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${String(g.protocol)}`)}const y={host:v,port:T,type:S};return g.username&&Object.defineProperty(y,"userId",{value:decodeURIComponent(g.username),enumerable:!1}),g.password!=null&&Object.defineProperty(y,"password",{value:decodeURIComponent(g.password),enumerable:!1}),{lookup:_,proxy:y}}class m extends s.Agent{constructor(_,S){super(S);const v=typeof _=="string"?new l.URL(_):_,{proxy:T,lookup:y}=f(v);this.shouldLookup=y,this.proxy=T,this.timeout=S?.timeout??null,this.socketOptions=S?.socketOptions??null}async connect(_,S){const{shouldLookup:v,proxy:T,timeout:y}=this;if(!S.host)throw new Error("No `host` defined!");let{host:b}=S;const{port:x,lookup:D=a.lookup}=S;v&&(b=await new Promise((L,j)=>{D(b,{},(N,H)=>{N?j(N):L(H)})}));const k={proxy:T,destination:{host:b,port:typeof x=="number"?x:parseInt(x,10)},command:"connect",timeout:y??void 0,socket_options:this.socketOptions??void 0},U=L=>{_.destroy(),C.destroy(),L&&L.destroy()};p("Creating socks proxy connection: %o",k);const{socket:C}=await i.SocksClient.createConnection(k);if(p("Successfully created socks proxy connection"),y!==null&&(C.setTimeout(y),C.on("timeout",()=>U())),S.secureEndpoint){p("Upgrading socket connection to TLS");const L=u.connect({...h(d(S),"host","path","port"),socket:C});return L.once("error",j=>{p("Socket TLS error",j.message),U(L)}),L}return C}}m.protocols=["socks","socks4","socks4a","socks5","socks5h"],Ft.SocksProxyAgent=m;function h(g,..._){const S={};let v;for(v in g)_.includes(v)||(S[v]=g[v]);return S}return Ft}var Q4=J4(),ta={exports:{}},Lf,uA;function Fr(){if(uA)return Lf;uA=1;const t=["nodebuffer","arraybuffer","fragments"],e=typeof Blob<"u";return e&&t.push("blob"),Lf={BINARY_TYPES:t,CLOSE_TIMEOUT:3e4,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:e,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}},Lf}var mu={exports:{}};function i1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hu={exports:{}},Uf,lA;function e3(){if(lA)return Uf;lA=1;var t=Qe,e=Ve,n=Ic,r=typeof __webpack_require__=="function"?__non_webpack_require__:i1,i=process.config&&process.config.variables||{},s=!!process.env.PREBUILDS_ONLY,o=process.versions.modules,a=k()?"electron":D()?"node-webkit":"node",c=process.env.npm_config_arch||n.arch(),u=process.env.npm_config_platform||n.platform(),l=process.env.LIBC||(U(u)?"musl":"glibc"),p=process.env.ARM_VERSION||(c==="arm64"?"8":i.arm_version)||"",d=(process.versions.uv||"").split(".")[0];Uf=f;function f(C){return r(f.resolve(C))}f.resolve=f.path=function(C){C=e.resolve(C||".");try{var L=r(e.join(C,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[L+"_PREBUILD"]&&(C=process.env[L+"_PREBUILD"])}catch{}if(!s){var j=h(e.join(C,"build/Release"),g);if(j)return j;var N=h(e.join(C,"build/Debug"),g);if(N)return N}var H=Q(C);if(H)return H;var O=Q(e.dirname(process.execPath));if(O)return O;var M=["platform="+u,"arch="+c,"runtime="+a,"abi="+o,"uv="+d,p?"armv="+p:"","libc="+l,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+M+`
    loaded from: `+C+`
`);function Q(de){var _e=m(e.join(de,"prebuilds")).map(_),oe=_e.filter(S(u,c)).sort(v)[0];if(oe){var I=e.join(de,"prebuilds",oe.name),F=m(I).map(T),z=F.filter(y(a,o)),q=z.sort(x(a))[0];if(q)return e.join(I,q.file)}}};function m(C){try{return t.readdirSync(C)}catch{return[]}}function h(C,L){var j=m(C).filter(L);return j[0]&&e.join(C,j[0])}function g(C){return/\.node$/.test(C)}function _(C){var L=C.split("-");if(L.length===2){var j=L[0],N=L[1].split("+");if(j&&N.length&&N.every(Boolean))return{name:C,platform:j,architectures:N}}}function S(C,L){return function(j){return j==null||j.platform!==C?!1:j.architectures.includes(L)}}function v(C,L){return C.architectures.length-L.architectures.length}function T(C){var L=C.split("."),j=L.pop(),N={file:C,specificity:0};if(j==="node"){for(var H=0;H<L.length;H++){var O=L[H];if(O==="node"||O==="electron"||O==="node-webkit")N.runtime=O;else if(O==="napi")N.napi=!0;else if(O.slice(0,3)==="abi")N.abi=O.slice(3);else if(O.slice(0,2)==="uv")N.uv=O.slice(2);else if(O.slice(0,4)==="armv")N.armv=O.slice(4);else if(O==="glibc"||O==="musl")N.libc=O;else continue;N.specificity++}return N}}function y(C,L){return function(j){return!(j==null||j.runtime&&j.runtime!==C&&!b(j)||j.abi&&j.abi!==L&&!j.napi||j.uv&&j.uv!==d||j.armv&&j.armv!==p||j.libc&&j.libc!==l)}}function b(C){return C.runtime==="node"&&C.napi}function x(C){return function(L,j){return L.runtime!==j.runtime?L.runtime===C?-1:1:L.abi!==j.abi?L.abi?-1:1:L.specificity!==j.specificity?L.specificity>j.specificity?-1:1:0}}function D(){return!!(process.versions&&process.versions.nw)}function k(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function U(C){return C==="linux"&&t.existsSync("/etc/alpine-release")}return f.parseTags=T,f.matchTags=y,f.compareTags=x,f.parseTuple=_,f.matchTuple=S,f.compareTuples=v,Uf}var pA;function s1(){if(pA)return hu.exports;pA=1;const t=typeof __webpack_require__=="function"?__non_webpack_require__:i1;return typeof t.addon=="function"?hu.exports=t.addon.bind(t):hu.exports=e3(),hu.exports}var Ff,dA;function t3(){return dA||(dA=1,Ff={mask:(n,r,i,s,o)=>{for(var a=0;a<o;a++)i[s+a]=n[a]^r[a&3]},unmask:(n,r)=>{const i=n.length;for(var s=0;s<i;s++)n[s]^=r[s&3]}}),Ff}var fA;function n3(){if(fA)return mu.exports;fA=1;try{mu.exports=s1()(__dirname)}catch{mu.exports=t3()}return mu.exports}var mA;function bp(){if(mA)return ta.exports;mA=1;const{EMPTY_BUFFER:t}=Fr(),e=Buffer[Symbol.species];function n(a,c){if(a.length===0)return t;if(a.length===1)return a[0];const u=Buffer.allocUnsafe(c);let l=0;for(let p=0;p<a.length;p++){const d=a[p];u.set(d,l),l+=d.length}return l<c?new e(u.buffer,u.byteOffset,l):u}function r(a,c,u,l,p){for(let d=0;d<p;d++)u[l+d]=a[d]^c[d&3]}function i(a,c){for(let u=0;u<a.length;u++)a[u]^=c[u&3]}function s(a){return a.length===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.length)}function o(a){if(o.readOnly=!0,Buffer.isBuffer(a))return a;let c;return a instanceof ArrayBuffer?c=new e(a):ArrayBuffer.isView(a)?c=new e(a.buffer,a.byteOffset,a.byteLength):(c=Buffer.from(a),o.readOnly=!1),c}if(ta.exports={concat:n,mask:r,toArrayBuffer:s,toBuffer:o,unmask:i},!process.env.WS_NO_BUFFER_UTIL)try{const a=n3();ta.exports.mask=function(c,u,l,p,d){d<48?r(c,u,l,p,d):a.mask(c,u,l,p,d)},ta.exports.unmask=function(c,u){c.length<32?i(c,u):a.unmask(c,u)}}catch{}return ta.exports}var $f,hA;function r3(){if(hA)return $f;hA=1;const t=Symbol("kDone"),e=Symbol("kRun");class n{constructor(i){this[t]=()=>{this.pending--,this[e]()},this.concurrency=i||1/0,this.jobs=[],this.pending=0}add(i){this.jobs.push(i),this[e]()}[e](){if(this.pending!==this.concurrency&&this.jobs.length){const i=this.jobs.shift();this.pending++,i(this[t])}}}return $f=n,$f}var Bf,gA;function Tp(){if(gA)return Bf;gA=1;const t=EN,e=bp(),n=r3(),{kStatusCode:r}=Fr(),i=Buffer[Symbol.species],s=Buffer.from([0,0,255,255]),o=Symbol("permessage-deflate"),a=Symbol("total-length"),c=Symbol("callback"),u=Symbol("buffers"),l=Symbol("error");let p;class d{constructor(_,S,v){if(this._maxPayload=v|0,this._options=_||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!S,this._deflate=null,this._inflate=null,this.params=null,!p){const T=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;p=new n(T)}}static get extensionName(){return"permessage-deflate"}offer(){const _={};return this._options.serverNoContextTakeover&&(_.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(_.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(_.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?_.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(_.client_max_window_bits=!0),_}accept(_){return _=this.normalizeParams(_),this.params=this._isServer?this.acceptAsServer(_):this.acceptAsClient(_),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const _=this._deflate[c];this._deflate.close(),this._deflate=null,_&&_(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(_){const S=this._options,v=_.find(T=>!(S.serverNoContextTakeover===!1&&T.server_no_context_takeover||T.server_max_window_bits&&(S.serverMaxWindowBits===!1||typeof S.serverMaxWindowBits=="number"&&S.serverMaxWindowBits>T.server_max_window_bits)||typeof S.clientMaxWindowBits=="number"&&!T.client_max_window_bits));if(!v)throw new Error("None of the extension offers can be accepted");return S.serverNoContextTakeover&&(v.server_no_context_takeover=!0),S.clientNoContextTakeover&&(v.client_no_context_takeover=!0),typeof S.serverMaxWindowBits=="number"&&(v.server_max_window_bits=S.serverMaxWindowBits),typeof S.clientMaxWindowBits=="number"?v.client_max_window_bits=S.clientMaxWindowBits:(v.client_max_window_bits===!0||S.clientMaxWindowBits===!1)&&delete v.client_max_window_bits,v}acceptAsClient(_){const S=_[0];if(this._options.clientNoContextTakeover===!1&&S.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!S.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(S.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&S.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return S}normalizeParams(_){return _.forEach(S=>{Object.keys(S).forEach(v=>{let T=S[v];if(T.length>1)throw new Error(`Parameter "${v}" must have only a single value`);if(T=T[0],v==="client_max_window_bits"){if(T!==!0){const y=+T;if(!Number.isInteger(y)||y<8||y>15)throw new TypeError(`Invalid value for parameter "${v}": ${T}`);T=y}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${v}": ${T}`)}else if(v==="server_max_window_bits"){const y=+T;if(!Number.isInteger(y)||y<8||y>15)throw new TypeError(`Invalid value for parameter "${v}": ${T}`);T=y}else if(v==="client_no_context_takeover"||v==="server_no_context_takeover"){if(T!==!0)throw new TypeError(`Invalid value for parameter "${v}": ${T}`)}else throw new Error(`Unknown parameter "${v}"`);S[v]=T})}),_}decompress(_,S,v){p.add(T=>{this._decompress(_,S,(y,b)=>{T(),v(y,b)})})}compress(_,S,v){p.add(T=>{this._compress(_,S,(y,b)=>{T(),v(y,b)})})}_decompress(_,S,v){const T=this._isServer?"client":"server";if(!this._inflate){const y=`${T}_max_window_bits`,b=typeof this.params[y]!="number"?t.Z_DEFAULT_WINDOWBITS:this.params[y];this._inflate=t.createInflateRaw({...this._options.zlibInflateOptions,windowBits:b}),this._inflate[o]=this,this._inflate[a]=0,this._inflate[u]=[],this._inflate.on("error",h),this._inflate.on("data",m)}this._inflate[c]=v,this._inflate.write(_),S&&this._inflate.write(s),this._inflate.flush(()=>{const y=this._inflate[l];if(y){this._inflate.close(),this._inflate=null,v(y);return}const b=e.concat(this._inflate[u],this._inflate[a]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[a]=0,this._inflate[u]=[],S&&this.params[`${T}_no_context_takeover`]&&this._inflate.reset()),v(null,b)})}_compress(_,S,v){const T=this._isServer?"server":"client";if(!this._deflate){const y=`${T}_max_window_bits`,b=typeof this.params[y]!="number"?t.Z_DEFAULT_WINDOWBITS:this.params[y];this._deflate=t.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:b}),this._deflate[a]=0,this._deflate[u]=[],this._deflate.on("data",f)}this._deflate[c]=v,this._deflate.write(_),this._deflate.flush(t.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let y=e.concat(this._deflate[u],this._deflate[a]);S&&(y=new i(y.buffer,y.byteOffset,y.length-4)),this._deflate[c]=null,this._deflate[a]=0,this._deflate[u]=[],S&&this.params[`${T}_no_context_takeover`]&&this._deflate.reset(),v(null,y)})}}Bf=d;function f(g){this[u].push(g),this[a]+=g.length}function m(g){if(this[a]+=g.length,this[o]._maxPayload<1||this[a]<=this[o]._maxPayload){this[u].push(g);return}this[l]=new RangeError("Max payload size exceeded"),this[l].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[l][r]=1009,this.removeListener("data",m),this.reset()}function h(g){if(this[o]._inflate=null,this[l]){this[c](this[l]);return}g[r]=1007,this[c](g)}return Bf}var na={exports:{}},gu={exports:{}},jf,_A;function i3(){if(_A)return jf;_A=1;function t(e){const n=e.length;let r=0;for(;r<n;)if((e[r]&128)===0)r++;else if((e[r]&224)===192){if(r+1===n||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=n||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=n||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}return jf=t,jf}var vA;function s3(){if(vA)return gu.exports;vA=1;try{gu.exports=s1()(__dirname)}catch{gu.exports=i3()}return gu.exports}var EA;function zc(){if(EA)return na.exports;EA=1;const{isUtf8:t}=k_,{hasBlob:e}=Fr(),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(o){return o>=1e3&&o<=1014&&o!==1004&&o!==1005&&o!==1006||o>=3e3&&o<=4999}function i(o){const a=o.length;let c=0;for(;c<a;)if((o[c]&128)===0)c++;else if((o[c]&224)===192){if(c+1===a||(o[c+1]&192)!==128||(o[c]&254)===192)return!1;c+=2}else if((o[c]&240)===224){if(c+2>=a||(o[c+1]&192)!==128||(o[c+2]&192)!==128||o[c]===224&&(o[c+1]&224)===128||o[c]===237&&(o[c+1]&224)===160)return!1;c+=3}else if((o[c]&248)===240){if(c+3>=a||(o[c+1]&192)!==128||(o[c+2]&192)!==128||(o[c+3]&192)!==128||o[c]===240&&(o[c+1]&240)===128||o[c]===244&&o[c+1]>143||o[c]>244)return!1;c+=4}else return!1;return!0}function s(o){return e&&typeof o=="object"&&typeof o.arrayBuffer=="function"&&typeof o.type=="string"&&typeof o.stream=="function"&&(o[Symbol.toStringTag]==="Blob"||o[Symbol.toStringTag]==="File")}if(na.exports={isBlob:s,isValidStatusCode:r,isValidUTF8:i,tokenChars:n},t)na.exports.isValidUTF8=function(o){return o.length<24?i(o):t(o)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const o=s3();na.exports.isValidUTF8=function(a){return a.length<32?i(a):o(a)}}catch{}return na.exports}var Vf,SA;function o1(){if(SA)return Vf;SA=1;const{Writable:t}=jn,e=Tp(),{BINARY_TYPES:n,EMPTY_BUFFER:r,kStatusCode:i,kWebSocket:s}=Fr(),{concat:o,toArrayBuffer:a,unmask:c}=bp(),{isValidStatusCode:u,isValidUTF8:l}=zc(),p=Buffer[Symbol.species],d=0,f=1,m=2,h=3,g=4,_=5,S=6;class v extends t{constructor(y={}){super(),this._allowSynchronousEvents=y.allowSynchronousEvents!==void 0?y.allowSynchronousEvents:!0,this._binaryType=y.binaryType||n[0],this._extensions=y.extensions||{},this._isServer=!!y.isServer,this._maxPayload=y.maxPayload|0,this._skipUTF8Validation=!!y.skipUTF8Validation,this[s]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=d}_write(y,b,x){if(this._opcode===8&&this._state==d)return x();this._bufferedBytes+=y.length,this._buffers.push(y),this.startLoop(x)}consume(y){if(this._bufferedBytes-=y,y===this._buffers[0].length)return this._buffers.shift();if(y<this._buffers[0].length){const x=this._buffers[0];return this._buffers[0]=new p(x.buffer,x.byteOffset+y,x.length-y),new p(x.buffer,x.byteOffset,y)}const b=Buffer.allocUnsafe(y);do{const x=this._buffers[0],D=b.length-y;y>=x.length?b.set(this._buffers.shift(),D):(b.set(new Uint8Array(x.buffer,x.byteOffset,y),D),this._buffers[0]=new p(x.buffer,x.byteOffset+y,x.length-y)),y-=x.length}while(y>0);return b}startLoop(y){this._loop=!0;do switch(this._state){case d:this.getInfo(y);break;case f:this.getPayloadLength16(y);break;case m:this.getPayloadLength64(y);break;case h:this.getMask();break;case g:this.getData(y);break;case _:case S:this._loop=!1;return}while(this._loop);this._errored||y()}getInfo(y){if(this._bufferedBytes<2){this._loop=!1;return}const b=this.consume(2);if((b[0]&48)!==0){const D=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");y(D);return}const x=(b[0]&64)===64;if(x&&!this._extensions[e.extensionName]){const D=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");y(D);return}if(this._fin=(b[0]&128)===128,this._opcode=b[0]&15,this._payloadLength=b[1]&127,this._opcode===0){if(x){const D=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");y(D);return}if(!this._fragmented){const D=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");y(D);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){const D=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");y(D);return}this._compressed=x}else if(this._opcode>7&&this._opcode<11){if(!this._fin){const D=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");y(D);return}if(x){const D=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");y(D);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){const D=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");y(D);return}}else{const D=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");y(D);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(b[1]&128)===128,this._isServer){if(!this._masked){const D=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");y(D);return}}else if(this._masked){const D=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");y(D);return}this._payloadLength===126?this._state=f:this._payloadLength===127?this._state=m:this.haveLength(y)}getPayloadLength16(y){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(y)}getPayloadLength64(y){if(this._bufferedBytes<8){this._loop=!1;return}const b=this.consume(8),x=b.readUInt32BE(0);if(x>Math.pow(2,21)-1){const D=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");y(D);return}this._payloadLength=x*Math.pow(2,32)+b.readUInt32BE(4),this.haveLength(y)}haveLength(y){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){const b=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");y(b);return}this._masked?this._state=h:this._state=g}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=g}getData(y){let b=r;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}b=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&c(b,this._mask)}if(this._opcode>7){this.controlMessage(b,y);return}if(this._compressed){this._state=_,this.decompress(b,y);return}b.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(b)),this.dataMessage(y)}decompress(y,b){this._extensions[e.extensionName].decompress(y,this._fin,(D,k)=>{if(D)return b(D);if(k.length){if(this._messageLength+=k.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const U=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");b(U);return}this._fragments.push(k)}this.dataMessage(b),this._state===d&&this.startLoop(b)})}dataMessage(y){if(!this._fin){this._state=d;return}const b=this._messageLength,x=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let D;this._binaryType==="nodebuffer"?D=o(x,b):this._binaryType==="arraybuffer"?D=a(o(x,b)):this._binaryType==="blob"?D=new Blob(x):D=x,this._allowSynchronousEvents?(this.emit("message",D,!0),this._state=d):(this._state=S,setImmediate(()=>{this.emit("message",D,!0),this._state=d,this.startLoop(y)}))}else{const D=o(x,b);if(!this._skipUTF8Validation&&!l(D)){const k=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");y(k);return}this._state===_||this._allowSynchronousEvents?(this.emit("message",D,!1),this._state=d):(this._state=S,setImmediate(()=>{this.emit("message",D,!1),this._state=d,this.startLoop(y)}))}}controlMessage(y,b){if(this._opcode===8){if(y.length===0)this._loop=!1,this.emit("conclude",1005,r),this.end();else{const x=y.readUInt16BE(0);if(!u(x)){const k=this.createError(RangeError,`invalid status code ${x}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");b(k);return}const D=new p(y.buffer,y.byteOffset+2,y.length-2);if(!this._skipUTF8Validation&&!l(D)){const k=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");b(k);return}this._loop=!1,this.emit("conclude",x,D),this.end()}this._state=d;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",y),this._state=d):(this._state=S,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",y),this._state=d,this.startLoop(b)}))}createError(y,b,x,D,k){this._loop=!1,this._errored=!0;const U=new y(x?`Invalid WebSocket frame: ${b}`:b);return Error.captureStackTrace(U,this.createError),U.code=k,U[i]=D,U}}return Vf=v,Vf}var zf,bA;function a1(){if(bA)return zf;bA=1;const{Duplex:t}=jn,{randomFillSync:e}=pc,n=Tp(),{EMPTY_BUFFER:r,kWebSocket:i,NOOP:s}=Fr(),{isBlob:o,isValidStatusCode:a}=zc(),{mask:c,toBuffer:u}=bp(),l=Symbol("kByteLength"),p=Buffer.alloc(4),d=8*1024;let f,m=d;const h=0,g=1,_=2;class S{constructor(b,x,D){this._extensions=x||{},D&&(this._generateMask=D,this._maskBuffer=Buffer.alloc(4)),this._socket=b,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=h,this.onerror=s,this[i]=void 0}static frame(b,x){let D,k=!1,U=2,C=!1;x.mask&&(D=x.maskBuffer||p,x.generateMask?x.generateMask(D):(m===d&&(f===void 0&&(f=Buffer.alloc(d)),e(f,0,d),m=0),D[0]=f[m++],D[1]=f[m++],D[2]=f[m++],D[3]=f[m++]),C=(D[0]|D[1]|D[2]|D[3])===0,U=6);let L;typeof b=="string"?(!x.mask||C)&&x[l]!==void 0?L=x[l]:(b=Buffer.from(b),L=b.length):(L=b.length,k=x.mask&&x.readOnly&&!C);let j=L;L>=65536?(U+=8,j=127):L>125&&(U+=2,j=126);const N=Buffer.allocUnsafe(k?L+U:U);return N[0]=x.fin?x.opcode|128:x.opcode,x.rsv1&&(N[0]|=64),N[1]=j,j===126?N.writeUInt16BE(L,2):j===127&&(N[2]=N[3]=0,N.writeUIntBE(L,4,6)),x.mask?(N[1]|=128,N[U-4]=D[0],N[U-3]=D[1],N[U-2]=D[2],N[U-1]=D[3],C?[N,b]:k?(c(b,D,N,U,L),[N]):(c(b,D,b,0,L),[N,b])):[N,b]}close(b,x,D,k){let U;if(b===void 0)U=r;else{if(typeof b!="number"||!a(b))throw new TypeError("First argument must be a valid error code number");if(x===void 0||!x.length)U=Buffer.allocUnsafe(2),U.writeUInt16BE(b,0);else{const L=Buffer.byteLength(x);if(L>123)throw new RangeError("The message must not be greater than 123 bytes");U=Buffer.allocUnsafe(2+L),U.writeUInt16BE(b,0),typeof x=="string"?U.write(x,2):U.set(x,2)}}const C={[l]:U.length,fin:!0,generateMask:this._generateMask,mask:D,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==h?this.enqueue([this.dispatch,U,!1,C,k]):this.sendFrame(S.frame(U,C),k)}ping(b,x,D){let k,U;if(typeof b=="string"?(k=Buffer.byteLength(b),U=!1):o(b)?(k=b.size,U=!1):(b=u(b),k=b.length,U=u.readOnly),k>125)throw new RangeError("The data size must not be greater than 125 bytes");const C={[l]:k,fin:!0,generateMask:this._generateMask,mask:x,maskBuffer:this._maskBuffer,opcode:9,readOnly:U,rsv1:!1};o(b)?this._state!==h?this.enqueue([this.getBlobData,b,!1,C,D]):this.getBlobData(b,!1,C,D):this._state!==h?this.enqueue([this.dispatch,b,!1,C,D]):this.sendFrame(S.frame(b,C),D)}pong(b,x,D){let k,U;if(typeof b=="string"?(k=Buffer.byteLength(b),U=!1):o(b)?(k=b.size,U=!1):(b=u(b),k=b.length,U=u.readOnly),k>125)throw new RangeError("The data size must not be greater than 125 bytes");const C={[l]:k,fin:!0,generateMask:this._generateMask,mask:x,maskBuffer:this._maskBuffer,opcode:10,readOnly:U,rsv1:!1};o(b)?this._state!==h?this.enqueue([this.getBlobData,b,!1,C,D]):this.getBlobData(b,!1,C,D):this._state!==h?this.enqueue([this.dispatch,b,!1,C,D]):this.sendFrame(S.frame(b,C),D)}send(b,x,D){const k=this._extensions[n.extensionName];let U=x.binary?2:1,C=x.compress,L,j;typeof b=="string"?(L=Buffer.byteLength(b),j=!1):o(b)?(L=b.size,j=!1):(b=u(b),L=b.length,j=u.readOnly),this._firstFragment?(this._firstFragment=!1,C&&k&&k.params[k._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(C=L>=k._threshold),this._compress=C):(C=!1,U=0),x.fin&&(this._firstFragment=!0);const N={[l]:L,fin:x.fin,generateMask:this._generateMask,mask:x.mask,maskBuffer:this._maskBuffer,opcode:U,readOnly:j,rsv1:C};o(b)?this._state!==h?this.enqueue([this.getBlobData,b,this._compress,N,D]):this.getBlobData(b,this._compress,N,D):this._state!==h?this.enqueue([this.dispatch,b,this._compress,N,D]):this.dispatch(b,this._compress,N,D)}getBlobData(b,x,D,k){this._bufferedBytes+=D[l],this._state=_,b.arrayBuffer().then(U=>{if(this._socket.destroyed){const L=new Error("The socket was closed while the blob was being read");process.nextTick(v,this,L,k);return}this._bufferedBytes-=D[l];const C=u(U);x?this.dispatch(C,x,D,k):(this._state=h,this.sendFrame(S.frame(C,D),k),this.dequeue())}).catch(U=>{process.nextTick(T,this,U,k)})}dispatch(b,x,D,k){if(!x){this.sendFrame(S.frame(b,D),k);return}const U=this._extensions[n.extensionName];this._bufferedBytes+=D[l],this._state=g,U.compress(b,D.fin,(C,L)=>{if(this._socket.destroyed){const j=new Error("The socket was closed while data was being compressed");v(this,j,k);return}this._bufferedBytes-=D[l],this._state=h,D.readOnly=!1,this.sendFrame(S.frame(L,D),k),this.dequeue()})}dequeue(){for(;this._state===h&&this._queue.length;){const b=this._queue.shift();this._bufferedBytes-=b[3][l],Reflect.apply(b[0],this,b.slice(1))}}enqueue(b){this._bufferedBytes+=b[3][l],this._queue.push(b)}sendFrame(b,x){b.length===2?(this._socket.cork(),this._socket.write(b[0]),this._socket.write(b[1],x),this._socket.uncork()):this._socket.write(b[0],x)}}zf=S;function v(y,b,x){typeof x=="function"&&x(b);for(let D=0;D<y._queue.length;D++){const k=y._queue[D],U=k[k.length-1];typeof U=="function"&&U(b)}}function T(y,b,x){v(y,b,x),y.onerror(b)}return zf}var Gf,TA;function o3(){if(TA)return Gf;TA=1;const{kForOnEventAttribute:t,kListener:e}=Fr(),n=Symbol("kCode"),r=Symbol("kData"),i=Symbol("kError"),s=Symbol("kMessage"),o=Symbol("kReason"),a=Symbol("kTarget"),c=Symbol("kType"),u=Symbol("kWasClean");class l{constructor(_){this[a]=null,this[c]=_}get target(){return this[a]}get type(){return this[c]}}Object.defineProperty(l.prototype,"target",{enumerable:!0}),Object.defineProperty(l.prototype,"type",{enumerable:!0});class p extends l{constructor(_,S={}){super(_),this[n]=S.code===void 0?0:S.code,this[o]=S.reason===void 0?"":S.reason,this[u]=S.wasClean===void 0?!1:S.wasClean}get code(){return this[n]}get reason(){return this[o]}get wasClean(){return this[u]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class d extends l{constructor(_,S={}){super(_),this[i]=S.error===void 0?null:S.error,this[s]=S.message===void 0?"":S.message}get error(){return this[i]}get message(){return this[s]}}Object.defineProperty(d.prototype,"error",{enumerable:!0}),Object.defineProperty(d.prototype,"message",{enumerable:!0});class f extends l{constructor(_,S={}){super(_),this[r]=S.data===void 0?null:S.data}get data(){return this[r]}}Object.defineProperty(f.prototype,"data",{enumerable:!0}),Gf={CloseEvent:p,ErrorEvent:d,Event:l,EventTarget:{addEventListener(g,_,S={}){for(const T of this.listeners(g))if(!S[t]&&T[e]===_&&!T[t])return;let v;if(g==="message")v=function(y,b){const x=new f("message",{data:b?y:y.toString()});x[a]=this,h(_,this,x)};else if(g==="close")v=function(y,b){const x=new p("close",{code:y,reason:b.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});x[a]=this,h(_,this,x)};else if(g==="error")v=function(y){const b=new d("error",{error:y,message:y.message});b[a]=this,h(_,this,b)};else if(g==="open")v=function(){const y=new l("open");y[a]=this,h(_,this,y)};else return;v[t]=!!S[t],v[e]=_,S.once?this.once(g,v):this.on(g,v)},removeEventListener(g,_){for(const S of this.listeners(g))if(S[e]===_&&!S[t]){this.removeListener(g,S);break}}},MessageEvent:f};function h(g,_,S){typeof g=="object"&&g.handleEvent?g.handleEvent.call(g,S):g.call(_,S)}return Gf}var qf,yA;function c1(){if(yA)return qf;yA=1;const{tokenChars:t}=zc();function e(i,s,o){i[s]===void 0?i[s]=[o]:i[s].push(o)}function n(i){const s=Object.create(null);let o=Object.create(null),a=!1,c=!1,u=!1,l,p,d=-1,f=-1,m=-1,h=0;for(;h<i.length;h++)if(f=i.charCodeAt(h),l===void 0)if(m===-1&&t[f]===1)d===-1&&(d=h);else if(h!==0&&(f===32||f===9))m===-1&&d!==-1&&(m=h);else if(f===59||f===44){if(d===-1)throw new SyntaxError(`Unexpected character at index ${h}`);m===-1&&(m=h);const _=i.slice(d,m);f===44?(e(s,_,o),o=Object.create(null)):l=_,d=m=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);else if(p===void 0)if(m===-1&&t[f]===1)d===-1&&(d=h);else if(f===32||f===9)m===-1&&d!==-1&&(m=h);else if(f===59||f===44){if(d===-1)throw new SyntaxError(`Unexpected character at index ${h}`);m===-1&&(m=h),e(o,i.slice(d,m),!0),f===44&&(e(s,l,o),o=Object.create(null),l=void 0),d=m=-1}else if(f===61&&d!==-1&&m===-1)p=i.slice(d,h),d=m=-1;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(c){if(t[f]!==1)throw new SyntaxError(`Unexpected character at index ${h}`);d===-1?d=h:a||(a=!0),c=!1}else if(u)if(t[f]===1)d===-1&&(d=h);else if(f===34&&d!==-1)u=!1,m=h;else if(f===92)c=!0;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(f===34&&i.charCodeAt(h-1)===61)u=!0;else if(m===-1&&t[f]===1)d===-1&&(d=h);else if(d!==-1&&(f===32||f===9))m===-1&&(m=h);else if(f===59||f===44){if(d===-1)throw new SyntaxError(`Unexpected character at index ${h}`);m===-1&&(m=h);let _=i.slice(d,m);a&&(_=_.replace(/\\/g,""),a=!1),e(o,p,_),f===44&&(e(s,l,o),o=Object.create(null),l=void 0),p=void 0,d=m=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);if(d===-1||u||f===32||f===9)throw new SyntaxError("Unexpected end of input");m===-1&&(m=h);const g=i.slice(d,m);return l===void 0?e(s,g,o):(p===void 0?e(o,g,!0):a?e(o,p,g.replace(/\\/g,"")):e(o,p,g),e(s,l,o)),s}function r(i){return Object.keys(i).map(s=>{let o=i[s];return Array.isArray(o)||(o=[o]),o.map(a=>[s].concat(Object.keys(a).map(c=>{let u=a[c];return Array.isArray(u)||(u=[u]),u.map(l=>l===!0?c:`${c}=${l}`).join("; ")})).join("; ")).join(", ")}).join(", ")}return qf={format:r,parse:n},qf}var Hf,xA;function RE(){if(xA)return Hf;xA=1;const t=Ps,e=P_,n=ep,r=Rc,i=vN,{randomBytes:s,createHash:o}=pc,{Duplex:a,Readable:c}=jn,{URL:u}=Ui,l=Tp(),p=o1(),d=a1(),{isBlob:f}=zc(),{BINARY_TYPES:m,CLOSE_TIMEOUT:h,EMPTY_BUFFER:g,GUID:_,kForOnEventAttribute:S,kListener:v,kStatusCode:T,kWebSocket:y,NOOP:b}=Fr(),{EventTarget:{addEventListener:x,removeEventListener:D}}=o3(),{format:k,parse:U}=c1(),{toBuffer:C}=bp(),L=Symbol("kAborted"),j=[8,13],N=["CONNECTING","OPEN","CLOSING","CLOSED"],H=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class O extends t{constructor(W,re,ue){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=O.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,W!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,re===void 0?re=[]:Array.isArray(re)||(typeof re=="object"&&re!==null?(ue=re,re=[]):re=[re]),M(this,W,re,ue)):(this._autoPong=ue.autoPong,this._closeTimeout=ue.closeTimeout,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(W){m.includes(W)&&(this._binaryType=W,this._receiver&&(this._receiver._binaryType=W))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(W,re,ue){const ie=new p({allowSynchronousEvents:ue.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:ue.maxPayload,skipUTF8Validation:ue.skipUTF8Validation}),xe=new d(W,this._extensions,ue.generateMask);this._receiver=ie,this._sender=xe,this._socket=W,ie[y]=this,xe[y]=this,W[y]=this,ie.on("conclude",F),ie.on("drain",z),ie.on("error",q),ie.on("message",J),ie.on("ping",se),ie.on("pong",Se),xe.onerror=ce,W.setTimeout&&W.setTimeout(0),W.setNoDelay&&W.setNoDelay(),re.length>0&&W.unshift(re),W.on("close",ke),W.on("data",nt),W.on("end",ye),W.on("error",Fe),this._readyState=O.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=O.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[l.extensionName]&&this._extensions[l.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=O.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(W,re){if(this.readyState!==O.CLOSED){if(this.readyState===O.CONNECTING){oe(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===O.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=O.CLOSING,this._sender.close(W,re,!this._isServer,ue=>{ue||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),Ae(this)}}pause(){this.readyState===O.CONNECTING||this.readyState===O.CLOSED||(this._paused=!0,this._socket.pause())}ping(W,re,ue){if(this.readyState===O.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof W=="function"?(ue=W,W=re=void 0):typeof re=="function"&&(ue=re,re=void 0),typeof W=="number"&&(W=W.toString()),this.readyState!==O.OPEN){I(this,W,ue);return}re===void 0&&(re=!this._isServer),this._sender.ping(W||g,re,ue)}pong(W,re,ue){if(this.readyState===O.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof W=="function"?(ue=W,W=re=void 0):typeof re=="function"&&(ue=re,re=void 0),typeof W=="number"&&(W=W.toString()),this.readyState!==O.OPEN){I(this,W,ue);return}re===void 0&&(re=!this._isServer),this._sender.pong(W||g,re,ue)}resume(){this.readyState===O.CONNECTING||this.readyState===O.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(W,re,ue){if(this.readyState===O.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof re=="function"&&(ue=re,re={}),typeof W=="number"&&(W=W.toString()),this.readyState!==O.OPEN){I(this,W,ue);return}const ie={binary:typeof W!="string",mask:!this._isServer,compress:!0,fin:!0,...re};this._extensions[l.extensionName]||(ie.compress=!1),this._sender.send(W||g,ie,ue)}terminate(){if(this.readyState!==O.CLOSED){if(this.readyState===O.CONNECTING){oe(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=O.CLOSING,this._socket.destroy())}}}Object.defineProperty(O,"CONNECTING",{enumerable:!0,value:N.indexOf("CONNECTING")}),Object.defineProperty(O.prototype,"CONNECTING",{enumerable:!0,value:N.indexOf("CONNECTING")}),Object.defineProperty(O,"OPEN",{enumerable:!0,value:N.indexOf("OPEN")}),Object.defineProperty(O.prototype,"OPEN",{enumerable:!0,value:N.indexOf("OPEN")}),Object.defineProperty(O,"CLOSING",{enumerable:!0,value:N.indexOf("CLOSING")}),Object.defineProperty(O.prototype,"CLOSING",{enumerable:!0,value:N.indexOf("CLOSING")}),Object.defineProperty(O,"CLOSED",{enumerable:!0,value:N.indexOf("CLOSED")}),Object.defineProperty(O.prototype,"CLOSED",{enumerable:!0,value:N.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(V=>{Object.defineProperty(O.prototype,V,{enumerable:!0})}),["open","error","close","message"].forEach(V=>{Object.defineProperty(O.prototype,`on${V}`,{enumerable:!0,get(){for(const W of this.listeners(V))if(W[S])return W[v];return null},set(W){for(const re of this.listeners(V))if(re[S]){this.removeListener(V,re);break}typeof W=="function"&&this.addEventListener(V,W,{[S]:!0})}})}),O.prototype.addEventListener=x,O.prototype.removeEventListener=D,Hf=O;function M(V,W,re,ue){const ie={allowSynchronousEvents:!0,autoPong:!0,closeTimeout:h,protocolVersion:j[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...ue,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(V._autoPong=ie.autoPong,V._closeTimeout=ie.closeTimeout,!j.includes(ie.protocolVersion))throw new RangeError(`Unsupported protocol version: ${ie.protocolVersion} (supported versions: ${j.join(", ")})`);let xe;if(W instanceof u)xe=W;else try{xe=new u(W)}catch{throw new SyntaxError(`Invalid URL: ${W}`)}xe.protocol==="http:"?xe.protocol="ws:":xe.protocol==="https:"&&(xe.protocol="wss:"),V._url=xe.href;const St=xe.protocol==="wss:",Lt=xe.protocol==="ws+unix:";let qe;if(xe.protocol!=="ws:"&&!St&&!Lt?qe=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:Lt&&!xe.pathname?qe="The URL's pathname is empty":xe.hash&&(qe="The URL contains a fragment identifier"),qe){const we=new SyntaxError(qe);if(V._redirects===0)throw we;Q(V,we);return}const te=St?443:80,ht=s(16).toString("base64"),An=St?e.request:n.request,nn=new Set;let rn;if(ie.createConnection=ie.createConnection||(St?_e:de),ie.defaultPort=ie.defaultPort||te,ie.port=xe.port||te,ie.host=xe.hostname.startsWith("[")?xe.hostname.slice(1,-1):xe.hostname,ie.headers={...ie.headers,"Sec-WebSocket-Version":ie.protocolVersion,"Sec-WebSocket-Key":ht,Connection:"Upgrade",Upgrade:"websocket"},ie.path=xe.pathname+xe.search,ie.timeout=ie.handshakeTimeout,ie.perMessageDeflate&&(rn=new l(ie.perMessageDeflate!==!0?ie.perMessageDeflate:{},!1,ie.maxPayload),ie.headers["Sec-WebSocket-Extensions"]=k({[l.extensionName]:rn.offer()})),re.length){for(const we of re){if(typeof we!="string"||!H.test(we)||nn.has(we))throw new SyntaxError("An invalid or duplicated subprotocol was specified");nn.add(we)}ie.headers["Sec-WebSocket-Protocol"]=re.join(",")}if(ie.origin&&(ie.protocolVersion<13?ie.headers["Sec-WebSocket-Origin"]=ie.origin:ie.headers.Origin=ie.origin),(xe.username||xe.password)&&(ie.auth=`${xe.username}:${xe.password}`),Lt){const we=ie.path.split(":");ie.socketPath=we[0],ie.path=we[1]}let He;if(ie.followRedirects){if(V._redirects===0){V._originalIpc=Lt,V._originalSecure=St,V._originalHostOrSocketPath=Lt?ie.socketPath:xe.host;const we=ue&&ue.headers;if(ue={...ue,headers:{}},we)for(const[st,Kt]of Object.entries(we))ue.headers[st.toLowerCase()]=Kt}else if(V.listenerCount("redirect")===0){const we=Lt?V._originalIpc?ie.socketPath===V._originalHostOrSocketPath:!1:V._originalIpc?!1:xe.host===V._originalHostOrSocketPath;(!we||V._originalSecure&&!St)&&(delete ie.headers.authorization,delete ie.headers.cookie,we||delete ie.headers.host,ie.auth=void 0)}ie.auth&&!ue.headers.authorization&&(ue.headers.authorization="Basic "+Buffer.from(ie.auth).toString("base64")),He=V._req=An(ie),V._redirects&&V.emit("redirect",V.url,He)}else He=V._req=An(ie);ie.timeout&&He.on("timeout",()=>{oe(V,He,"Opening handshake has timed out")}),He.on("error",we=>{He===null||He[L]||(He=V._req=null,Q(V,we))}),He.on("response",we=>{const st=we.headers.location,Kt=we.statusCode;if(st&&ie.followRedirects&&Kt>=300&&Kt<400){if(++V._redirects>ie.maxRedirects){oe(V,He,"Maximum redirects exceeded");return}He.abort();let sn;try{sn=new u(st,W)}catch{const Zt=new SyntaxError(`Invalid URL: ${st}`);Q(V,Zt);return}M(V,sn,re,ue)}else V.emit("unexpected-response",He,we)||oe(V,He,`Unexpected server response: ${we.statusCode}`)}),He.on("upgrade",(we,st,Kt)=>{if(V.emit("upgrade",we),V.readyState!==O.CONNECTING)return;He=V._req=null;const sn=we.headers.upgrade;if(sn===void 0||sn.toLowerCase()!=="websocket"){oe(V,st,"Invalid Upgrade header");return}const _r=o("sha1").update(ht+_).digest("base64");if(we.headers["sec-websocket-accept"]!==_r){oe(V,st,"Invalid Sec-WebSocket-Accept header");return}const Zt=we.headers["sec-websocket-protocol"];let on;if(Zt!==void 0?nn.size?nn.has(Zt)||(on="Server sent an invalid subprotocol"):on="Server sent a subprotocol but none was requested":nn.size&&(on="Server sent no subprotocol"),on){oe(V,st,on);return}Zt&&(V._protocol=Zt);const vr=we.headers["sec-websocket-extensions"];if(vr!==void 0){if(!rn){oe(V,st,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let Hn;try{Hn=U(vr)}catch{oe(V,st,"Invalid Sec-WebSocket-Extensions header");return}const Er=Object.keys(Hn);if(Er.length!==1||Er[0]!==l.extensionName){oe(V,st,"Server indicated an extension that was not requested");return}try{rn.accept(Hn[l.extensionName])}catch{oe(V,st,"Invalid Sec-WebSocket-Extensions header");return}V._extensions[l.extensionName]=rn}V.setSocket(st,Kt,{allowSynchronousEvents:ie.allowSynchronousEvents,generateMask:ie.generateMask,maxPayload:ie.maxPayload,skipUTF8Validation:ie.skipUTF8Validation})}),ie.finishRequest?ie.finishRequest(He,V):He.end()}function Q(V,W){V._readyState=O.CLOSING,V._errorEmitted=!0,V.emit("error",W),V.emitClose()}function de(V){return V.path=V.socketPath,r.connect(V)}function _e(V){return V.path=void 0,!V.servername&&V.servername!==""&&(V.servername=r.isIP(V.host)?"":V.host),i.connect(V)}function oe(V,W,re){V._readyState=O.CLOSING;const ue=new Error(re);Error.captureStackTrace(ue,oe),W.setHeader?(W[L]=!0,W.abort(),W.socket&&!W.socket.destroyed&&W.socket.destroy(),process.nextTick(Q,V,ue)):(W.destroy(ue),W.once("error",V.emit.bind(V,"error")),W.once("close",V.emitClose.bind(V)))}function I(V,W,re){if(W){const ue=f(W)?W.size:C(W).length;V._socket?V._sender._bufferedBytes+=ue:V._bufferedAmount+=ue}if(re){const ue=new Error(`WebSocket is not open: readyState ${V.readyState} (${N[V.readyState]})`);process.nextTick(re,ue)}}function F(V,W){const re=this[y];re._closeFrameReceived=!0,re._closeMessage=W,re._closeCode=V,re._socket[y]!==void 0&&(re._socket.removeListener("data",nt),process.nextTick(Ue,re._socket),V===1005?re.close():re.close(V,W))}function z(){const V=this[y];V.isPaused||V._socket.resume()}function q(V){const W=this[y];W._socket[y]!==void 0&&(W._socket.removeListener("data",nt),process.nextTick(Ue,W._socket),W.close(V[T])),W._errorEmitted||(W._errorEmitted=!0,W.emit("error",V))}function X(){this[y].emitClose()}function J(V,W){this[y].emit("message",V,W)}function se(V){const W=this[y];W._autoPong&&W.pong(V,!this._isServer,b),W.emit("ping",V)}function Se(V){this[y].emit("pong",V)}function Ue(V){V.resume()}function ce(V){const W=this[y];W.readyState!==O.CLOSED&&(W.readyState===O.OPEN&&(W._readyState=O.CLOSING,Ae(W)),this._socket.end(),W._errorEmitted||(W._errorEmitted=!0,W.emit("error",V)))}function Ae(V){V._closeTimer=setTimeout(V._socket.destroy.bind(V._socket),V._closeTimeout)}function ke(){const V=this[y];if(this.removeListener("close",ke),this.removeListener("data",nt),this.removeListener("end",ye),V._readyState=O.CLOSING,!this._readableState.endEmitted&&!V._closeFrameReceived&&!V._receiver._writableState.errorEmitted&&this._readableState.length!==0){const W=this.read(this._readableState.length);V._receiver.write(W)}V._receiver.end(),this[y]=void 0,clearTimeout(V._closeTimer),V._receiver._writableState.finished||V._receiver._writableState.errorEmitted?V.emitClose():(V._receiver.on("error",X),V._receiver.on("finish",X))}function nt(V){this[y]._receiver.write(V)||this.pause()}function ye(){const V=this[y];V._readyState=O.CLOSING,V._receiver.end(),this.end()}function Fe(){const V=this[y];this.removeListener("error",Fe),this.on("error",b),V&&(V._readyState=O.CLOSING,this.destroy())}return Hf}var Wf,wA;function a3(){if(wA)return Wf;wA=1,RE();const{Duplex:t}=jn;function e(s){s.emit("close")}function n(){!this.destroyed&&this._writableState.finished&&this.destroy()}function r(s){this.removeListener("error",r),this.destroy(),this.listenerCount("error")===0&&this.emit("error",s)}function i(s,o){let a=!0;const c=new t({...o,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return s.on("message",function(l,p){const d=!p&&c._readableState.objectMode?l.toString():l;c.push(d)||s.pause()}),s.once("error",function(l){c.destroyed||(a=!1,c.destroy(l))}),s.once("close",function(){c.destroyed||c.push(null)}),c._destroy=function(u,l){if(s.readyState===s.CLOSED){l(u),process.nextTick(e,c);return}let p=!1;s.once("error",function(f){p=!0,l(f)}),s.once("close",function(){p||l(u),process.nextTick(e,c)}),a&&s.terminate()},c._final=function(u){if(s.readyState===s.CONNECTING){s.once("open",function(){c._final(u)});return}s._socket!==null&&(s._socket._writableState.finished?(u(),c._readableState.endEmitted&&c.destroy()):(s._socket.once("finish",function(){u()}),s.close()))},c._read=function(){s.isPaused&&s.resume()},c._write=function(u,l,p){if(s.readyState===s.CONNECTING){s.once("open",function(){c._write(u,l,p)});return}s.send(u,p)},c.on("end",n),c.on("error",r),c}return Wf=i,Wf}a3();o1();a1();var c3=RE();const u3=Bi(c3);var Yf,AA;function l3(){if(AA)return Yf;AA=1;const{tokenChars:t}=zc();function e(n){const r=new Set;let i=-1,s=-1,o=0;for(o;o<n.length;o++){const c=n.charCodeAt(o);if(s===-1&&t[c]===1)i===-1&&(i=o);else if(o!==0&&(c===32||c===9))s===-1&&i!==-1&&(s=o);else if(c===44){if(i===-1)throw new SyntaxError(`Unexpected character at index ${o}`);s===-1&&(s=o);const u=n.slice(i,s);if(r.has(u))throw new SyntaxError(`The "${u}" subprotocol is duplicated`);r.add(u),i=s=-1}else throw new SyntaxError(`Unexpected character at index ${o}`)}if(i===-1||s!==-1)throw new SyntaxError("Unexpected end of input");const a=n.slice(i,o);if(r.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);return r.add(a),r}return Yf={parse:e},Yf}var Kf,DA;function p3(){if(DA)return Kf;DA=1;const t=Ps,e=ep,{Duplex:n}=jn,{createHash:r}=pc,i=c1(),s=Tp(),o=l3(),a=RE(),{CLOSE_TIMEOUT:c,GUID:u,kWebSocket:l}=Fr(),p=/^[+/0-9A-Za-z]{22}==$/,d=0,f=1,m=2;class h extends t{constructor(b,x){if(super(),b={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,closeTimeout:c,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:a,...b},b.port==null&&!b.server&&!b.noServer||b.port!=null&&(b.server||b.noServer)||b.server&&b.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(b.port!=null?(this._server=e.createServer((D,k)=>{const U=e.STATUS_CODES[426];k.writeHead(426,{"Content-Length":U.length,"Content-Type":"text/plain"}),k.end(U)}),this._server.listen(b.port,b.host,b.backlog,x)):b.server&&(this._server=b.server),this._server){const D=this.emit.bind(this,"connection");this._removeListeners=g(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(k,U,C)=>{this.handleUpgrade(k,U,C,D)}})}b.perMessageDeflate===!0&&(b.perMessageDeflate={}),b.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=b,this._state=d}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(b){if(this._state===m){b&&this.once("close",()=>{b(new Error("The server is not running"))}),process.nextTick(_,this);return}if(b&&this.once("close",b),this._state!==f)if(this._state=f,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_,this):process.nextTick(_,this);else{const x=this._server;this._removeListeners(),this._removeListeners=this._server=null,x.close(()=>{_(this)})}}shouldHandle(b){if(this.options.path){const x=b.url.indexOf("?");if((x!==-1?b.url.slice(0,x):b.url)!==this.options.path)return!1}return!0}handleUpgrade(b,x,D,k){x.on("error",S);const U=b.headers["sec-websocket-key"],C=b.headers.upgrade,L=+b.headers["sec-websocket-version"];if(b.method!=="GET"){T(this,b,x,405,"Invalid HTTP method");return}if(C===void 0||C.toLowerCase()!=="websocket"){T(this,b,x,400,"Invalid Upgrade header");return}if(U===void 0||!p.test(U)){T(this,b,x,400,"Missing or invalid Sec-WebSocket-Key header");return}if(L!==13&&L!==8){T(this,b,x,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(b)){v(x,400);return}const j=b.headers["sec-websocket-protocol"];let N=new Set;if(j!==void 0)try{N=o.parse(j)}catch{T(this,b,x,400,"Invalid Sec-WebSocket-Protocol header");return}const H=b.headers["sec-websocket-extensions"],O={};if(this.options.perMessageDeflate&&H!==void 0){const M=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const Q=i.parse(H);Q[s.extensionName]&&(M.accept(Q[s.extensionName]),O[s.extensionName]=M)}catch{T(this,b,x,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){const M={origin:b.headers[`${L===8?"sec-websocket-origin":"origin"}`],secure:!!(b.socket.authorized||b.socket.encrypted),req:b};if(this.options.verifyClient.length===2){this.options.verifyClient(M,(Q,de,_e,oe)=>{if(!Q)return v(x,de||401,_e,oe);this.completeUpgrade(O,U,N,b,x,D,k)});return}if(!this.options.verifyClient(M))return v(x,401)}this.completeUpgrade(O,U,N,b,x,D,k)}completeUpgrade(b,x,D,k,U,C,L){if(!U.readable||!U.writable)return U.destroy();if(U[l])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>d)return v(U,503);const N=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${r("sha1").update(x+u).digest("base64")}`],H=new this.options.WebSocket(null,void 0,this.options);if(D.size){const O=this.options.handleProtocols?this.options.handleProtocols(D,k):D.values().next().value;O&&(N.push(`Sec-WebSocket-Protocol: ${O}`),H._protocol=O)}if(b[s.extensionName]){const O=b[s.extensionName].params,M=i.format({[s.extensionName]:[O]});N.push(`Sec-WebSocket-Extensions: ${M}`),H._extensions=b}this.emit("headers",N,k),U.write(N.concat(`\r
`).join(`\r
`)),U.removeListener("error",S),H.setSocket(U,C,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(H),H.on("close",()=>{this.clients.delete(H),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_,this)})),L(H,k)}}Kf=h;function g(y,b){for(const x of Object.keys(b))y.on(x,b[x]);return function(){for(const D of Object.keys(b))y.removeListener(D,b[D])}}function _(y){y._state=m,y.emit("close")}function S(){this.destroy()}function v(y,b,x,D){x=x||e.STATUS_CODES[b],D={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(x),...D},y.once("finish",y.destroy),y.end(`HTTP/1.1 ${b} ${e.STATUS_CODES[b]}\r
`+Object.keys(D).map(k=>`${k}: ${D[k]}`).join(`\r
`)+`\r
\r
`+x)}function T(y,b,x,D,k,U){if(y.listenerCount("wsClientError")){const C=new Error(k);Error.captureStackTrace(C,T),y.emit("wsClientError",C,x,b)}else v(x,D,k,U)}return Kf}p3();class d3{constructor(e){this.options=e}kind="websocket";supportsReconnect(){return!0}async connect(){const e=await m3(this.options.hostConfig),n=new u3(this.options.websocketUrl,{headers:e,agent:new Q4.SocksProxyAgent("socks5h://127.0.0.1:1080"),perMessageDeflate:!1});return new h3(n)}}function f3(t){if(process.env.CODEX_APP_SERVER_FORCE_CLI==="1")return null;if(t.kind==="brix"){const n=t.version;if(typeof n!="number"||n<2)return null}const e=process.env.CODEX_APP_SERVER_WS_URL??t.websocket_url;return!e||typeof e!="string"?null:e}async function m3(t){return{}}class h3{constructor(e){this.ws=e,this.readyState=e.readyState,e.on("open",()=>{this.readyState=e.readyState,this.onopen?.({type:"open"})}),e.on("message",n=>{const r=typeof n=="string"?n:String(n);this.onmessage?.({type:"message",data:r})}),e.on("error",n=>{this.readyState=e.readyState,this.onerror?.({type:"error",error:n})}),e.on("close",(n,r)=>{this.readyState=e.readyState;const i={type:"close",code:n,reason:r.toString(),wasClean:n===1e3};this.onclose?.(i)})}readyState;onopen=null;onmessage=null;onerror=null;onclose=null;send(e){this.ws.send(e)}close(e,n){this.ws.close(e,n)}}let Zf=null;function g3(){const t=process.env.BUILD_FLAVOR;return t==="prod"?"codex.db":t?"codex-dev.db":process.env.NODE_ENV==="production"?"codex.db":"codex-dev.db"}function ct(t){if(!process.versions.electron)return null;if(Zf)return Zf;const e=_3(),n=wn({}),r=B.join(n,"sqlite");Y.mkdirSync(r,{recursive:!0});const i=g3(),s=B.join(r,i),o=new e(s);return v3(o),Zf=o,o}function _3(){try{return require("better-sqlite3")}catch{throw new Error("better-sqlite3 is only bundled with the Electron app")}}function v3(t){const e=[{version:1,up:()=>t.exec(`CREATE TABLE IF NOT EXISTS inbox_items (
            id TEXT PRIMARY KEY,
            title TEXT
          )`)},{version:2,up:()=>{rt(t,"inbox_items","description","TEXT"),rt(t,"inbox_items","thread_id","TEXT"),rt(t,"inbox_items","read_at","INTEGER"),rt(t,"inbox_items","created_at","INTEGER")}},{version:3,up:()=>{rt(t,"inbox_items","description","TEXT"),rt(t,"inbox_items","thread_id","TEXT"),rt(t,"inbox_items","read_at","INTEGER"),rt(t,"inbox_items","created_at","INTEGER")}},{version:7,up:()=>{t.exec(`CREATE TABLE IF NOT EXISTS automations (
            id TEXT PRIMARY KEY,
            name TEXT NOT NULL,
            prompt TEXT NOT NULL,
            status TEXT NOT NULL DEFAULT 'ACTIVE',
            next_run_at INTEGER,
            last_run_at INTEGER,
            cwds TEXT NOT NULL DEFAULT '[]',
            rrule TEXT NOT NULL DEFAULT '${Og}',
            created_at INTEGER NOT NULL,
            updated_at INTEGER NOT NULL
          )`),rt(t,"automations","status","TEXT NOT NULL DEFAULT 'ACTIVE'"),rt(t,"automations","last_run_at","INTEGER"),rt(t,"automations","cwds","TEXT NOT NULL DEFAULT '[]'")}},{version:8,up:()=>{rt(t,"automations","next_run_at","INTEGER")}},{version:9,up:()=>{t.exec(`CREATE TABLE IF NOT EXISTS automation_runs (
            thread_id TEXT PRIMARY KEY,
            automation_id TEXT NOT NULL,
            status TEXT NOT NULL,
            read_at INTEGER,
            thread_title TEXT,
            source_cwd TEXT,
            inbox_title TEXT,
            inbox_summary TEXT,
            created_at INTEGER NOT NULL,
            updated_at INTEGER NOT NULL
          )`)}},{version:13,up:()=>{rt(t,"automations","rrule","TEXT"),t.prepare("UPDATE automations SET rrule = ? WHERE rrule IS NULL OR rrule = ''").run(Og)}},{version:14,up:()=>{rt(t,"automation_runs","archived_user_message","TEXT"),rt(t,"automation_runs","archived_assistant_message","TEXT")}},{version:15,up:()=>{rt(t,"automation_runs","read_at","INTEGER")}},{version:16,up:()=>{rt(t,"automation_runs","thread_title","TEXT")}},{version:17,up:()=>{rt(t,"automation_runs","source_cwd","TEXT")}},{version:18,up:()=>{rt(t,"automation_runs","inbox_title","TEXT"),rt(t,"automation_runs","inbox_summary","TEXT")}},{version:19,up:()=>{rt(t,"automation_runs","archived_reason","TEXT")}}],n=E3(t);for(const r of e)if(!(r.version<=n)){t.prepare("BEGIN").run();try{r.up(),t.prepare(`PRAGMA user_version = ${r.version}`).run(),t.prepare("COMMIT").run()}catch(i){throw t.prepare("ROLLBACK").run(),i}}}function rt(t,e,n,r){t.prepare(`PRAGMA table_info(${e})`).all().some(a=>a?.name===n)||t.exec(`ALTER TABLE ${e} ADD COLUMN ${n} ${r}`)}function E3(t){const e=t.prepare("PRAGMA user_version").get();return typeof e?.user_version=="number"?e.user_version:0}const S3=["IN_PROGRESS","PENDING_REVIEW"],b3=["IN_PROGRESS","PENDING_REVIEW","ACCEPTED","ARCHIVED"],u1=t=>`(${t.map(e=>`'${e}'`).join(", ")})`,T3=u1(S3),y3=u1(b3);function x3(){const t=ct();return t?t.prepare(`SELECT thread_id as threadId, automation_id as automationId, status
      FROM automation_runs
      WHERE status = 'IN_PROGRESS'
        AND EXISTS (
          SELECT 1
          FROM automations
          WHERE automations.id = automation_runs.automation_id
        )`).all():[]}function RA(t,e,n,r){const i=ct();if(!i)return!1;const s=Date.now(),o=i.prepare("INSERT OR IGNORE INTO automation_runs (thread_id, automation_id, status, thread_title, source_cwd, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)").run(e,t,"IN_PROGRESS",n,r,s,s);return typeof o?.changes=="number"?o.changes>0:!1}function w3(t){const e=ct();if(!e)return!1;const n=e.prepare("UPDATE automation_runs SET status = ?, updated_at = ? WHERE thread_id = ? AND status != ?").run("ACCEPTED",Date.now(),t,"ARCHIVED");return typeof n?.changes=="number"?n.changes>0:!1}function IE(t,e){const n=ct();if(!n)return!1;const r=n.prepare("UPDATE automation_runs SET status = ?, updated_at = ?, archived_reason = COALESCE(archived_reason, ?) WHERE thread_id = ?").run("ARCHIVED",Date.now(),e??null,t);return typeof r?.changes=="number"?r.changes>0:!1}function l1(t,e,n){const r=ct();if(!r)return!1;const i=r.prepare("UPDATE automation_runs SET archived_user_message = ?, archived_assistant_message = ?, updated_at = ? WHERE thread_id = ?").run(e,n,Date.now(),t);return typeof i?.changes=="number"?i.changes>0:!1}function A3(t,e){const n=ct();if(!n)return!1;const r=n.prepare("UPDATE automation_runs SET thread_title = ?, updated_at = ? WHERE thread_id = ?").run(e,Date.now(),t);return typeof r?.changes=="number"?r.changes>0:!1}function D3(t,e,n){const r=ct();if(!r)return!1;const i=r.prepare("UPDATE automation_runs SET inbox_title = ?, inbox_summary = ?, status = CASE WHEN status = 'IN_PROGRESS' THEN 'PENDING_REVIEW' ELSE status END, updated_at = ? WHERE thread_id = ?").run(e,n,Date.now(),t);return typeof i?.changes=="number"?i.changes>0:!1}function R3(t,e){const n=ct();if(!n)return!1;const r=n.prepare("UPDATE automation_runs SET thread_id = ?, updated_at = ? WHERE thread_id = ?").run(e,Date.now(),t);return typeof r?.changes=="number"?r.changes>0:!1}function I3(t){const e=ct();if(!e)return!1;const n=e.prepare("DELETE FROM automation_runs WHERE thread_id = ?").run(t);return typeof n?.changes=="number"?n.changes>0:!1}function C3(t){const e=ct();if(!e)return!1;const n=e.prepare("DELETE FROM automation_runs WHERE automation_id = ?").run(t);return typeof n?.changes=="number"?n.changes>0:!1}function O3(t){const e=ct();if(!e)return!1;const n=Date.now(),r=e.prepare("UPDATE automation_runs SET status = ?, read_at = COALESCE(read_at, ?), updated_at = ?, archived_reason = NULL WHERE thread_id = ? AND status = ?").run("ACCEPTED",n,n,t,"ARCHIVED");return typeof r?.changes=="number"?r.changes>0:!1}function N3(){const t=ct();return t?t.prepare(`SELECT thread_id as threadId
      FROM automation_runs
      WHERE status IN ${T3}
        AND EXISTS (
          SELECT 1
          FROM automations
          WHERE automations.id = automation_runs.automation_id
        )`).all().map(n=>n.threadId):[]}var Ug=["MO","TU","WE","TH","FR","SA","SU"],Rt=(function(){function t(e,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=n}return t.fromStr=function(e){return new t(Ug.indexOf(e))},t.prototype.nth=function(e){return this.n===e?this:new t(this.weekday,e)},t.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},t.prototype.toString=function(){var e=Ug[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},t.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},t})(),ot=function(t){return t!=null},Cn=function(t){return typeof t=="number"},IA=function(t){return typeof t=="string"&&Ug.includes(t)},zt=Array.isArray,Gn=function(t,e){e===void 0&&(e=t),arguments.length===1&&(e=t,t=0);for(var n=[],r=t;r<e;r++)n.push(r);return n},De=function(t,e){var n=0,r=[];if(zt(t))for(;n<e;n++)r[n]=[].concat(t);else for(;n<e;n++)r[n]=t;return r},k3=function(t){return zt(t)?t:[t]};function Xi(t,e,n){n===void 0&&(n=" ");var r=String(t);return e=e>>0,r.length>e?String(r):(e=e-r.length,e>n.length&&(n+=De(n,e/n.length)),n.slice(0,e)+String(r))}var P3=function(t,e,n){var r=t.split(e);return n?r.slice(0,n).concat([r.slice(n).join(e)]):r},Jt=function(t,e){var n=t%e;return n*e<0?n+e:n},Xf=function(t,e){return{div:Math.floor(t/e),mod:Jt(t,e)}},kn=function(t){return!ot(t)||t.length===0},pt=function(t){return!kn(t)},je=function(t,e){return pt(t)&&t.indexOf(e)!==-1},Oi=function(t,e,n,r,i,s){return r===void 0&&(r=0),i===void 0&&(i=0),s===void 0&&(s=0),new Date(Date.UTC(t,e-1,n,r,i,s))},M3=[31,28,31,30,31,30,31,31,30,31,30,31],p1=1e3*60*60*24,d1=9999,f1=Oi(1970,1,1),L3=[6,0,1,2,3,4,5],tc=function(t){return t%4===0&&t%100!==0||t%400===0},m1=function(t){return t instanceof Date},Za=function(t){return m1(t)&&!isNaN(t.getTime())},U3=function(t,e){var n=t.getTime(),r=e.getTime(),i=n-r;return Math.round(i/p1)},Fg=function(t){return U3(t,f1)},h1=function(t){return new Date(f1.getTime()+t*p1)},F3=function(t){var e=t.getUTCMonth();return e===1&&tc(t.getUTCFullYear())?29:M3[e]},ws=function(t){return L3[t.getUTCDay()]},CA=function(t,e){var n=Oi(t,e+1,1);return[ws(n),F3(n)]},g1=function(t,e){return e=e||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},$g=function(t){var e=new Date(t.getTime());return e},OA=function(t){for(var e=[],n=0;n<t.length;n++)e.push($g(t[n]));return e},hc=function(t){t.sort(function(e,n){return e.getTime()-n.getTime()})},CE=function(t,e){e===void 0&&(e=!0);var n=new Date(t);return[Xi(n.getUTCFullYear().toString(),4,"0"),Xi(n.getUTCMonth()+1,2,"0"),Xi(n.getUTCDate(),2,"0"),"T",Xi(n.getUTCHours(),2,"0"),Xi(n.getUTCMinutes(),2,"0"),Xi(n.getUTCSeconds(),2,"0"),e?"Z":""].join("")},OE=function(t){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=e.exec(t);if(!n)throw new Error("Invalid UNTIL value: ".concat(t));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))},NA=function(t,e){var n=t.toLocaleString("sv-SE",{timeZone:e});return n.replace(" ","T")+"Z"},$3=function(t,e){var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(NA(t,n)),i=new Date(NA(t,e??"UTC")),s=i.getTime()-r.getTime();return new Date(t.getTime()-s)},us=(function(){function t(e,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=n,e==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):e==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):e==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}return t.prototype.accept=function(e){++this.total;var n=this.minDate&&e<this.minDate,r=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(n)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return n?!0:(this.add(e),!1);return this.add(e)},t.prototype.add=function(e){return this._result.push(e),!0},t.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},t.prototype.clone=function(){return new t(this.method,this.args)},t})(),Jf={exports:{}},kA;function B3(){return kA||(kA=1,(function(t){var e,n,r,i,s,o,a,c,u,l,p,d,f,m,h,g,_,S,v,T,y,b,x,D,k,U,C,L,j,N,H,O;(function(M){var Q=typeof Dt=="object"?Dt:typeof self=="object"?self:typeof this=="object"?this:{};M(de(Q,de(t.exports)));function de(_e,oe){return _e!==Q&&(typeof Object.create=="function"?Object.defineProperty(_e,"__esModule",{value:!0}):_e.__esModule=!0),function(I,F){return _e[I]=oe?oe(I,F):F}}})(function(M){var Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var z in F)Object.prototype.hasOwnProperty.call(F,z)&&(I[z]=F[z])};e=function(I,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");Q(I,F);function z(){this.constructor=I}I.prototype=F===null?Object.create(F):(z.prototype=F.prototype,new z)},n=Object.assign||function(I){for(var F,z=1,q=arguments.length;z<q;z++){F=arguments[z];for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(I[X]=F[X])}return I},r=function(I,F){var z={};for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&F.indexOf(q)<0&&(z[q]=I[q]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,q=Object.getOwnPropertySymbols(I);X<q.length;X++)F.indexOf(q[X])<0&&Object.prototype.propertyIsEnumerable.call(I,q[X])&&(z[q[X]]=I[q[X]]);return z},i=function(I,F,z,q){var X=arguments.length,J=X<3?F:q===null?q=Object.getOwnPropertyDescriptor(F,z):q,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(I,F,z,q);else for(var Se=I.length-1;Se>=0;Se--)(se=I[Se])&&(J=(X<3?se(J):X>3?se(F,z,J):se(F,z))||J);return X>3&&J&&Object.defineProperty(F,z,J),J},s=function(I,F){return function(z,q){F(z,q,I)}},o=function(I,F,z,q,X,J){function se(re){if(re!==void 0&&typeof re!="function")throw new TypeError("Function expected");return re}for(var Se=q.kind,Ue=Se==="getter"?"get":Se==="setter"?"set":"value",ce=!F&&I?q.static?I:I.prototype:null,Ae=F||(ce?Object.getOwnPropertyDescriptor(ce,q.name):{}),ke,nt=!1,ye=z.length-1;ye>=0;ye--){var Fe={};for(var V in q)Fe[V]=V==="access"?{}:q[V];for(var V in q.access)Fe.access[V]=q.access[V];Fe.addInitializer=function(re){if(nt)throw new TypeError("Cannot add initializers after decoration has completed");J.push(se(re||null))};var W=(0,z[ye])(Se==="accessor"?{get:Ae.get,set:Ae.set}:Ae[Ue],Fe);if(Se==="accessor"){if(W===void 0)continue;if(W===null||typeof W!="object")throw new TypeError("Object expected");(ke=se(W.get))&&(Ae.get=ke),(ke=se(W.set))&&(Ae.set=ke),(ke=se(W.init))&&X.unshift(ke)}else(ke=se(W))&&(Se==="field"?X.unshift(ke):Ae[Ue]=ke)}ce&&Object.defineProperty(ce,q.name,Ae),nt=!0},a=function(I,F,z){for(var q=arguments.length>2,X=0;X<F.length;X++)z=q?F[X].call(I,z):F[X].call(I);return q?z:void 0},c=function(I){return typeof I=="symbol"?I:"".concat(I)},u=function(I,F,z){return typeof F=="symbol"&&(F=F.description?"[".concat(F.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:z?"".concat(z," ",F):F})},l=function(I,F){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,F)},p=function(I,F,z,q){function X(J){return J instanceof z?J:new z(function(se){se(J)})}return new(z||(z=Promise))(function(J,se){function Se(Ae){try{ce(q.next(Ae))}catch(ke){se(ke)}}function Ue(Ae){try{ce(q.throw(Ae))}catch(ke){se(ke)}}function ce(Ae){Ae.done?J(Ae.value):X(Ae.value).then(Se,Ue)}ce((q=q.apply(I,F||[])).next())})},d=function(I,F){var z={label:0,sent:function(){if(J[0]&1)throw J[1];return J[1]},trys:[],ops:[]},q,X,J,se=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return se.next=Se(0),se.throw=Se(1),se.return=Se(2),typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function Se(ce){return function(Ae){return Ue([ce,Ae])}}function Ue(ce){if(q)throw new TypeError("Generator is already executing.");for(;se&&(se=0,ce[0]&&(z=0)),z;)try{if(q=1,X&&(J=ce[0]&2?X.return:ce[0]?X.throw||((J=X.return)&&J.call(X),0):X.next)&&!(J=J.call(X,ce[1])).done)return J;switch(X=0,J&&(ce=[ce[0]&2,J.value]),ce[0]){case 0:case 1:J=ce;break;case 4:return z.label++,{value:ce[1],done:!1};case 5:z.label++,X=ce[1],ce=[0];continue;case 7:ce=z.ops.pop(),z.trys.pop();continue;default:if(J=z.trys,!(J=J.length>0&&J[J.length-1])&&(ce[0]===6||ce[0]===2)){z=0;continue}if(ce[0]===3&&(!J||ce[1]>J[0]&&ce[1]<J[3])){z.label=ce[1];break}if(ce[0]===6&&z.label<J[1]){z.label=J[1],J=ce;break}if(J&&z.label<J[2]){z.label=J[2],z.ops.push(ce);break}J[2]&&z.ops.pop(),z.trys.pop();continue}ce=F.call(I,z)}catch(Ae){ce=[6,Ae],X=0}finally{q=J=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}},f=function(I,F){for(var z in I)z!=="default"&&!Object.prototype.hasOwnProperty.call(F,z)&&j(F,I,z)},j=Object.create?(function(I,F,z,q){q===void 0&&(q=z);var X=Object.getOwnPropertyDescriptor(F,z);(!X||("get"in X?!F.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return F[z]}}),Object.defineProperty(I,q,X)}):(function(I,F,z,q){q===void 0&&(q=z),I[q]=F[z]}),m=function(I){var F=typeof Symbol=="function"&&Symbol.iterator,z=F&&I[F],q=0;if(z)return z.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&q>=I.length&&(I=void 0),{value:I&&I[q++],done:!I}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(I,F){var z=typeof Symbol=="function"&&I[Symbol.iterator];if(!z)return I;var q=z.call(I),X,J=[],se;try{for(;(F===void 0||F-- >0)&&!(X=q.next()).done;)J.push(X.value)}catch(Se){se={error:Se}}finally{try{X&&!X.done&&(z=q.return)&&z.call(q)}finally{if(se)throw se.error}}return J},g=function(){for(var I=[],F=0;F<arguments.length;F++)I=I.concat(h(arguments[F]));return I},_=function(){for(var I=0,F=0,z=arguments.length;F<z;F++)I+=arguments[F].length;for(var q=Array(I),X=0,F=0;F<z;F++)for(var J=arguments[F],se=0,Se=J.length;se<Se;se++,X++)q[X]=J[se];return q},S=function(I,F,z){if(z||arguments.length===2)for(var q=0,X=F.length,J;q<X;q++)(J||!(q in F))&&(J||(J=Array.prototype.slice.call(F,0,q)),J[q]=F[q]);return I.concat(J||Array.prototype.slice.call(F))},v=function(I){return this instanceof v?(this.v=I,this):new v(I)},T=function(I,F,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=z.apply(I,F||[]),X,J=[];return X=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),Se("next"),Se("throw"),Se("return",se),X[Symbol.asyncIterator]=function(){return this},X;function se(ye){return function(Fe){return Promise.resolve(Fe).then(ye,ke)}}function Se(ye,Fe){q[ye]&&(X[ye]=function(V){return new Promise(function(W,re){J.push([ye,V,W,re])>1||Ue(ye,V)})},Fe&&(X[ye]=Fe(X[ye])))}function Ue(ye,Fe){try{ce(q[ye](Fe))}catch(V){nt(J[0][3],V)}}function ce(ye){ye.value instanceof v?Promise.resolve(ye.value.v).then(Ae,ke):nt(J[0][2],ye)}function Ae(ye){Ue("next",ye)}function ke(ye){Ue("throw",ye)}function nt(ye,Fe){ye(Fe),J.shift(),J.length&&Ue(J[0][0],J[0][1])}},y=function(I){var F,z;return F={},q("next"),q("throw",function(X){throw X}),q("return"),F[Symbol.iterator]=function(){return this},F;function q(X,J){F[X]=I[X]?function(se){return(z=!z)?{value:v(I[X](se)),done:!1}:J?J(se):se}:J}},b=function(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F=I[Symbol.asyncIterator],z;return F?F.call(I):(I=typeof m=="function"?m(I):I[Symbol.iterator](),z={},q("next"),q("throw"),q("return"),z[Symbol.asyncIterator]=function(){return this},z);function q(J){z[J]=I[J]&&function(se){return new Promise(function(Se,Ue){se=I[J](se),X(Se,Ue,se.done,se.value)})}}function X(J,se,Se,Ue){Promise.resolve(Ue).then(function(ce){J({value:ce,done:Se})},se)}},x=function(I,F){return Object.defineProperty?Object.defineProperty(I,"raw",{value:F}):I.raw=F,I};var de=Object.create?(function(I,F){Object.defineProperty(I,"default",{enumerable:!0,value:F})}):function(I,F){I.default=F},_e=function(I){return _e=Object.getOwnPropertyNames||function(F){var z=[];for(var q in F)Object.prototype.hasOwnProperty.call(F,q)&&(z[z.length]=q);return z},_e(I)};D=function(I){if(I&&I.__esModule)return I;var F={};if(I!=null)for(var z=_e(I),q=0;q<z.length;q++)z[q]!=="default"&&j(F,I,z[q]);return de(F,I),F},k=function(I){return I&&I.__esModule?I:{default:I}},U=function(I,F,z,q){if(z==="a"&&!q)throw new TypeError("Private accessor was defined without a getter");if(typeof F=="function"?I!==F||!q:!F.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return z==="m"?q:z==="a"?q.call(I):q?q.value:F.get(I)},C=function(I,F,z,q,X){if(q==="m")throw new TypeError("Private method is not writable");if(q==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof F=="function"?I!==F||!X:!F.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return q==="a"?X.call(I,z):X?X.value=z:F.set(I,z),z},L=function(I,F){if(F===null||typeof F!="object"&&typeof F!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?F===I:I.has(F)},N=function(I,F,z){if(F!=null){if(typeof F!="object"&&typeof F!="function")throw new TypeError("Object expected.");var q,X;if(z){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");q=F[Symbol.asyncDispose]}if(q===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");q=F[Symbol.dispose],z&&(X=q)}if(typeof q!="function")throw new TypeError("Object not disposable.");X&&(q=function(){try{X.call(this)}catch(J){return Promise.reject(J)}}),I.stack.push({value:F,dispose:q,async:z})}else z&&I.stack.push({async:!0});return F};var oe=typeof SuppressedError=="function"?SuppressedError:function(I,F,z){var q=new Error(z);return q.name="SuppressedError",q.error=I,q.suppressed=F,q};H=function(I){function F(J){I.error=I.hasError?new oe(J,I.error,"An error was suppressed during disposal."):J,I.hasError=!0}var z,q=0;function X(){for(;z=I.stack.pop();)try{if(!z.async&&q===1)return q=0,I.stack.push(z),Promise.resolve().then(X);if(z.dispose){var J=z.dispose.call(z.value);if(z.async)return q|=2,Promise.resolve(J).then(X,function(se){return F(se),X()})}else q|=1}catch(se){F(se)}if(q===1)return I.hasError?Promise.reject(I.error):Promise.resolve();if(I.hasError)throw I.error}return X()},O=function(I,F){return typeof I=="string"&&/^\.\.?\//.test(I)?I.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(z,q,X,J,se){return q?F?".jsx":".js":X&&(!J||!se)?z:X+J+"."+se.toLowerCase()+"js"}):I},M("__extends",e),M("__assign",n),M("__rest",r),M("__decorate",i),M("__param",s),M("__esDecorate",o),M("__runInitializers",a),M("__propKey",c),M("__setFunctionName",u),M("__metadata",l),M("__awaiter",p),M("__generator",d),M("__exportStar",f),M("__createBinding",j),M("__values",m),M("__read",h),M("__spread",g),M("__spreadArrays",_),M("__spreadArray",S),M("__await",v),M("__asyncGenerator",T),M("__asyncDelegator",y),M("__asyncValues",b),M("__makeTemplateObject",x),M("__importStar",D),M("__importDefault",k),M("__classPrivateFieldGet",U),M("__classPrivateFieldSet",C),M("__classPrivateFieldIn",L),M("__addDisposableResource",N),M("__disposeResources",H),M("__rewriteRelativeImportExtension",O)})})(Jf)),Jf.exports}var j3=B3();const V3=Bi(j3),{__extends:NE,__assign:Tn,__rest:rfe,__decorate:ife,__param:sfe,__esDecorate:ofe,__runInitializers:afe,__propKey:cfe,__setFunctionName:ufe,__metadata:lfe,__awaiter:pfe,__generator:dfe,__exportStar:ffe,__createBinding:mfe,__values:hfe,__read:gfe,__spread:_fe,__spreadArrays:vfe,__spreadArray:ne,__await:Efe,__asyncGenerator:Sfe,__asyncDelegator:bfe,__asyncValues:Tfe,__makeTemplateObject:yfe,__importStar:xfe,__importDefault:wfe,__classPrivateFieldGet:Afe,__classPrivateFieldSet:Dfe,__classPrivateFieldIn:Rfe,__addDisposableResource:Ife,__disposeResources:Cfe,__rewriteRelativeImportExtension:Ofe}=V3;var PA=(function(t){NE(e,t);function e(n,r,i){var s=t.call(this,n,r)||this;return s.iterator=i,s}return e.prototype.add=function(n){return this.iterator(n,this._result.length)?(this._result.push(n),!0):!1},e})(us),_l={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},MA=function(t,e){return t.indexOf(e)!==-1},z3=function(t){return t.toString()},G3=function(t,e,n){return"".concat(e," ").concat(n,", ").concat(t)},hr=(function(){function t(e,n,r,i){if(n===void 0&&(n=z3),r===void 0&&(r=_l),i===void 0&&(i=G3),this.text=[],this.language=r||_l,this.gettext=n,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);s.sort(function(l,p){return l-p}),o.sort(function(l,p){return p-l}),this.bymonthday=s.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(ot(this.origOptions.byweekday)){var a=zt(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(a);this.byweekday={allWeeks:a.filter(function(l){return!l.n}),someWeeks:a.filter(function(l){return!!l.n}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var u=function(l,p){return l.weekday-p.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return t.isFullyConvertible=function(e){var n=!0;if(!(e.options.freq in t.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var r in e.origOptions){if(MA(["dtstart","tzid","wkst","freq"],r))return!0;if(!MA(t.IMPLEMENTED[e.options.freq],r))return!1}return n},t.prototype.isFullyConvertible=function(){return t.isFullyConvertible(this.rrule)},t.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in t.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[le.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},t.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},t.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},t.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},t.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},t.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},t.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},t.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},t.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},t.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},t.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},t.prototype.nth=function(e){e=parseInt(e.toString(),10);var n,r=this.gettext;if(e===-1)return r("last");var i=Math.abs(e);switch(i){case 1:case 21:case 31:n=i+r("st");break;case 2:case 22:n=i+r("nd");break;case 3:case 23:n=i+r("rd");break;default:n=i+r("th")}return e<0?n+" "+r("last"):n},t.prototype.monthtext=function(e){return this.language.monthNames[e-1]},t.prototype.weekdaytext=function(e){var n=Cn(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[n]},t.prototype.plural=function(e){return e%100!==1},t.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},t.prototype.list=function(e,n,r,i){var s=this;i===void 0&&(i=","),zt(e)||(e=[e]);var o=function(c,u,l){for(var p="",d=0;d<c.length;d++)d!==0&&(d===c.length-1?p+=" "+l+" ":p+=u+" "),p+=c[d];return p};n=n||function(c){return c.toString()};var a=function(c){return n&&n.call(s,c)};return r?o(e.map(a),i,r):e.map(a).join(i+" ")},t})(),q3=(function(){function t(e){this.done=!0,this.rules=e}return t.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},t.prototype.isDone=function(){return this.done&&this.symbol===null},t.prototype.nextSymbol=function(){var e,n;this.symbol=null,this.value=null;do{if(this.done)return!1;var r=void 0;e=null;for(var i in this.rules){r=this.rules[i];var s=r.exec(this.text);s&&(e===null||s[0].length>e[0].length)&&(e=s,n=i)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=e,!0},t.prototype.accept=function(e){if(this.symbol===e){if(this.value){var n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1},t.prototype.acceptNumber=function(){return this.accept("number")},t.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},t})();function _1(t,e){e===void 0&&(e=_l);var n={},r=new q3(e.tokens);if(!r.start(t))return null;return i(),n;function i(){r.expect("every");var d=r.acceptNumber();if(d&&(n.interval=parseInt(d[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":n.freq=le.DAILY,r.nextSymbol()&&(o(),p());break;case"weekday(s)":n.freq=le.WEEKLY,n.byweekday=[le.MO,le.TU,le.WE,le.TH,le.FR],r.nextSymbol(),o(),p();break;case"week(s)":n.freq=le.WEEKLY,r.nextSymbol()&&(s(),o(),p());break;case"hour(s)":n.freq=le.HOURLY,r.nextSymbol()&&(s(),p());break;case"minute(s)":n.freq=le.MINUTELY,r.nextSymbol()&&(s(),p());break;case"month(s)":n.freq=le.MONTHLY,r.nextSymbol()&&(s(),p());break;case"year(s)":n.freq=le.YEARLY,r.nextSymbol()&&(s(),p());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=le.WEEKLY;var f=r.symbol.substr(0,2).toUpperCase();if(n.byweekday=[le[f]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var m=c();if(!m)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");n.byweekday.push(le[m]),r.nextSymbol()}o(),l(),p();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=le.YEARLY,n.bymonth=[a()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var h=a();if(!h)throw new Error("Unexpected symbol "+r.symbol+", expected month");n.bymonth.push(h),r.nextSymbol()}s(),p();break;default:throw new Error("Unknown symbol")}}function s(){var d=r.accept("on"),f=r.accept("the");if(d||f)do{var m=u(),h=c(),g=a();if(m)h?(r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(le[h].nth(m))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(m),r.accept("day(s)"));else if(h)r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(le[h]);else if(r.symbol==="weekday(s)")r.nextSymbol(),n.byweekday||(n.byweekday=[le.MO,le.TU,le.WE,le.TH,le.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var _=r.acceptNumber();if(!_)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(n.byweekno=[parseInt(_[0],10)];r.accept("comma");){if(_=r.acceptNumber(),!_)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.byweekno.push(parseInt(_[0],10))}}else if(g)r.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(g);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function o(){var d=r.accept("at");if(d)do{var f=r.acceptNumber();if(!f)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(n.byhour=[parseInt(f[0],10)];r.accept("comma");){if(f=r.acceptNumber(),!f)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");n.byhour.push(parseInt(f[0],10))}}while(r.accept("comma")||r.accept("at"))}function a(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var d=parseInt(r.value[1],10);if(d<-366||d>366)throw new Error("Nth out of range: "+d);return r.nextSymbol(),r.accept("last")?-d:d;default:return!1}}function l(){r.accept("on"),r.accept("the");var d=u();if(d)for(n.bymonthday=[d],r.nextSymbol();r.accept("comma");){if(d=u(),!d)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.bymonthday.push(d),r.nextSymbol()}}function p(){if(r.symbol==="until"){var d=Date.parse(r.text);if(!d)throw new Error("Cannot parse until date:"+r.text);n.until=new Date(d)}else r.accept("for")&&(n.count=parseInt(r.value[0],10),r.expect("number"))}}var Ie;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(Ie||(Ie={}));function kE(t){return t<Ie.HOURLY}var H3=function(t,e){return e===void 0&&(e=_l),new le(_1(t,e)||void 0)},Fs=["count","until","interval","byweekday","bymonthday","bymonth"];hr.IMPLEMENTED=[];hr.IMPLEMENTED[Ie.HOURLY]=Fs;hr.IMPLEMENTED[Ie.MINUTELY]=Fs;hr.IMPLEMENTED[Ie.DAILY]=["byhour"].concat(Fs);hr.IMPLEMENTED[Ie.WEEKLY]=Fs;hr.IMPLEMENTED[Ie.MONTHLY]=Fs;hr.IMPLEMENTED[Ie.YEARLY]=["byweekno","byyearday"].concat(Fs);var W3=function(t,e,n,r){return new hr(t,e,n,r).toString()},Y3=hr.isFullyConvertible,vl=(function(){function t(e,n,r,i){this.hour=e,this.minute=n,this.second=r,this.millisecond=i||0}return t.prototype.getHours=function(){return this.hour},t.prototype.getMinutes=function(){return this.minute},t.prototype.getSeconds=function(){return this.second},t.prototype.getMilliseconds=function(){return this.millisecond},t.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},t})(),K3=(function(t){NE(e,t);function e(n,r,i,s,o,a,c){var u=t.call(this,s,o,a,c)||this;return u.year=n,u.month=r,u.day=i,u}return e.fromDate=function(n){return new this(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.valueOf()%1e3)},e.prototype.getWeekday=function(){return ws(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(n){this.year+=n},e.prototype.addMonths=function(n){if(this.month+=n,this.month>12){var r=Math.floor(this.month/12),i=Jt(this.month,12);this.month=i,this.year+=r,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(n,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+n*7:this.day+=-(this.getWeekday()-r)+n*7,this.fixDay()},e.prototype.addDaily=function(n){this.day+=n,this.fixDay()},e.prototype.addHours=function(n,r,i){for(r&&(this.hour+=Math.floor((23-this.hour)/n)*n);;){this.hour+=n;var s=Xf(this.hour,24),o=s.div,a=s.mod;if(o&&(this.hour=a,this.addDaily(o)),kn(i)||je(i,this.hour))break}},e.prototype.addMinutes=function(n,r,i,s){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/n)*n);;){this.minute+=n;var o=Xf(this.minute,60),a=o.div,c=o.mod;if(a&&(this.minute=c,this.addHours(a,!1,i)),(kn(i)||je(i,this.hour))&&(kn(s)||je(s,this.minute)))break}},e.prototype.addSeconds=function(n,r,i,s,o){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/n)*n);;){this.second+=n;var a=Xf(this.second,60),c=a.div,u=a.mod;if(c&&(this.second=u,this.addMinutes(c,!1,i,s)),(kn(i)||je(i,this.hour))&&(kn(s)||je(s,this.minute))&&(kn(o)||je(o,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var n=CA(this.year,this.month-1)[1];if(!(this.day<=n))for(;this.day>n;){if(this.day-=n,++this.month,this.month===13&&(this.month=1,++this.year,this.year>d1))return;n=CA(this.year,this.month-1)[1]}}},e.prototype.add=function(n,r){var i=n.freq,s=n.interval,o=n.wkst,a=n.byhour,c=n.byminute,u=n.bysecond;switch(i){case Ie.YEARLY:return this.addYears(s);case Ie.MONTHLY:return this.addMonths(s);case Ie.WEEKLY:return this.addWeekly(s,o);case Ie.DAILY:return this.addDaily(s);case Ie.HOURLY:return this.addHours(s,r,a);case Ie.MINUTELY:return this.addMinutes(s,r,a,c);case Ie.SECONDLY:return this.addSeconds(s,r,a,c,u)}},e})(vl);function v1(t){for(var e=[],n=Object.keys(t),r=0,i=n;r<i.length;r++){var s=i[r];je(wW,s)||e.push(s),m1(t[s])&&!Za(t[s])&&e.push(s)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Tn({},t)}function Z3(t){var e=Tn(Tn({},PE),v1(t));if(ot(e.byeaster)&&(e.freq=le.YEARLY),!(ot(e.freq)&&le.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(t.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),ot(e.wkst)?Cn(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=le.MO.weekday,ot(e.bysetpos)){Cn(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var n=0;n<e.bysetpos.length;n++){var r=e.bysetpos[n];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||pt(e.byweekno)||pt(e.byyearday)||e.bymonthday||pt(e.bymonthday)||ot(e.byweekday)||ot(e.byeaster)))switch(e.freq){case le.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case le.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case le.WEEKLY:e.byweekday=[ws(e.dtstart)];break}if(ot(e.bymonth)&&!zt(e.bymonth)&&(e.bymonth=[e.bymonth]),ot(e.byyearday)&&!zt(e.byyearday)&&Cn(e.byyearday)&&(e.byyearday=[e.byyearday]),!ot(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(zt(e.bymonthday)){for(var i=[],s=[],n=0;n<e.bymonthday.length;n++){var r=e.bymonthday[n];r>0?i.push(r):r<0&&s.push(r)}e.bymonthday=i,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(ot(e.byweekno)&&!zt(e.byweekno)&&(e.byweekno=[e.byweekno]),!ot(e.byweekday))e.bynweekday=null;else if(Cn(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(IA(e.byweekday))e.byweekday=[Rt.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof Rt)!e.byweekday.n||e.freq>le.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var o=[],a=[],n=0;n<e.byweekday.length;n++){var c=e.byweekday[n];if(Cn(c)){o.push(c);continue}else if(IA(c)){o.push(Rt.fromStr(c).weekday);continue}!c.n||e.freq>le.MONTHLY?o.push(c.weekday):a.push([c.weekday,c.n])}e.byweekday=pt(o)?o:null,e.bynweekday=pt(a)?a:null}return ot(e.byhour)?Cn(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<le.HOURLY?[e.dtstart.getUTCHours()]:null,ot(e.byminute)?Cn(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<le.MINUTELY?[e.dtstart.getUTCMinutes()]:null,ot(e.bysecond)?Cn(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<le.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function X3(t){var e=t.dtstart.getTime()%1e3;if(!kE(t.freq))return[];var n=[];return t.byhour.forEach(function(r){t.byminute.forEach(function(i){t.bysecond.forEach(function(s){n.push(new vl(r,i,s,e))})})}),n}function Bg(t){var e=t.split(`
`).map(J3).filter(function(n){return n!==null});return Tn(Tn({},e[0]),e[1])}function El(t){var e={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!n)return e;var r=n[1],i=n[2];return r&&(e.tzid=r),e.dtstart=OE(i),e}function J3(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return LA(t);var n=e[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return LA(t);case"DTSTART":return El(t);default:throw new Error("Unsupported RFC prop ".concat(n," in ").concat(t))}}function LA(t){var e=t.replace(/^RRULE:/i,""),n=El(e),r=t.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(i){var s=i.split("="),o=s[0],a=s[1];switch(o.toUpperCase()){case"FREQ":n.freq=Ie[a.toUpperCase()];break;case"WKST":n.wkst=mn[a.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=Q3(a),u=o.toLowerCase();n[u]=c;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=eW(a);break;case"DTSTART":case"TZID":var l=El(t);n.tzid=l.tzid,n.dtstart=l.dtstart;break;case"UNTIL":n.until=OE(a);break;case"BYEASTER":n.byeaster=Number(a);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),n}function Q3(t){if(t.indexOf(",")!==-1){var e=t.split(",");return e.map(UA)}return UA(t)}function UA(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function eW(t){var e=t.split(",");return e.map(function(n){if(n.length===2)return mn[n];var r=n.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!r||r.length<3)throw new SyntaxError("Invalid weekday string: ".concat(n));var i=Number(r[1]),s=r[2],o=mn[s].weekday;return new Rt(o,i)})}var Sl=(function(){function t(e,n){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=n}return Object.defineProperty(t.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=CE(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},t.prototype.getTime=function(){return this.date.getTime()},t.prototype.rezonedDate=function(){return this.isUTC?this.date:$3(this.date,this.tzid)},t})();function jg(t){for(var e=[],n="",r=Object.keys(t),i=Object.keys(PE),s=0;s<r.length;s++)if(r[s]!=="tzid"&&je(i,r[s])){var o=r[s].toUpperCase(),a=t[r[s]],c="";if(!(!ot(a)||zt(a)&&!a.length)){switch(o){case"FREQ":c=le.FREQUENCIES[t.freq];break;case"WKST":Cn(a)?c=new Rt(a).toString():c=a.toString();break;case"BYWEEKDAY":o="BYDAY",c=k3(a).map(function(f){return f instanceof Rt?f:zt(f)?new Rt(f[0],f[1]):new Rt(f)}).toString();break;case"DTSTART":n=tW(a,t.tzid);break;case"UNTIL":c=CE(a,!t.tzid);break;default:if(zt(a)){for(var u=[],l=0;l<a.length;l++)u[l]=String(a[l]);c=u.toString()}else c=String(a)}c&&e.push([o,c])}}var p=e.map(function(f){var m=f[0],h=f[1];return"".concat(m,"=").concat(h.toString())}).join(";"),d="";return p!==""&&(d="RRULE:".concat(p)),[n,d].filter(function(f){return!!f}).join(`
`)}function tW(t,e){return t?"DTSTART"+new Sl(new Date(t),e).toString():""}function nW(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every(function(n,r){return n.getTime()===e[r].getTime()}):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}var rW=(function(){function t(){this.all=!1,this.before=[],this.after=[],this.between=[]}return t.prototype._cacheAdd=function(e,n,r){n&&(n=n instanceof Date?$g(n):OA(n)),e==="all"?this.all=n:(r._value=n,this[e].push(r))},t.prototype._cacheGet=function(e,n){var r=!1,i=n?Object.keys(n):[],s=function(l){for(var p=0;p<i.length;p++){var d=i[p];if(!nW(n[d],l[d]))return!0}return!1},o=this[e];if(e==="all")r=this.all;else if(zt(o))for(var a=0;a<o.length;a++){var c=o[a];if(!(i.length&&s(c))){r=c._value;break}}if(!r&&this.all){for(var u=new us(e,n),a=0;a<this.all.length&&u.accept(this.all[a]);a++);r=u.getValue(),this._cacheAdd(e,r,n)}return zt(r)?OA(r):r instanceof Date?$g(r):r},t})(),iW=ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne([],De(1,31),!0),De(2,28),!0),De(3,31),!0),De(4,30),!0),De(5,31),!0),De(6,30),!0),De(7,31),!0),De(8,31),!0),De(9,30),!0),De(10,31),!0),De(11,30),!0),De(12,31),!0),De(1,7),!0),sW=ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne([],De(1,31),!0),De(2,29),!0),De(3,31),!0),De(4,30),!0),De(5,31),!0),De(6,30),!0),De(7,31),!0),De(8,31),!0),De(9,30),!0),De(10,31),!0),De(11,30),!0),De(12,31),!0),De(1,7),!0),oW=Gn(1,29),aW=Gn(1,30),xr=Gn(1,31),_t=Gn(1,32),cW=ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne([],_t,!0),aW,!0),_t,!0),xr,!0),_t,!0),xr,!0),_t,!0),_t,!0),xr,!0),_t,!0),xr,!0),_t,!0),_t.slice(0,7),!0),uW=ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne([],_t,!0),oW,!0),_t,!0),xr,!0),_t,!0),xr,!0),_t,!0),_t,!0),xr,!0),_t,!0),xr,!0),_t,!0),_t.slice(0,7),!0),lW=Gn(-28,0),pW=Gn(-29,0),wr=Gn(-30,0),vt=Gn(-31,0),dW=ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne([],vt,!0),pW,!0),vt,!0),wr,!0),vt,!0),wr,!0),vt,!0),vt,!0),wr,!0),vt,!0),wr,!0),vt,!0),vt.slice(0,7),!0),fW=ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(ne([],vt,!0),lW,!0),vt,!0),wr,!0),vt,!0),wr,!0),vt,!0),vt,!0),wr,!0),vt,!0),wr,!0),vt,!0),vt.slice(0,7),!0),mW=[0,31,60,91,121,152,182,213,244,274,305,335,366],hW=[0,31,59,90,120,151,181,212,243,273,304,334,365],FA=(function(){for(var t=[],e=0;e<55;e++)t=t.concat(Gn(7));return t})();function gW(t,e){var n=Oi(t,1,1),r=tc(t)?366:365,i=tc(t+1)?366:365,s=Fg(n),o=ws(n),a=Tn(Tn({yearlen:r,nextyearlen:i,yearordinal:s,yearweekday:o},_W(t)),{wnomask:null});if(kn(e.byweekno))return a;a.wnomask=De(0,r+7);var c,u,l=c=Jt(7-o+e.wkst,7);l>=4?(l=0,u=a.yearlen+Jt(o-e.wkst,7)):u=r-l;for(var p=Math.floor(u/7),d=Jt(u,7),f=Math.floor(p+d/4),m=0;m<e.byweekno.length;m++){var h=e.byweekno[m];if(h<0&&(h+=f+1),h>0&&h<=f){var g=void 0;h>1?(g=l+(h-1)*7,l!==c&&(g-=7-c)):g=l;for(var _=0;_<7&&(a.wnomask[g]=1,g++,a.wdaymask[g]!==e.wkst);_++);}}if(je(e.byweekno,1)){var g=l+f*7;if(l!==c&&(g-=7-c),g<r)for(var m=0;m<7&&(a.wnomask[g]=1,g+=1,a.wdaymask[g]!==e.wkst);m++);}if(l){var S=void 0;if(je(e.byweekno,-1))S=-1;else{var v=ws(Oi(t-1,1,1)),T=Jt(7-v.valueOf()+e.wkst,7),y=tc(t-1)?366:365,b=void 0;T>=4?(T=0,b=y+Jt(v-e.wkst,7)):b=r-l,S=Math.floor(52+Jt(b,7)/4)}if(je(e.byweekno,S))for(var g=0;g<l;g++)a.wnomask[g]=1}return a}function _W(t){var e=tc(t)?366:365,n=Oi(t,1,1),r=ws(n);return e===365?{mmask:iW,mdaymask:uW,nmdaymask:fW,wdaymask:FA.slice(r),mrange:hW}:{mmask:sW,mdaymask:cW,nmdaymask:dW,wdaymask:FA.slice(r),mrange:mW}}function vW(t,e,n,r,i,s){var o={lastyear:t,lastmonth:e,nwdaymask:[]},a=[];if(s.freq===le.YEARLY)if(kn(s.bymonth))a=[[0,n]];else for(var c=0;c<s.bymonth.length;c++)e=s.bymonth[c],a.push(r.slice(e-1,e+1));else s.freq===le.MONTHLY&&(a=[r.slice(e-1,e+1)]);if(kn(a))return o;o.nwdaymask=De(0,n);for(var c=0;c<a.length;c++)for(var u=a[c],l=u[0],p=u[1]-1,d=0;d<s.bynweekday.length;d++){var f=void 0,m=s.bynweekday[d],h=m[0],g=m[1];g<0?(f=p+(g+1)*7,f-=Jt(i[f]-h,7)):(f=l+(g-1)*7,f+=Jt(7-i[f]+h,7)),l<=f&&f<=p&&(o.nwdaymask[f]=1)}return o}function EW(t,e){e===void 0&&(e=0);var n=t%19,r=Math.floor(t/100),i=t%100,s=Math.floor(r/4),o=r%4,a=Math.floor((r+8)/25),c=Math.floor((r-a+1)/3),u=Math.floor(19*n+r-s-c+15)%30,l=Math.floor(i/4),p=i%4,d=Math.floor(32+2*o+2*l-u-p)%7,f=Math.floor((n+11*u+22*d)/451),m=Math.floor((u+d-7*f+114)/31),h=(u+d-7*f+114)%31+1,g=Date.UTC(t,m-1,h+e),_=Date.UTC(t,0,1);return[Math.ceil((g-_)/(1e3*60*60*24))]}var SW=(function(){function t(e){this.options=e}return t.prototype.rebuild=function(e,n){var r=this.options;if(e!==this.lastyear&&(this.yearinfo=gW(e,r)),pt(r.bynweekday)&&(n!==this.lastmonth||e!==this.lastyear)){var i=this.yearinfo,s=i.yearlen,o=i.mrange,a=i.wdaymask;this.monthinfo=vW(e,n,s,o,a,r)}ot(r.byeaster)&&(this.eastermask=EW(e,r.byeaster))},Object.defineProperty(t.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),t.prototype.ydayset=function(){return[Gn(this.yearlen),0,this.yearlen]},t.prototype.mdayset=function(e,n){for(var r=this.mrange[n-1],i=this.mrange[n],s=De(null,this.yearlen),o=r;o<i;o++)s[o]=o;return[s,r,i]},t.prototype.wdayset=function(e,n,r){for(var i=De(null,this.yearlen+7),s=Fg(Oi(e,n,r))-this.yearordinal,o=s,a=0;a<7&&(i[s]=s,++s,this.wdaymask[s]!==this.options.wkst);a++);return[i,o,s]},t.prototype.ddayset=function(e,n,r){var i=De(null,this.yearlen),s=Fg(Oi(e,n,r))-this.yearordinal;return i[s]=s,[i,s,s+1]},t.prototype.htimeset=function(e,n,r,i){var s=this,o=[];return this.options.byminute.forEach(function(a){o=o.concat(s.mtimeset(e,a,r,i))}),hc(o),o},t.prototype.mtimeset=function(e,n,r,i){var s=this.options.bysecond.map(function(o){return new vl(e,n,o,i)});return hc(s),s},t.prototype.stimeset=function(e,n,r,i){return[new vl(e,n,r,i)]},t.prototype.getdayset=function(e){switch(e){case Ie.YEARLY:return this.ydayset.bind(this);case Ie.MONTHLY:return this.mdayset.bind(this);case Ie.WEEKLY:return this.wdayset.bind(this);case Ie.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},t.prototype.gettimeset=function(e){switch(e){case Ie.HOURLY:return this.htimeset.bind(this);case Ie.MINUTELY:return this.mtimeset.bind(this);case Ie.SECONDLY:return this.stimeset.bind(this)}},t})();function bW(t,e,n,r,i,s){for(var o=[],a=0;a<t.length;a++){var c=void 0,u=void 0,l=t[a];l<0?(c=Math.floor(l/e.length),u=Jt(l,e.length)):(c=Math.floor((l-1)/e.length),u=Jt(l-1,e.length));for(var p=[],d=n;d<r;d++){var f=s[d];ot(f)&&p.push(f)}var m=void 0;c<0?m=p.slice(c)[0]:m=p[c];var h=e[u],g=h1(i.yearordinal+m),_=g1(g,h);je(o,_)||o.push(_)}return hc(o),o}function E1(t,e){var n=e.dtstart,r=e.freq,i=e.interval,s=e.until,o=e.bysetpos,a=e.count;if(a===0||i===0)return Xn(t);var c=K3.fromDate(n),u=new SW(e);u.rebuild(c.year,c.month);for(var l=xW(u,c,e);;){var p=u.getdayset(r)(c.year,c.month,c.day),d=p[0],f=p[1],m=p[2],h=yW(d,f,m,u,e);if(pt(o))for(var g=bW(o,l,f,m,u,d),_=0;_<g.length;_++){var S=g[_];if(s&&S>s)return Xn(t);if(S>=n){var v=$A(S,e);if(!t.accept(v)||a&&(--a,!a))return Xn(t)}}else for(var _=f;_<m;_++){var T=d[_];if(ot(T))for(var y=h1(u.yearordinal+T),b=0;b<l.length;b++){var x=l[b],S=g1(y,x);if(s&&S>s)return Xn(t);if(S>=n){var v=$A(S,e);if(!t.accept(v)||a&&(--a,!a))return Xn(t)}}}if(e.interval===0||(c.add(e,h),c.year>d1))return Xn(t);kE(r)||(l=u.gettimeset(r)(c.hour,c.minute,c.second,0)),u.rebuild(c.year,c.month)}}function TW(t,e,n){var r=n.bymonth,i=n.byweekno,s=n.byweekday,o=n.byeaster,a=n.bymonthday,c=n.bynmonthday,u=n.byyearday;return pt(r)&&!je(r,t.mmask[e])||pt(i)&&!t.wnomask[e]||pt(s)&&!je(s,t.wdaymask[e])||pt(t.nwdaymask)&&!t.nwdaymask[e]||o!==null&&!je(t.eastermask,e)||(pt(a)||pt(c))&&!je(a,t.mdaymask[e])&&!je(c,t.nmdaymask[e])||pt(u)&&(e<t.yearlen&&!je(u,e+1)&&!je(u,-t.yearlen+e)||e>=t.yearlen&&!je(u,e+1-t.yearlen)&&!je(u,-t.nextyearlen+e-t.yearlen))}function $A(t,e){return new Sl(t,e.tzid).rezonedDate()}function Xn(t){return t.getValue()}function yW(t,e,n,r,i){for(var s=!1,o=e;o<n;o++){var a=t[o];s=TW(r,a,i),s&&(t[a]=null)}return s}function xW(t,e,n){var r=n.freq,i=n.byhour,s=n.byminute,o=n.bysecond;return kE(r)?X3(n):r>=le.HOURLY&&pt(i)&&!je(i,e.hour)||r>=le.MINUTELY&&pt(s)&&!je(s,e.minute)||r>=le.SECONDLY&&pt(o)&&!je(o,e.second)?[]:t.gettimeset(r)(e.hour,e.minute,e.second,e.millisecond)}var mn={MO:new Rt(0),TU:new Rt(1),WE:new Rt(2),TH:new Rt(3),FR:new Rt(4),SA:new Rt(5),SU:new Rt(6)},PE={freq:Ie.YEARLY,dtstart:null,interval:1,wkst:mn.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},wW=Object.keys(PE),le=(function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=!1),this._cache=n?null:new rW,this.origOptions=v1(e);var r=Z3(e).parsedOptions;this.options=r}return t.parseText=function(e,n){return _1(e,n)},t.fromText=function(e,n){return H3(e,n)},t.fromString=function(e){return new t(t.parseString(e)||void 0)},t.prototype._iter=function(e){return E1(e,this.options)},t.prototype._cacheGet=function(e,n){return this._cache?this._cache._cacheGet(e,n):!1},t.prototype._cacheAdd=function(e,n,r){if(this._cache)return this._cache._cacheAdd(e,n,r)},t.prototype.all=function(e){if(e)return this._iter(new PA("all",{},e));var n=this._cacheGet("all");return n===!1&&(n=this._iter(new us("all",{})),this._cacheAdd("all",n)),n},t.prototype.between=function(e,n,r,i){if(r===void 0&&(r=!1),!Za(e)||!Za(n))throw new Error("Invalid date passed in to RRule.between");var s={before:n,after:e,inc:r};if(i)return this._iter(new PA("between",s,i));var o=this._cacheGet("between",s);return o===!1&&(o=this._iter(new us("between",s)),this._cacheAdd("between",o,s)),o},t.prototype.before=function(e,n){if(n===void 0&&(n=!1),!Za(e))throw new Error("Invalid date passed in to RRule.before");var r={dt:e,inc:n},i=this._cacheGet("before",r);return i===!1&&(i=this._iter(new us("before",r)),this._cacheAdd("before",i,r)),i},t.prototype.after=function(e,n){if(n===void 0&&(n=!1),!Za(e))throw new Error("Invalid date passed in to RRule.after");var r={dt:e,inc:n},i=this._cacheGet("after",r);return i===!1&&(i=this._iter(new us("after",r)),this._cacheAdd("after",i,r)),i},t.prototype.count=function(){return this.all().length},t.prototype.toString=function(){return jg(this.origOptions)},t.prototype.toText=function(e,n,r){return W3(this,e,n,r)},t.prototype.isFullyConvertibleToText=function(){return Y3(this)},t.prototype.clone=function(){return new t(this.origOptions)},t.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],t.YEARLY=Ie.YEARLY,t.MONTHLY=Ie.MONTHLY,t.WEEKLY=Ie.WEEKLY,t.DAILY=Ie.DAILY,t.HOURLY=Ie.HOURLY,t.MINUTELY=Ie.MINUTELY,t.SECONDLY=Ie.SECONDLY,t.MO=mn.MO,t.TU=mn.TU,t.WE=mn.WE,t.TH=mn.TH,t.FR=mn.FR,t.SA=mn.SA,t.SU=mn.SU,t.parseString=Bg,t.optionsToString=jg,t})();function AW(t,e,n,r,i,s){var o={},a=t.accept;function c(d,f){n.forEach(function(m){m.between(d,f,!0).forEach(function(h){o[Number(h)]=!0})})}i.forEach(function(d){var f=new Sl(d,s).rezonedDate();o[Number(f)]=!0}),t.accept=function(d){var f=Number(d);return isNaN(f)?a.call(this,d):!o[f]&&(c(new Date(f-1),new Date(f+1)),!o[f])?(o[f]=!0,a.call(this,d)):!0},t.method==="between"&&(c(t.args.after,t.args.before),t.accept=function(d){var f=Number(d);return o[f]?!0:(o[f]=!0,a.call(this,d))});for(var u=0;u<r.length;u++){var l=new Sl(r[u],s).rezonedDate();if(!t.accept(new Date(l.getTime())))break}e.forEach(function(d){E1(t,d.options)});var p=t._result;switch(hc(p),t.method){case"all":case"between":return p;case"before":return p.length&&p[p.length-1]||null;case"after":default:return p.length&&p[0]||null}}var BA={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function DW(t,e){var n=[],r=[],i=[],s=[],o=El(t),a=o.dtstart,c=o.tzid,u=NW(t,e.unfold);return u.forEach(function(l){var p;if(l){var d=OW(l),f=d.name,m=d.parms,h=d.value;switch(f.toUpperCase()){case"RRULE":if(m.length)throw new Error("unsupported RRULE parm: ".concat(m.join(",")));n.push(Bg(l));break;case"RDATE":var g=(p=/RDATE(?:;TZID=([^:=]+))?/i.exec(l))!==null&&p!==void 0?p:[],_=g[1];_&&!c&&(c=_),r=r.concat(jA(h,m));break;case"EXRULE":if(m.length)throw new Error("unsupported EXRULE parm: ".concat(m.join(",")));i.push(Bg(h));break;case"EXDATE":s=s.concat(jA(h,m));break;case"DTSTART":break;default:throw new Error("unsupported property: "+f)}}}),{dtstart:a,tzid:c,rrulevals:n,rdatevals:r,exrulevals:i,exdatevals:s}}function RW(t,e){var n=DW(t,e),r=n.rrulevals,i=n.rdatevals,s=n.exrulevals,o=n.exdatevals,a=n.dtstart,c=n.tzid,u=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||r.length>1||i.length||s.length||o.length){var l=new PW(u);return l.dtstart(a),l.tzid(c||void 0),r.forEach(function(d){l.rrule(new le(Qf(d,a,c),u))}),i.forEach(function(d){l.rdate(d)}),s.forEach(function(d){l.exrule(new le(Qf(d,a,c),u))}),o.forEach(function(d){l.exdate(d)}),e.compatible&&e.dtstart&&l.rdate(a),l}var p=r[0]||{};return new le(Qf(p,p.dtstart||e.dtstart||a,p.tzid||e.tzid||c),u)}function Vg(t,e){return e===void 0&&(e={}),RW(t,IW(e))}function Qf(t,e,n){return Tn(Tn({},t),{dtstart:e,tzid:n})}function IW(t){var e=[],n=Object.keys(t),r=Object.keys(BA);if(n.forEach(function(i){je(r,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Tn(Tn({},BA),t)}function CW(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};var e=P3(t,":",1),n=e[0],r=e[1];return{name:n,value:r}}function OW(t){var e=CW(t),n=e.name,r=e.value,i=n.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:r}}function NW(t,e){if(e===void 0&&(e=!1),t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);for(var n=t.split(`
`),r=0;r<n.length;){var i=n[r]=n[r].replace(/\s+$/g,"");i?r>0&&i[0]===" "?(n[r-1]+=i.slice(1),n.splice(r,1)):r+=1:n.splice(r,1)}return n}function kW(t){t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function jA(t,e){return kW(e),t.split(",").map(function(n){return OE(n)})}function VA(t){var e=this;return function(n){if(n!==void 0&&(e["_".concat(t)]=n),e["_".concat(t)]!==void 0)return e["_".concat(t)];for(var r=0;r<e._rrule.length;r++){var i=e._rrule[r].origOptions[t];if(i)return i}}}var PW=(function(t){NE(e,t);function e(n){n===void 0&&(n=!1);var r=t.call(this,{},n)||this;return r.dtstart=VA.apply(r,["dtstart"]),r.tzid=VA.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return e.prototype._iter=function(n){return AW(n,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(n){zA(n,this._rrule)},e.prototype.exrule=function(n){zA(n,this._exrule)},e.prototype.rdate=function(n){GA(n,this._rdate)},e.prototype.exdate=function(n){GA(n,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(n){return Vg(n.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(n){return Vg(n.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(n){return new Date(n.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(n){return new Date(n.getTime())})},e.prototype.valueOf=function(){var n=[];return!this._rrule.length&&this._dtstart&&(n=n.concat(jg({dtstart:this._dtstart}))),this._rrule.forEach(function(r){n=n.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){n=n.concat(r.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&n.push(qA("RDATE",this._rdate,this.tzid())),this._exdate.length&&n.push(qA("EXDATE",this._exdate,this.tzid())),n},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var n=new e(!!this._cache);return this._rrule.forEach(function(r){return n.rrule(r.clone())}),this._exrule.forEach(function(r){return n.exrule(r.clone())}),this._rdate.forEach(function(r){return n.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return n.exdate(new Date(r.getTime()))}),n},e})(le);function zA(t,e){if(!(t instanceof le))throw new TypeError(String(t)+" is not RRule instance");je(e.map(String),String(t))||e.push(t)}function GA(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");je(e.map(Number),Number(t))||(e.push(t),hc(e))}function qA(t,e,n){var r=!n||n.toUpperCase()==="UTC",i=r?"".concat(t,":"):"".concat(t,";TZID=").concat(n,":"),s=e.map(function(o){return CE(o.valueOf(),r)}).join(",");return"".concat(i).concat(s)}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function MW(t,e){let n=t.slice(0,e).split(/\r\n|\n|\r/g);return[n.length,n.pop().length+1]}function LW(t,e,n){let r=t.split(/\r\n|\n|\r/g),i="",s=(Math.log10(e+1)|0)+1;for(let o=e-1;o<=e+1;o++){let a=r[o-1];a&&(i+=o.toString().padEnd(s," "),i+=":  ",i+=a,i+=`
`,o===e&&(i+=" ".repeat(s+n+2),i+=`^
`))}return i}class be extends Error{line;column;codeblock;constructor(e,n){const[r,i]=MW(n.toml,n.ptr),s=LW(n.toml,r,i);super(`Invalid TOML document: ${e}

${s}`,n),this.line=r,this.column=i,this.codeblock=s}}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function UW(t,e){let n=0;for(;t[e-++n]==="\\";);return--n&&n%2}function bl(t,e=0,n=t.length){let r=t.indexOf(`
`,e);return t[r-1]==="\r"&&r--,r<=n?r:-1}function ME(t,e){for(let n=e;n<t.length;n++){let r=t[n];if(r===`
`)return n;if(r==="\r"&&t[n+1]===`
`)return n+1;if(r<" "&&r!=="	"||r==="")throw new be("control characters are not allowed in comments",{toml:t,ptr:e})}return t.length}function or(t,e,n,r){let i;for(;(i=t[e])===" "||i==="	"||!n&&(i===`
`||i==="\r"&&t[e+1]===`
`);)e++;return r||i!=="#"?e:or(t,ME(t,e),n)}function HA(t,e,n,r,i=!1){if(!r)return e=bl(t,e),e<0?t.length:e;for(let s=e;s<t.length;s++){let o=t[s];if(o==="#")s=bl(t,s);else{if(o===n)return s+1;if(o===r||i&&(o===`
`||o==="\r"&&t[s+1]===`
`))return s}}throw new be("cannot find end of structure",{toml:t,ptr:e})}function S1(t,e){let n=t[e],r=n===t[e+1]&&t[e+1]===t[e+2]?t.slice(e,e+3):n;e+=r.length-1;do e=t.indexOf(r,++e);while(e>-1&&n!=="'"&&UW(t,e));return e>-1&&(e+=r.length,r.length>1&&(t[e]===n&&e++,t[e]===n&&e++)),e}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let FW=/^(\d{4}-\d{2}-\d{2})?[T ]?(?:(\d{2}):\d{2}:\d{2}(?:\.\d+)?)?(Z|[-+]\d{2}:\d{2})?$/i;class ls extends Date{#t=!1;#n=!1;#e=null;constructor(e){let n=!0,r=!0,i="Z";if(typeof e=="string"){let s=e.match(FW);s?(s[1]||(n=!1,e=`0000-01-01T${e}`),r=!!s[2],r&&e[10]===" "&&(e=e.replace(" ","T")),s[2]&&+s[2]>23?e="":(i=s[3]||null,e=e.toUpperCase(),!i&&r&&(e+="Z"))):e=""}super(e),isNaN(this.getTime())||(this.#t=n,this.#n=r,this.#e=i)}isDateTime(){return this.#t&&this.#n}isLocal(){return!this.#t||!this.#n||!this.#e}isDate(){return this.#t&&!this.#n}isTime(){return this.#n&&!this.#t}isValid(){return this.#t||this.#n}toISOString(){let e=super.toISOString();if(this.isDate())return e.slice(0,10);if(this.isTime())return e.slice(11,23);if(this.#e===null)return e.slice(0,-1);if(this.#e==="Z")return e;let n=+this.#e.slice(1,3)*60+ +this.#e.slice(4,6);return n=this.#e[0]==="-"?n:-n,new Date(this.getTime()-n*6e4).toISOString().slice(0,-1)+this.#e}static wrapAsOffsetDateTime(e,n="Z"){let r=new ls(e);return r.#e=n,r}static wrapAsLocalDateTime(e){let n=new ls(e);return n.#e=null,n}static wrapAsLocalDate(e){let n=new ls(e);return n.#n=!1,n.#e=null,n}static wrapAsLocalTime(e){let n=new ls(e);return n.#t=!1,n.#e=null,n}}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let $W=/^((0x[0-9a-fA-F](_?[0-9a-fA-F])*)|(([+-]|0[ob])?\d(_?\d)*))$/,BW=/^[+-]?\d(_?\d)*(\.\d(_?\d)*)?([eE][+-]?\d(_?\d)*)?$/,jW=/^[+-]?0[0-9_]/,VW=/^[0-9a-f]{4,8}$/i,WA={b:"\b",t:"	",n:`
`,f:"\f",r:"\r",'"':'"',"\\":"\\"};function b1(t,e=0,n=t.length){let r=t[e]==="'",i=t[e++]===t[e]&&t[e]===t[e+1];i&&(n-=2,t[e+=2]==="\r"&&e++,t[e]===`
`&&e++);let s=0,o,a="",c=e;for(;e<n-1;){let u=t[e++];if(u===`
`||u==="\r"&&t[e]===`
`){if(!i)throw new be("newlines are not allowed in strings",{toml:t,ptr:e-1})}else if(u<" "&&u!=="	"||u==="")throw new be("control characters are not allowed in strings",{toml:t,ptr:e-1});if(o){if(o=!1,u==="u"||u==="U"){let l=t.slice(e,e+=u==="u"?4:8);if(!VW.test(l))throw new be("invalid unicode escape",{toml:t,ptr:s});try{a+=String.fromCodePoint(parseInt(l,16))}catch{throw new be("invalid unicode escape",{toml:t,ptr:s})}}else if(i&&(u===`
`||u===" "||u==="	"||u==="\r")){if(e=or(t,e-1,!0),t[e]!==`
`&&t[e]!=="\r")throw new be("invalid escape: only line-ending whitespace may be escaped",{toml:t,ptr:s});e=or(t,e)}else if(u in WA)a+=WA[u];else throw new be("unrecognized escape sequence",{toml:t,ptr:s});c=e}else!r&&u==="\\"&&(s=e-1,o=!0,a+=t.slice(c,s))}return a+t.slice(c,n-1)}function zW(t,e,n,r){if(t==="true")return!0;if(t==="false")return!1;if(t==="-inf")return-1/0;if(t==="inf"||t==="+inf")return 1/0;if(t==="nan"||t==="+nan"||t==="-nan")return NaN;if(t==="-0")return r?0n:0;let i=$W.test(t);if(i||BW.test(t)){if(jW.test(t))throw new be("leading zeroes are not allowed",{toml:e,ptr:n});t=t.replace(/_/g,"");let o=+t;if(isNaN(o))throw new be("invalid number",{toml:e,ptr:n});if(i){if((i=!Number.isSafeInteger(o))&&!r)throw new be("integer value cannot be represented losslessly",{toml:e,ptr:n});(i||r===!0)&&(o=BigInt(t))}return o}const s=new ls(t);if(!s.isValid())throw new be("invalid value",{toml:e,ptr:n});return s}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function GW(t,e,n,r){let i=t.slice(e,n),s=i.indexOf("#");s>-1&&(ME(t,s),i=i.slice(0,s));let o=i.trimEnd();if(!r){let a=i.indexOf(`
`,o.length);if(a>-1)throw new be("newlines are not allowed in inline tables",{toml:t,ptr:e+a})}return[o,s]}function LE(t,e,n,r,i){if(r===0)throw new be("document contains excessively nested structures. aborting.",{toml:t,ptr:e});let s=t[e];if(s==="["||s==="{"){let[c,u]=s==="["?WW(t,e,r,i):HW(t,e,r,i),l=n?HA(t,u,",",n):u;if(u-l&&n==="}"){let p=bl(t,u,l);if(p>-1)throw new be("newlines are not allowed in inline tables",{toml:t,ptr:p})}return[c,l]}let o;if(s==='"'||s==="'"){o=S1(t,e);let c=b1(t,e,o);if(n){if(o=or(t,o,n!=="]"),t[o]&&t[o]!==","&&t[o]!==n&&t[o]!==`
`&&t[o]!=="\r")throw new be("unexpected character encountered",{toml:t,ptr:o});o+=+(t[o]===",")}return[c,o]}o=HA(t,e,",",n);let a=GW(t,e,o-+(t[o-1]===","),n==="]");if(!a[0])throw new be("incomplete key-value declaration: no value specified",{toml:t,ptr:e});return n&&a[1]>-1&&(o=or(t,e+a[1]),o+=+(t[o]===",")),[zW(a[0],t,e,i),o]}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let qW=/^[a-zA-Z0-9-_]+[ \t]*$/;function zg(t,e,n="="){let r=e-1,i=[],s=t.indexOf(n,e);if(s<0)throw new be("incomplete key-value: cannot find end of key",{toml:t,ptr:e});do{let o=t[e=++r];if(o!==" "&&o!=="	")if(o==='"'||o==="'"){if(o===t[e+1]&&o===t[e+2])throw new be("multiline strings are not allowed in keys",{toml:t,ptr:e});let a=S1(t,e);if(a<0)throw new be("unfinished string encountered",{toml:t,ptr:e});r=t.indexOf(".",a);let c=t.slice(a,r<0||r>s?s:r),u=bl(c);if(u>-1)throw new be("newlines are not allowed in keys",{toml:t,ptr:e+r+u});if(c.trimStart())throw new be("found extra tokens after the string part",{toml:t,ptr:a});if(s<a&&(s=t.indexOf(n,a),s<0))throw new be("incomplete key-value: cannot find end of key",{toml:t,ptr:e});i.push(b1(t,e,a))}else{r=t.indexOf(".",e);let a=t.slice(e,r<0||r>s?s:r);if(!qW.test(a))throw new be("only letter, numbers, dashes and underscores are allowed in keys",{toml:t,ptr:e});i.push(a.trimEnd())}}while(r+1&&r<s);return[i,or(t,s+1,!0,!0)]}function HW(t,e,n,r){let i={},s=new Set,o,a=0;for(e++;(o=t[e++])!=="}"&&o;){let c={toml:t,ptr:e-1};if(o===`
`)throw new be("newlines are not allowed in inline tables",c);if(o==="#")throw new be("inline tables cannot contain comments",c);if(o===",")throw new be("expected key-value, found comma",c);if(o!==" "&&o!=="	"){let u,l=i,p=!1,[d,f]=zg(t,e-1);for(let g=0;g<d.length;g++){if(g&&(l=p?l[u]:l[u]={}),u=d[g],(p=Object.hasOwn(l,u))&&(typeof l[u]!="object"||s.has(l[u])))throw new be("trying to redefine an already defined value",{toml:t,ptr:e});!p&&u==="__proto__"&&Object.defineProperty(l,u,{enumerable:!0,configurable:!0,writable:!0})}if(p)throw new be("trying to redefine an already defined value",{toml:t,ptr:e});let[m,h]=LE(t,f,"}",n-1,r);s.add(m),l[u]=m,e=h,a=t[e-1]===","?e-1:0}}if(a)throw new be("trailing commas are not allowed in inline tables",{toml:t,ptr:a});if(!o)throw new be("unfinished table encountered",{toml:t,ptr:e});return[i,e]}function WW(t,e,n,r){let i=[],s;for(e++;(s=t[e++])!=="]"&&s;){if(s===",")throw new be("expected value, found comma",{toml:t,ptr:e-1});if(s==="#")e=ME(t,e);else if(s!==" "&&s!=="	"&&s!==`
`&&s!=="\r"){let o=LE(t,e-1,"]",n-1,r);i.push(o[0]),e=o[1]}}if(!s)throw new be("unfinished array encountered",{toml:t,ptr:e});return[i,e]}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function YA(t,e,n,r){let i=e,s=n,o,a=!1,c;for(let u=0;u<t.length;u++){if(u){if(i=a?i[o]:i[o]={},s=(c=s[o]).c,r===0&&(c.t===1||c.t===2))return null;if(c.t===2){let l=i.length-1;i=i[l],s=s[l].c}}if(o=t[u],(a=Object.hasOwn(i,o))&&s[o]?.t===0&&s[o]?.d)return null;a||(o==="__proto__"&&(Object.defineProperty(i,o,{enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(s,o,{enumerable:!0,configurable:!0,writable:!0})),s[o]={t:u<t.length-1&&r===2?3:r,d:!1,i:0,c:{}})}if(c=s[o],c.t!==r&&!(r===1&&c.t===3)||(r===2&&(c.d||(c.d=!0,i[o]=[]),i[o].push(i={}),c.c[c.i++]=c={t:1,d:!1,i:0,c:{}}),c.d))return null;if(c.d=!0,r===1)i=a?i[o]:i[o]={};else if(r===0&&a)return null;return[o,i,c.c]}function T1(t,{maxDepth:e=1e3,integersAsBigInt:n}={}){let r={},i={},s=r,o=i;for(let a=or(t,0);a<t.length;){if(t[a]==="["){let c=t[++a]==="[",u=zg(t,a+=+c,"]");if(c){if(t[u[1]-1]!=="]")throw new be("expected end of table declaration",{toml:t,ptr:u[1]-1});u[1]++}let l=YA(u[0],r,i,c?2:1);if(!l)throw new be("trying to redefine an already defined table or value",{toml:t,ptr:a});o=l[2],s=l[1],a=u[1]}else{let c=zg(t,a),u=YA(c[0],s,o,0);if(!u)throw new be("trying to redefine an already defined table or value",{toml:t,ptr:a});let l=LE(t,c[1],void 0,e,n);u[1][u[0]]=l[0],a=l[1]}if(a=or(t,a,!0),t[a]&&t[a]!==`
`&&t[a]!=="\r")throw new be("each key-value declaration must be followed by an end-of-line",{toml:t,ptr:a});a=or(t,a)}return r}function hi(t){return`"${t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/"/g,'\\"')}"`}function YW(t){return t.length===0?"[]":`[${t.map(hi).join(", ")}]`}const KW="automations",UE="automation.toml",y1=1;let KA=!1;function ZW(t){return{...t,rrule:Ci(t.rrule),cwds:JSON.parse(t.cwds),executionEnvironment:_p(null)}}function x1(t){const e=ct();if(!e)return null;try{return e.prepare("SELECT id, name, prompt, status, cwds, rrule, next_run_at as nextRunAt, last_run_at as lastRunAt, created_at as createdAt, updated_at as updatedAt FROM automations WHERE id = ?").get(t)??null}catch{return null}}function yp({automation:t,nextRunAt:e,lastRunAt:n}){const r=ct();if(r)try{r.prepare("INSERT OR REPLACE INTO automations (id, name, prompt, status, next_run_at, last_run_at, cwds, rrule, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)").run(t.id,t.name,t.prompt,t.status,e,n,JSON.stringify(t.cwds),t.rrule,t.createdAt,t.updatedAt)}catch{return}}function w1(){return process.env.NODE_ENV==="test"?!0:process.versions.electron!=null}function $r(){return w1()?(rY(),!0):!1}function FE(){return B.join(wn({}),KW)}function Gc(t){return!t||t==="."||t===".."?!1:!t.includes("/")&&!t.includes("\\")}function A1(t){return B.join(FE(),t)}function D1(t){return B.join(A1(t),UE)}function XW(t){const e=t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return!e||e==="."||e===".."?"":e}function JW(t){const e=XW(t)||"automation",n=new Set(R1());if(!n.has(e))return e;for(let r=2;r<=20;r+=1){const i=`${e}-${r}`;if(!n.has(i))return i}return`${e}-${Ke.randomUUID().slice(0,8)}`}function R1(){const t=FE();try{return Y.readdirSync(t,{withFileTypes:!0}).filter(e=>e.isDirectory()&&Gc(e.name)).map(e=>e.name)}catch{return[]}}function $E(){return R1().map(t=>xp(t)).filter(t=>t!=null)}function QW(){const t=FE();try{return Y.readdirSync(t,{withFileTypes:!0}).some(e=>e.isDirectory()?Y.existsSync(B.join(t,e.name,UE)):!1)}catch{return!1}}function eY(t){let e;try{e=T1(t)}catch{return null}const n=Zq.safeParse(e);if(!n.success)return null;const r=n.data;if(r.version!=null&&r.version!==y1)return null;const i=Ci(r.rrule);return{id:r.id,name:r.name,prompt:r.prompt,status:r.status,cwds:r.cwds.map(r6),executionEnvironment:_p(r.execution_environment),rrule:i,nextRunAt:null,lastRunAt:null,createdAt:r.created_at,updatedAt:r.updated_at}}function xp(t){if(!Gc(t))return null;const e=D1(t);if(!Y.existsSync(e))return null;let n;try{n=Y.readFileSync(e,"utf8")}catch{return null}const r=eY(n);return!r||r.id!==t?null:r}function tY(t){const e=[];return e.push(`version = ${y1}`),e.push(`id = ${hi(t.id)}`),e.push(`name = ${hi(t.name)}`),e.push(`prompt = ${hi(t.prompt)}`),e.push(`status = ${hi(t.status)}`),e.push(`rrule = ${hi(t.rrule)}`),e.push(`execution_environment = ${hi(t.executionEnvironment)}`),e.push(`cwds = ${YW(t.cwds)}`),e.push(`created_at = ${t.createdAt}`),e.push(`updated_at = ${t.updatedAt}`),`${e.join(`
`)}
`}function nY(t,e){const n=B.dirname(t);Y.mkdirSync(n,{recursive:!0});const r=B.join(n,`.${UE}.tmp-${Date.now()}-${Ke.randomUUID()}`);Y.writeFileSync(r,e,"utf8");try{Y.renameSync(r,t)}catch{Y.rmSync(t,{force:!0}),Y.renameSync(r,t)}}function BE(t){if(!Gc(t.id))return;const e=D1(t.id);nY(e,tY(t))}function rY(){if(KA||(KA=!0,!w1())||QW())return;const t=ct();if(!t)return;let e=[];try{e=t.prepare("SELECT id, name, prompt, status, cwds, rrule, next_run_at as nextRunAt, last_run_at as lastRunAt, created_at as createdAt, updated_at as updatedAt FROM automations WHERE status != 'DELETED'").all()}catch{return}if(e.length!==0)for(const n of e)BE(ZW(n))}function qc({rrule:t,now:e}){const n=Ci(t),r=Vg(n,{forceset:!0,dtstart:new Date(e)}),i=r.rrules()[0];if(i){const o=i.options;if(o.freq===le.DAILY||o.freq===le.WEEKLY){const a=pY(o);if(a){const c=mY(o.byweekday);return o.freq===le.DAILY&&c.length===0?dY(e,a):fY(e,a,c)}}}const s=r.after(new Date(e),!1);return s?s.getTime():null}function $s(t,e){if(!ct())return{...t,nextRunAt:null,lastRunAt:null};const r=x1(t.id),i=Ci(t.rrule),s=r?Ci(r.rrule):null,o=r==null||s!==i||r.status!==t.status;let a=r?.nextRunAt??null;const c=r?.lastRunAt??null;t.status==="ACTIVE"?(a==null||o)&&(a=qc({rrule:i,now:e})):a=null;const u=JSON.stringify(t.cwds);return(r==null||r.name!==t.name||r.prompt!==t.prompt||r.status!==t.status||r.cwds!==u||s!==i||r.createdAt!==t.createdAt||r.updatedAt!==t.updatedAt||r.nextRunAt!==a||r.lastRunAt!==c)&&yp({automation:{...t,rrule:i},nextRunAt:a,lastRunAt:c}),{...t,rrule:i,nextRunAt:a,lastRunAt:c}}function iY(){if(!$r())return[];const t=Date.now();return $E().filter(n=>n.status!=="DELETED").map(n=>$s(n,t)).sort((n,r)=>r.updatedAt-n.updatedAt)}function sY(t){if(!$r())return null;const e=Date.now(),n=xp(t);return!n||n.status==="DELETED"?null:$s(n,e)}function oY(t){if(!$r())return null;const e=Date.now(),n=Ci(t.rrule),r=_p(t.executionEnvironment),i=qc({rrule:n,now:e}),s={id:JW(t.name),name:t.name,prompt:t.prompt,status:"ACTIVE",cwds:t.cwds,executionEnvironment:r,rrule:n,nextRunAt:i,lastRunAt:null,createdAt:e,updatedAt:e};return BE(s),yp({automation:s,nextRunAt:i,lastRunAt:null}),s}function aY(t){if(!$r())return null;const e=xp(t.id);if(!e)return null;const n=Date.now(),r=$s(e,n),i=Ci(t.rrule),s=_p(t.executionEnvironment),o=r.rrule!==i,c=t.status==="ACTIVE"&&(r.status!=="ACTIVE"||o)?qc({rrule:i,now:n}):r.nextRunAt,u={id:t.id,name:t.name,prompt:t.prompt,status:t.status,cwds:t.cwds,executionEnvironment:s,rrule:i,nextRunAt:c,lastRunAt:r.lastRunAt,createdAt:r.createdAt,updatedAt:n};return BE(u),yp({automation:u,nextRunAt:c,lastRunAt:u.lastRunAt}),u}function cY(t){if(!$r()||!Gc(t))return!1;const e=A1(t);if(!Y.existsSync(e))return!1;Y.rmSync(e,{force:!0,recursive:!0});const n=ct();if(n)try{n.prepare("DELETE FROM automations WHERE id = ?").run(t)}catch{}return!0}function uY(t){if(!$r())return 0;const e=$E().filter(r=>r.status==="ACTIVE");let n=0;for(const r of e){const i=x1(r.id)?.nextRunAt??null,s=$s(r,t);i==null&&s.nextRunAt!=null&&(n+=1)}return n}function lY(t,e=10){return $r()?$E().filter(r=>r.status==="ACTIVE").map(r=>$s(r,t)).filter(r=>r.nextRunAt!=null&&r.nextRunAt<=t).sort((r,i)=>{const s=r.nextRunAt??0,o=i.nextRunAt??0;return s-o}).slice(0,e):[]}function I1(t,e){if(!$r()||!Gc(t))return!1;const n=xp(t);if(!n)return!1;const r=Date.now(),i=r,s=$s(n,r),o=n.status==="ACTIVE"?e:s.nextRunAt,a={...n,rrule:s.rrule,nextRunAt:o,lastRunAt:i,createdAt:n.createdAt,updatedAt:n.updatedAt};return yp({automation:a,nextRunAt:a.nextRunAt,lastRunAt:i}),!0}const ZA={MO:1,TU:2,WE:3,TH:4,FR:5,SA:6,SU:0};function pY(t){const e=XA(t.byhour),n=XA(t.byminute);return e!=null&&n!=null?{hour:e,minute:n}:t.dtstart?{hour:t.dtstart.getHours(),minute:t.dtstart.getMinutes()}:null}function XA(t){return Array.isArray(t)?typeof t[0]=="number"?t[0]:null:typeof t=="number"?t:null}function dY(t,e){const n=new Date(t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e.hour,e.minute,0,0);return r.getTime()<=t&&r.setDate(r.getDate()+1),r.getTime()}function fY(t,e,n){const r=new Date(t),i=r.getDay(),s=n.length>0?n:[0,1,2,3,4,5,6];for(let o=0;o<=7;o+=1){const a=(i+o)%7;if(!s.includes(a))continue;const c=new Date(r.getFullYear(),r.getMonth(),r.getDate()+o,e.hour,e.minute,0,0);if(c.getTime()>t)return c.getTime()}return t}function mY(t){return t?(Array.isArray(t)?t:[t]).map(n=>{if(typeof n=="number")return JA(n);if(hY(n))return JA(n.weekday);const r=String(n);return r in ZA?ZA[r]:null}).filter(n=>n!=null):[]}function hY(t){return t==null||typeof t!="object"||!("weekday"in t)?!1:typeof t.weekday=="number"}function JA(t){return!Number.isInteger(t)||t<0||t>6?null:(t+1)%7}function C1(t){return`<app-context>
${t.trim()}
</app-context>`}const O1=`# Codex desktop context
- You are running inside the Codex (desktop) app, which allows some additional features not available in the CLI alone:

### Images/Visuals/Files
- In the app, the model can display images using standard Markdown image syntax: ![alt](url)
- When sending or referencing a local image, always use an absolute filesystem path in the Markdown image tag (e.g., ![alt](/absolute/path.png)); relative paths and plain text will not render the image.
- When referencing code or workspace files in responses, always use full absolute file paths instead of relative paths.
- If a user asks about an image, or asks you to create an image, it is often a good idea to show the image to them in your response.
- Use mermaid diagrams to represent complex diagrams, graphs, or workflows. Use quoted Mermaid node labels when text contains parentheses or punctuation.
- Return web URLs as Markdown links (e.g., [label](https://example.com)).

### Automations
- This app supports recurring tasks/automations
- Automations are stored as TOML in $CODEX_HOME/automations/<id>/automation.toml (not in SQLite). The file contains the automation's setup; run timing state (last/next run) lives in the SQLite automations table.

#### When to use directives
- Only use ::automation-update{...} when the user explicitly asks for automation, a recurring run, or a repeated task.
- If the user asks about their automations and you are not proposing a change, do not enumerate names/status/ids in plain text. Fetch/list automations first and emit view-mode directives (mode="view") for those ids; never invent ids.
- Never return raw RRULE strings in user-facing responses. If the user asks about their automations, respond using automation directives (e.g., with an "Open" button if you're not making changes).

#### Directive format
- Modes: view, suggested update, suggested create. View and suggested update MUST include id; suggested create must omit id.
- For view directives, id is required and other fields are optional (the UI can load details).
- For suggested update/create, include name, prompt, rrule, cwds, and status. cwds can be a comma-separated list or a JSON array string.
- Always come up with a short name for the automation. If the user does not give one, propose a short name and confirm.
- Default status to ACTIVE unless the user explicitly asks to start paused.
- Always interpret and schedule times in the user's locale time zone.
- Directives should be on their own line(s) and be separated by newlines.
- Do not generate remark directives with multiline attribute values.

#### Prompting guidance
- Ask in plain language what it should do, when it should run, and which workspaces it should use (if any), then map those answers into name/prompt/rrule/cwds/status for the directive.
- The automation prompt should describe only the task itself. Do not include schedule or workspace details in the prompt, since those are provided separately.
- Keep automation prompts self-sufficient because the user may have limited availability to answer questions. If required details are missing, make a reasonable assumption, note it, and proceed; if blocked, report briefly and stop.
- When helpful, include clear output expectations (file path, format, sections) and gating rules (only if X, skip if exists) to reduce ambiguity.
- Automations should always open an inbox item.
  - Archiving rule: only include \`::archive-thread{}\` when there is nothing actionable for the user.
  - Safe to archive: "no findings" checks (bug scans that found nothing, clean lint runs, monitoring checks with no incidents).
  - Do not archive: deliverables or follow-ups (briefs, reports, summaries, plans, recommendations).
  - If you do archive, include the archive directive after the inbox item.
- Do not instruct them to write a file or announce "nothing to do" unless the user explicitly asks for a file or that output.
- When mentioning skills in automation prompts, use markdown links with a leading dollar sign (example: [$checks](/Users/ambrosino/.codex/skills/checks/SKILL.md)).

#### Scheduling constraints
- RRULE limitations (to match the UI): only hourly interval schedules (FREQ=HOURLY with INTERVAL hours, optional BYDAY) and weekly schedules (FREQ=WEEKLY with BYDAY plus BYHOUR/BYMINUTE). Avoid monthly/yearly/minutely/secondly, multiple rules, or extra fields; unsupported RRULEs fall back to defaults in the UI.

#### Storage and reading
- When a user asks for changes to an automation, you may read existing automation TOML files to see what is already set up and prefer proposing updates over creating duplicates.
- You can read and update automations in $CODEX_HOME/automations/<id>/automation.toml and memory.md only when the user explicitly asks you to modify automations.
- Otherwise, do not change automation files or schedules.
- Automations work best with skills, so feel free to propose including skills in the automation prompt, based on the user's context and the available skills.

#### Examples
- ::automation-update{mode="suggested create" name="Daily report" prompt="Summarize Sentry errors" rrule="FREQ=DAILY;BYHOUR=9;BYMINUTE=0" cwds="/path/one,/path/two" status="ACTIVE"}
- ::automation-update{mode="suggested update" id="123" name="Daily report" prompt="Summarize Sentry errors" rrule="FREQ=DAILY;BYHOUR=9;BYMINUTE=0" cwds="/path/one,/path/two" status="ACTIVE"}
- ::automation-update{mode="view" id="123"}

### Review findings
- Use the ::code-comment{...} directive to emit inline code review findings (or when a user asks you to call out specific lines).
- Emit one directive per finding; emit none when there are no findings.
- Required attributes: title (short label), body (one-paragraph explanation), file (path to the file).
- Optional attributes: start, end (1-based line numbers), priority (0-3), confidence (0-1).
- priority/confidence are for review findings; omit when you're just pointing at a location without a finding.
- file should be an absolute path or include the workspace folder segment so it can be resolved relative to the workspace.
- Keep line ranges tight; end defaults to start.
- Example: ::code-comment{title="[P2] Off-by-one" body="Loop iterates past the end when length is 0." file="/path/to/foo.ts" start=10 end=11 priority=2 confidence=0.55}

### Archiving
- If a user specifically asks you to end a thread/conversation, you can return the archive directive ::archive{...} to archive the thread/conversation.
- Example: ::archive{reason="User requested to end conversation"}
`,QA=C1(O1);function eD(...t){return t.map(e=>e?.trim()).filter(e=>e!=null&&e.length>0).join(`

`)}function gY(t){const e=t?.get(Ne.GIT_BRANCH_PREFIX)??Hu(Ne.GIT_BRANCH_PREFIX),n=t?.get(Ne.GIT_COMMIT_INSTRUCTIONS)??Hu(Ne.GIT_COMMIT_INSTRUCTIONS),r=t?.get(Ne.GIT_PR_INSTRUCTIONS)??Hu(Ne.GIT_PR_INSTRUCTIONS),i=[];return e!=null&&e.trim().length>0&&i.push(`- Branch prefix: \`${e.trim()}\`. Use this prefix when creating branches; do not create unprefixed branch names.`),n!=null&&n.trim().length>0&&i.push(`- Commit instructions: ${n.trim()}`),r!=null&&r.trim().length>0&&i.push(`- Pull request instructions: ${r.trim()}`),i.length===0?"":`### Git
${i.join(`
`)}`}function _Y({baseInstructions:t,globalState:e}){const n=C1(eD(O1,gY(e)));return eD(t??"",n)}function vY(t){return typeof t=="object"&&t!=null&&"dispose"in t}class jE{disposables=[];dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables.length=0}add(e){this.disposables.push(vY(e)?e:{dispose:e})}}function EY(t,e,n,r){const i=BH(e),s={message:i.message,status:SY(t),source:n.source,service:n.source,env:n.env,date:Date.now(),logger:{name:i.loggerName??"app"},"codex.app_session_id":n.codexAppSessionId,usr:n.userInfo};return r!=null&&Object.assign(s,r),bY(s,n.buildInfo),s}function SY(t){switch(t){case"trace":case"debug":return"debug";case"info":return"info";case"warning":return"warn";case"error":return"error"}}function bY(t,e){em(t,"build_number",e.buildNumber),em(t,"version",e.version),em(t,"app_version",e.version)}function em(t,e,n){n!=null&&(t[e]=n)}const TY=5e3,yY=50,xY=64e3;class wY{onFlush;flushIntervalMs;maxBatchSize;maxBatchBytes;buffer=[];bufferBytes=0;flushTimeout=null;constructor(e){this.onFlush=e.onFlush,this.flushIntervalMs=e.flushIntervalMs??TY,this.maxBatchSize=e.maxBatchSize??yY,this.maxBatchBytes=e.maxBatchBytes??xY}enqueue(e){if(this.buffer.push(e),this.bufferBytes+=e.length,this.buffer.length>=this.maxBatchSize||this.bufferBytes>=this.maxBatchBytes){this.flush();return}this.scheduleFlush()}flushNow(){this.flush()}scheduleFlush(){this.flushTimeout==null&&(this.flushTimeout=setTimeout(()=>{this.flush()},this.flushIntervalMs))}flush(){if(this.buffer.length===0){this.clearFlushTimeout();return}const e=this.buffer.splice(0,this.buffer.length);this.bufferBytes=0,this.clearFlushTimeout(),this.onFlush(e)}clearFlushTimeout(){this.flushTimeout!=null&&(clearTimeout(this.flushTimeout),this.flushTimeout=null)}}const AY="https://chat.openai.com/ces/v1/telemetry/intake",DY="dummy-token",RY="browser",IY=2e3,CY=3e4,OY=5;class NY{options;reportFailure;batcher;queue=[];inFlightSend=null;retryTimeout=null;retryAttempts=0;disabled=!1;reportedDisabledReason=!1;fetchImpl;userInfo=null;constructor(e){this.options=e,this.reportFailure=e.reportFailure,this.fetchImpl=e.fetchImpl??fetch,this.batcher=new wY({onFlush:n=>this.enqueueBatch(n)})}setUserInfo(e){this.userInfo=e}log(e,n,r){const i=EY(e,n,{buildInfo:this.options.buildInfo,userInfo:this.userInfo,codexAppSessionId:this.options.codexAppSessionId,source:this.options.source,env:this.options.env},r);this.batcher.enqueue(JSON.stringify(i))}flushNow(){this.batcher.flushNow(),this.drainQueue()}enqueueBatch(e){this.disabled||e.length!==0&&(this.queue.push({requestId:Ke.randomUUID(),events:e}),this.drainQueue())}async drainQueue(){if(this.disabled){this.queue.length=0;return}if(this.inFlightSend!=null||this.retryTimeout!=null)return;const e=this.queue[0];if(e==null)return;const n=e.events.join(`
`);this.inFlightSend=(async()=>{try{await this.send(n,e.requestId),this.queue.shift(),this.retryAttempts=0}catch{if(this.disabled){this.queue.length=0;return}this.scheduleRetry()}finally{this.inFlightSend=null,this.drainQueue()}})()}scheduleRetry(){if(this.retryTimeout!=null)return;if(this.retryAttempts>=OY){this.queue.shift(),this.retryAttempts=0,this.drainQueue();return}this.retryAttempts+=1;const e=Math.min(CY,IY*Math.pow(2,this.retryAttempts-1));this.retryTimeout=setTimeout(()=>{this.retryTimeout=null,this.drainQueue()},e)}disableWithFailure(e){this.disabled=!0,!this.reportedDisabledReason&&(this.reportedDisabledReason=!0,this.reportFailure(e))}async send(e,n){const r=kY(n),i=await this.fetchImpl(r,{method:"POST",headers:{"content-type":"text/plain","x-request-id":n},body:Buffer.from(e)});if(!i.ok){const s=await i.text();if(i.status>=400&&i.status<500)return(i.status===401||i.status===403)&&this.disableWithFailure({type:"disabled",reason:"invalid_client_token",status:i.status,body:s}),i.status;throw new Error(`[datadog] non-2xx response (${i.status})`)}return i.status}}function kY(t){const n=`/api/v2/logs?${new URLSearchParams({ddsource:"browser","dd-api-key":DY,"dd-evp-origin":RY,"dd-request-id":t}).toString()}`;return`${AY}?ddforward=${encodeURIComponent(n)}`}function PY(t,e){let n=null,r=null;const i=((...s)=>{r=s,n&&clearTimeout(n),n=setTimeout(()=>{n=null;const o=r;r=null,o&&t(...o)},e)});return i.cancel=()=>{n&&(clearTimeout(n),n=null),r=null},i}const MY=3e4;async function N1({prompt:t,cwd:e,model:n,effort:r,schema:i,config:s,timeoutMs:o=MY,client:a,parse:c}){const u=t.trim();if(u.length===0)return null;let l=null,p=null,d=null,f=()=>{};const m=new Promise((h,g)=>{const _=setTimeout(()=>{f(),l&&p&&a.interruptTurn&&a.interruptTurn({threadId:l,turnId:p}).catch(()=>{}),g(new Error("Timed out waiting for structured result."))},o),S=a.onNotification(v=>{switch(v.method){case"turn/started":{const T=v.params;if(l==null||T.threadId!==l)return;p=T.turn.id;return}case"item/agentMessage/delta":{const T=v.params;if(l==null||T.threadId!==l)return;if(T.turnId==null){if(p!=null)return}else if(p!=null&&T.turnId!==p)return;d=`${d??""}${T.delta}`;return}case"item/completed":{const T=v.params;if(l==null||T.threadId!==l)return;if(T.turnId==null){if(p!=null)return}else if(p!=null&&T.turnId!==p)return;T.item.type==="agentMessage"&&(d=T.item.text);return}case"turn/completed":{const T=v.params;if(l==null||T.threadId!==l||p!=null&&T.turn.id!==p)return;if(p=T.turn.id,T.turn.status!=="completed"){f(),g(new Error("Structured turn did not complete."));return}f(),h(c(d));return}default:return}});f=()=>{clearTimeout(_),S(),f=()=>{}}});try{const h=r==null?s??null:{...s??{},model_reasoning_effort:r},g={model:n,modelProvider:null,cwd:e,approvalPolicy:"never",sandbox:"read-only",config:h,baseInstructions:null,developerInstructions:null,personality:null,ephemeral:!0,experimentalRawEvents:!1,dynamicTools:null,persistExtendedHistory:!1};return l=(await a.startThread(g)).thread.id,p=(await a.startTurn({threadId:l,input:[{type:"text",text:u,text_elements:[]}],cwd:null,approvalPolicy:null,sandboxPolicy:null,model:null,effort:null,summary:"auto",personality:null,outputSchema:i,collaborationMode:null})).turn.id,m}catch(h){throw f(),h}}function LY(t){const e=(n,r,i)=>{const s=typeof n=="string"?new Error(n):n;try{t(s,r,i)}catch{}};return{report:e,reportNonFatal:(n,r)=>e(n,"non-fatal",r),reportFatal:(n,r)=>e(n,"fatal",r)}}async function UY(t,e,n=10,r){const i=t.trim();if(i.length===0||e.length===0||n<=0)return[];const s=`**/*${BY(i)}*`,o=r?.rgPath??"rg",a=r?.runCommand??FY,c=[];let u=!1;for(const l of e){if(c.length>=n)break;try{const p=[o,"--files","--hidden","--iglob",s],{stdout:d,code:f}=await a(p,l);if(f!==0&&f!==1){u=!0;continue}const m=d.split(/\r?\n/).map(h=>h.trim()).filter(Boolean);for(const h of m){if(c.length>=n)break;const g=B.isAbsolute(h)?h:B.join(l,h),_=B.basename(g).replace(/\\/g,"/"),S=B.relative(l,g).replace(/\\/g,"/"),v=S&&!S.startsWith("..")?S:g;c.push({label:_,path:v,fsPath:g})}}catch(p){Mt().warning("Ripgrep search failed",{safe:{},sensitive:{error:p}}),u=!0}}return c.length>0||!u?c:$Y(i,e,n)}const FY=(t,e)=>new Promise(n=>{try{const r=Ht.spawn(t[0],t.slice(1),{cwd:e,env:{...process.env},stdio:["ignore","pipe","pipe"]});if(!r.pid){n({stdout:"",code:2});return}const i=[];r.stdout?.on("data",s=>{i.push(s)}),r.once("error",()=>n({stdout:"",code:2})),r.once("exit",s=>n({stdout:Buffer.concat(i).toString("utf8"),code:s}))}catch{n({stdout:"",code:2})}});async function $Y(t,e,n){const r=t.toLowerCase(),i=[],s=5e3;for(const o of e){const a=[o];let c=0;for(;a.length>0&&i.length<n&&c<s;){c+=1;const u=a.shift();if(!u)break;let l;try{l=await Y.promises.readdir(u,{withFileTypes:!0})}catch{continue}for(const p of l){const d=B.join(u,p.name);if(p.isDirectory()){a.push(d);continue}if(!p.isFile()||!p.name.toLowerCase().includes(r))continue;const f=p.name.replace(/\\/g,"/"),m=B.relative(o,d).replace(/\\/g,"/"),h=m&&!m.startsWith("..")?m:d;if(i.push({label:f,path:h,fsPath:d}),i.length>=n)break}}if(i.length>=n)break}return i}function BY(t){const e=["*","?","[","]","{","}","!","\\"];let n="";for(const r of t)n+=e.includes(r)?"\\"+r:r;return n}async function jY(t,e){const n=Ce(e);let r=n.resolve(t);const i=[],s=new Set;for(let o=0;o<50;o++){const a=n.join(r,".codex","environments"),c=await JY(a,e);if(c.length>0){const p=await QY(c,e);for(const d of p){const f=n.resolve(d.configPath);s.has(f)||(s.add(f),i.push(d))}}const u=XY(r,e);if(await VE(r,e)||u==null||u==null)break;r=u}return VY(i,t,e)}async function VY(t,e,n){const r=await Promise.all(t.map(async i=>{const s=zY(i.configPath,n),o=await GY(e,i.configPath,n);return{environment:i,isDefault:s,distance:o}}));return r.sort((i,s)=>i.isDefault!==s.isDefault?i.isDefault?-1:1:i.distance!==s.distance?i.distance-s.distance:i.environment.configPath.localeCompare(s.environment.configPath)),r.map(i=>i.environment)}function zY(t,e){return qY(t,e)===s6}async function GY(t,e,n){const r=Ce(n),i=await M1(e,n),s=r.relative(t,i);return s===""?0:s.split(r.sep).length}function qY(t,e){const n=Ce(e);return n.basename(n.normalize(t))}async function k1(t,e){let n;try{const i=await ve.readFile(t,e);n=T1(i),n=HY(n)}catch(i){return{configPath:t,cwdRelativeToGitRoot:t,type:"error",error:new Error(`Failed to parse environment config at ${t}: ${String(i)}`)}}const r=d6.safeParse(n);return r.success?{configPath:t,cwdRelativeToGitRoot:await ZY(t,e),type:"success",environment:YY(r.data)}:{configPath:t,cwdRelativeToGitRoot:t,type:"error",error:new Error(`Invalid environment config at ${t}: ${r.error.toString()}`)}}function HY(t){return!P1(t)||!Array.isArray(t.actions)?t:{...t,actions:t.actions.filter(e=>WY(e))}}function WY(t){return!P1(t)||typeof t.name!="string"||typeof t.command!="string"?!1:t.name.trim().length>0&&t.command.trim().length>0}function P1(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function YY(t){return{...t,name:t.name.trim(),setup:KY(t.setup),actions:t.actions?t.actions.map(e=>({...e,name:e.name.trim(),command:e.command.trim()})):void 0}}function KY(t){return{...t,script:t.script.trim(),darwin:t.darwin?{script:t.darwin.script.trim()}:void 0,linux:t.linux?{script:t.linux.script.trim()}:void 0,win32:t.win32?{script:t.win32.script.trim()}:void 0}}async function ZY(t,e){const n=Ce(e),r=await M1(t,e);let i=r;for(;i!==n.dirname(i)&&!await VE(i,e);)i=n.dirname(i);const s=n.relative(i,r);return s===""?".":s}async function VE(t,e){const n=Ce(e);try{const r=await ve.stat(n.join(t,".git"),e);return r.isDirectory()||r.isFile()}catch{return!1}}function XY(t,e){const r=Ce(e).dirname(t);return r===t?null:r}async function JY(t,e){try{return(await ve.stat(t,e)).isDirectory()?(await ve.readdir(t,e)).filter(i=>i.endsWith(".toml")).sort((i,s)=>i.localeCompare(s)).map(i=>Ce(e).join(t,i)):[]}catch{return[]}}async function QY(t,e){return Promise.all(t.map(async n=>k1(n,e)))}async function M1(t,e){const n=Ce(e);let r=n.dirname(t);for(;r!==n.dirname(r);){if(await e8(r,e))return r;if(await VE(r,e))return r;r=n.dirname(r)}return t}async function e8(t,e){const n=Ce(e);try{const r=await ve.stat(n.join(t,".codex"),e);return r.isDirectory()||r.isFile()}catch{return!1}}const Ji=Le("git");async function pe(t,e,n,r={}){const{env:i,signal:s,timeoutMs:o,onStdoutRaw:a,onStderrRaw:c,maxOutputBytes:u,trim:l=!0,allowedNonZeroExitCodes:p}=r,d={LC_MESSAGES:"C",LANGUAGE:"C",GIT_TERMINAL_PROMPT:"0",GIT_OPTIONAL_LOCKS:"0",...i},f=t8(t,e,n),m=hl(f),h=e[0],g=crypto.randomUUID().slice(0,8),_=Date.now(),S=Oe(n),v={id:g,startTimeMs:_,isRemote:S,subcommand:h,allowedNonZeroExitCodes:p?.join(",")},T={command:m,commandArgs:f,cwd:t};let y=0,b=0;if(s&&s.aborted)return Ji().warning("git.command.complete",{safe:{requestId:g,subcommand:h,argsCount:e.length,isRemote:S,success:!1,failureReason:"abortedBeforeStart"},sensitive:{}}),{command:m,success:!1,code:null,stdout:"",stdoutBytes:y,stderr:"git process aborted",stderrBytes:b};let x=!1,D=!1,k,U=0;Ji().debug("git.command.start",{safe:v,sensitive:T});let C,L="",j="",N=null;const H=(Q,de)=>{U+=de.length,Q==="stdout"?y+=de.length:b+=de.length,u!=null&&U>u&&k==null&&(k={stream:Q,limitBytes:u},C.kill()),Q==="stdout"?a?.(de):c?.(de)};try{if(S){const Q=Ct(m);C=await Sp({hostConfig:n,args:["bash","-lc",Q],env:d,stdoutChunkHandler:de=>H("stdout",de),stderrChunkHandler:de=>H("stderr",de)})}else C=Vc({args:f,cwd:t,env:{...process.env,...d},stdoutChunkHandler:Q=>H("stdout",Q),stderrChunkHandler:Q=>H("stderr",Q)})}catch(Q){Ji().warning("git.command.complete",{safe:{...v,failureReason:"spawnFailed",durationMs:Date.now()-_},sensitive:T});const de=Q instanceof Error?Q.message:"Failed to start git process";return{command:m,success:!1,code:null,stdout:"",stdoutBytes:y,stderr:de,stderrBytes:b}}const O=()=>{D=!0,C.kill()};s&&(s.addEventListener("abort",O),s.aborted&&O());const M=o!=null?setTimeout(()=>{x=!0,C.kill()},o):null;try{const{stdout:Q,stderr:de,code:_e}=await C.wait();if(L=l?Q.trim():Q,j=l?de.trim():de,N=_e,M&&clearTimeout(M),s&&s.removeEventListener("abort",O),D)return{command:m,success:!1,code:N,stdout:L,stdoutBytes:y,stderr:j?`${j}
git process aborted`:"git process aborted",stderrBytes:b,outputLimitExceeded:k,process:C};const oe=k==null&&N!=null&&(N===0||Array.isArray(p)&&p.includes(N));if(oe)Ji().debug("git.command.complete",{safe:{...v,success:!0,...N!=null?{exitCode:N}:{},durationMs:Date.now()-_,aborted:D,timedOut:x},sensitive:T});else{const I=k!=null?"output_limit_exceeded":x?"timed_out":D?"aborted":"command_failed";Ji().warning("git.command.complete",{safe:{...v,failureReason:I,...N!=null?{exitCode:N}:{},durationMs:Date.now()-_,aborted:D,timedOut:x,...k!=null?{outputLimitStream:k.stream,outputLimitMaxBytes:k.limitBytes}:{},...p!=null&&p.length>0?{allowedNonZeroExitCodes:p.join(",")}:{}},sensitive:T})}return{command:m,success:oe,code:N,stdout:L,stdoutBytes:y,stderr:x?`${j}git process timed out after ${o}ms`:j,stderrBytes:b,outputLimitExceeded:k,process:C}}catch(Q){M&&clearTimeout(M),s&&s.removeEventListener("abort",O);const de=Q instanceof Error?Q.message:String(Q);Ji().warning("git.command.complete",{safe:{...v,failureReason:"waitFailed",durationMs:Date.now()-_,aborted:D,timedOut:x},sensitive:T});const _e=C?.getStdout().toString("utf8")??L,oe=C?.getStderr().toString("utf8")??(de?`${j}${de}`:j);return{command:m,success:!1,code:N,stdout:_e,stdoutBytes:Buffer.byteLength(_e,"utf8"),stderr:oe,stderrBytes:Buffer.byteLength(oe,"utf8"),outputLimitExceeded:k,process:C}}}function t8(t,e,n){return Oe(n)?["git","-C",t,...e]:["git",...e]}async function n8(t,e=null){const n=Ce(e),{success:r,stdout:i}=await pe(t,["rev-parse","--git-dir"],e,{allowedNonZeroExitCodes:[128]});return!r||!i?null:n.isAbsolute(i)?i:n.resolve(t,i)}async function r8(t,e=null){try{const n=Ce(e),r=await n8(t,e);if(!r)return{success:!1,error:new Error("Failed to resolve worktree git directory")};const i=n.join(r,i8);return await ve.writeFile(i,"",e),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n:new Error("Failed to mark worktree")}}}const i8="codex-managed";new Date("2026-01-29T00:00:00").getTime();const s8=200*1024*1024,tD=32*1024*1024,nD=64*1024*1024,nc="origin",o8=["-c","diff.mnemonicPrefix=false","-c","diff.noprefix=false","-c","core.quotePath=false"],a8=["diff","--no-ext-diff","--no-textconv","--color=never","--src-prefix=a/","--dst-prefix=b/"],c8=8;async function u8(t,e,n){if(!e.success)return{success:!1,error:{type:"unknown"}};const r=e.paths,i=[],s=Array.from({length:r.length},()=>{});let o=0,a=0,c=!1,u=null,l=0;const p=_=>{c||(c=!0,u=_)},d=_=>{_.trim().length===0||c||i.push(_)},f=()=>{if(!c)for(;a<s.length;){const _=s[a];if(_===void 0)return;if(a+=1,!(_==null||_.trim().length===0)&&(d(_),c))return}},m=()=>{if(c||o>=r.length)return null;const _=r[o],S=o;return o+=1,{index:S,path:_}},h=async()=>{if(c)return;const _=m();if(_==null)return;const S=await t(_.path,n);if(S.type==="error"){p(S.error);return}const v=l+(S.unifiedDiffBytes??S.unifiedDiff.length);if(v>nD){p({type:"diff-too-large",limitBytes:nD});return}l=v,s[_.index]=S.unifiedDiff.trim().length>0?S.unifiedDiff:null,f(),await h()},g=Math.min(c8,r.length);return await Promise.all(Array.from({length:g},()=>h())),u?{success:!1,error:u}:{success:!0,sections:i}}async function l8(t,e,n,{includePaths:r}={}){const i=await e.getWorktreeRepository(t,n);if(!i)return{type:"error",error:{type:"unknown"}};const s=await i.getUntrackedPaths(r),o=await u8(i.getUntrackedDiff,s);if(!o.success)return{type:"error",error:o.error};const a=o.sections.length>0?o.sections.map(c=>p8(c)).join(`
`):"";return{type:"success",unifiedDiff:a,unifiedDiffBytes:Buffer.byteLength(a,"utf8")}}function p8(t){return t.replace(/[\r\n]+$/,"")}async function zE(t,e,n){const{success:r,stdout:i}=await pe(t,["rev-parse","--git-dir"],e,{signal:n});return!r||!i?null:B.isAbsolute(i)?i:B.join(t,i)}const d8=Le("git");async function L1(t,e,n){if(!Oe(e)&&!Y.existsSync(t))throw new Error(`ENOENT: path does not exist: ${t}`);const{success:r,stdout:i,stderr:s,code:o}=await pe(t,["rev-parse","--show-toplevel"],e,{allowedNonZeroExitCodes:[128],signal:n});if(r&&i)return i;if(o===128&&s.toLowerCase().includes("not a git repository"))return null;throw d8().debug("[getGitRoot] failed to resolve git root",{safe:{stderr:s,stdout:i},sensitive:{}}),new Error(`Failed to resolve git root: ${s||i||"Unknown error"}`)}function U1(t){return t?.outputLimitExceeded?{type:"diff-too-large",limitBytes:t.outputLimitExceeded.limitBytes}:{type:"unknown"}}async function F1(t,e,n,r={}){const{binary:i=!1,maxOutputBytes:s,...o}=r,a=s==null?tD:Math.min(s,tD);return pe(t,[...o8,...a8,...i?["--binary"]:[],...e],n,{...o,maxOutputBytes:a})}const tm=Le("git");function rD(t){return{command:t.command,success:t.success,code:t.code,stdout:t.stdout,stderr:t.stderr,outputLimitExceeded:t.outputLimitExceeded}}async function f8(t,e,n){const r=await zE(t,e,n);if(!r)return{type:"error",error:{type:"unknown"}};let i=null;try{i=await Y.promises.mkdtemp(B.join(Re.tmpdir(),"codex-git-index"));const s=B.join(r,"index"),o=B.join(i,"index");await Y.promises.copyFile(s,o).catch(l=>{if(l.code!=="ENOENT")throw l});const a={GIT_INDEX_FILE:o},c=await pe(t,["add","-u"],e,{env:a,signal:n});if(!c.success)return tm().warning("Failed to stage uncommitted diff",{safe:{},sensitive:{...rD(c)}}),{type:"error",error:{type:"unknown"}};const u=await F1(t,["--cached"],e,{trim:!1,allowedNonZeroExitCodes:[0,1],env:a,signal:n});return u.outputLimitExceeded||!u.success?(tm().warning("Failed to collect uncommitted diff",{safe:{},sensitive:{...rD(u)}}),{type:"error",error:U1(u)}):{type:"success",unifiedDiff:u.stdout,unifiedDiffBytes:u.stdoutBytes}}catch(s){return tm().error("failed to collect tracked uncommitted diff",{safe:{},sensitive:{error:s}}),{type:"error",error:{type:"unknown"}}}finally{i&&await Y.promises.rm(i,{recursive:!0,force:!0})}}async function m8(t,e,n,r){const i=await L1(t,n,r),[s,o]=await Promise.all([f8(t,n,r),i?l8(i,e,n):Promise.resolve({type:"error",error:{type:"unknown"}})]);if(s.type!=="success"||o.type!=="success")return{type:"error",error:{type:"unknown"}};const a=h8([s.unifiedDiff,o.unifiedDiff]);return{type:"success",unifiedDiff:a,unifiedDiffBytes:Buffer.byteLength(a,"utf8")}}function h8(t){const e=t.map(r=>g8(r)).filter(r=>r.length>0);if(e.length===0)return"";const n=e.join(`
`);return n.endsWith(`
`)?n:`${n}
`}function g8(t){return t.replace(/[\r\n]+$/,"")}async function Gg(t,e,n){const{success:r,stdout:i}=await pe(t,["rev-parse","--abbrev-ref","HEAD"],e,{signal:n});if(r&&i&&i!=="HEAD")return i;const s=await pe(t,["symbolic-ref","--quiet","--short","HEAD"],e,{signal:n});return s.success&&s.stdout?s.stdout:null}async function $1(t,e=nc,n,r){const i=await pe(t,["symbolic-ref","--quiet",`refs/remotes/${e}/HEAD`],n,{signal:r});if(i.success&&i.stdout){const a=i.stdout.split("/");return a[a.length-1]??null}const s=await pe(t,["remote","show",e],n,{timeoutMs:1e4,signal:r});if(!s.success||!s.stdout)return null;const o=/HEAD branch:\s*(.+)/.exec(s.stdout);return o?o[1].trim():null}async function _8(t,e,n,r,i){const s=await pe(t,["rev-list","--left-right","--count",`${e}...${n}`],r,{allowedNonZeroExitCodes:[128,1],signal:i});if(!s.success||!s.stdout)return null;const o=v8(s.stdout);if(!o)return null;let a="equal";return o.leftAhead>0&&o.rightAhead>0?a="diverged":o.leftAhead>0?a="left-ahead":o.rightAhead>0&&(a="right-ahead"),{leftAhead:o.leftAhead,rightAhead:o.rightAhead,state:a}}function v8(t){const e=t.trim();if(!e)return null;const n=e.split(/\s+/);if(n.length<2)return null;const r=Number.parseInt(n[0]??"",10),i=Number.parseInt(n[1]??"",10);return!Number.isFinite(r)||!Number.isFinite(i)?null:{leftAhead:r,rightAhead:i}}async function E8(t,e,n,r){const i=await pe(t,["rev-parse","--abbrev-ref","--symbolic-full-name",`${e}@{u}`],n,{allowedNonZeroExitCodes:[128,1],signal:r});return i.success&&i.stdout?i.stdout:null}async function S8(t,e,n,r,i){const s=async l=>{const p=await E8(t,l,r,i);return p&&(await _8(t,l,p,r,i))?.state==="right-ahead"?p:l},o=async()=>e.type==="branch"?s(e.branchName):await Gg(t,r,i)??await $1(t,nc,r,i)??"HEAD",a=async()=>{if(e.type!=="working-tree")return null;const l=await m8(t,n,r,i);return l.type==="error"?null:l.unifiedDiff},[c,u]=await Promise.all([o(),a()]);return{startingRef:c,startingDiff:u}}function b8(t){return t?.id??"local"}function T8(t){return Ke.createHash("sha1").update(t).digest("hex")}const rc=Le("git"),y8=3,iD=new Map;function x8(t){const e=b8(t),n=iD.get(e);if(n)return n;const r=new LU.Sema(y8);return iD.set(e,r),r}async function sD(t,e,n=!1,r){const i=T8(t),s=x8(e);await s.acquire();try{rc().info("[worktree-delete] start",{safe:{worktreeId:i,force:n,hasHostConfig:e!=null},sensitive:{}});const o=["worktree","remove"];n&&o.push("--force"),o.push(t);const a=await pe(t,o,e,{signal:r});rc().info("[worktree-delete] git-remove-result",{safe:{worktreeId:i,force:n,success:a.success,code:a.code,outputLimitExceeded:a.outputLimitExceeded!=null},sensitive:{}}),(a.success||n)&&await w8(t,i,e)}finally{s.release()}}async function w8(t,e,n){const r=Ce(n);let i=!1,s=!1;try{await ve.rm(t,{recursive:!0,force:!0},n),i=!0}catch(o){rc().warning("Failed to remove worktree directory",{safe:{},sensitive:{error:o}})}try{const o=r.dirname(t);if(o===t)return;(await ve.readdir(o,n)).length===0&&(await ve.rm(o,{recursive:!0,force:!0},n),s=!0)}catch(o){rc().warning("Failed to remove worktree parent directory",{safe:{},sensitive:{error:o}})}rc().debug("[worktree-delete] cleanup-finished",{safe:{worktreeId:e},sensitive:{removedWorktreeDir:i,removedParentDir:s}})}function A8(t,e){return[t,e].filter(r=>r.length>0).join(`
`)}function Ar({command:t,stdout:e,stderr:n,fallbackOutput:r=e||n||"An unknown error occurred"}){const i=A8(e,n)||r;return{command:t,output:i}}async function D8(t,e,n,{preferWslPaths:r=!1,convertWindowsPathToWslPath:i=void 0}={}){const s=Oe(n),o=s?B.posix.join(t,"index"):B.join(t,"index");if(s){const c=`cp ${Ct(e)} ${Ct(o)}`;await(await Sp({hostConfig:n,args:[`sh -lc ${Ct(c)}`]})).check()}else await Y.promises.copyFile(e,o);let a=o;return r&&i&&(a=i(o)),a}async function R8(t,e,n,r){const{success:i,stdout:s}=await pe(t,["rev-parse","--git-path",e],n,{signal:r});if(!i||!s)return null;if(B.isAbsolute(s))return s;if(s.startsWith(".git/"))return B.join(t,s);const o=await zE(t,n,r);return o?B.join(o,s):null}async function B1(t,e){return R8(t,"index",e)}function I8(t){return t.split(/[/\\]+/).join("/")}function j1(t,e,n){const r=C8(e,n),i=O8(t,r);return i?I8(i):n}function C8(t,e){return B.isAbsolute(e)?e:B.resolve(t,e)}function O8(t,e){const n=B.relative(t,e);return n===""||n.startsWith("..")||B.isAbsolute(n)?null:n}function N8(t,e){const n=new Set,r=new Set,i=new Set;let s=null;const o=[t,e].filter(Boolean).join(`
`),a=(H,O)=>{const M=(O??"").trim();if(!M)return;const Q=M.charAt(0),de=M.charAt(M.length-1);let _e=M;(Q==="'"||Q==='"')&&de===Q&&M.length>=2&&(_e=M.slice(1,-1)),_e&&H.add(_e)},c=(H,O)=>{for(const M of O)if(H[M])return H[M]},u=/^(?:Applied patch(?: to)?\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\s+cleanly\.?)$/i,l=/^(?:Applied patch(?: to)?\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\s+with conflicts\.?)$/i,p=/^(?:Applying patch\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\s+with\s+\d+\s+rejects?\.{0,3})$/i,d=/^(?:Checking patch\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\.\.\.)$/i,f=/^(?:Performing three-way merge|Falling back to three-way merge)\.\.\.$/i,m=/^Failed to perform three-way merge\.\.\.$/i,h=/^Falling back to direct application\.\.\.$/i,g=/^U\s+(?<path>.+)$/,_=/^error:\s+patch failed:\s+(?<path>.+?)(?::\d+)?(?:\s|$)/i,S=/^error:\s+(?<path>.+?):\s+patch does not apply$/i,v=/^(?:error: )?repository lacks the necessary blob to (?:perform|fall back on) 3-?way merge\.?$/i,T=/^error:\s+(?<path>.+?):\s+does not match index\b/i,y=/^error:\s+(?<path>.+?):\s+does not exist in index\b/i,b=/^error:\s+(?<path>.+?)\s+already exists in (?:the )?working directory\b/i,x=/^error:\s+patch failed:\s+(?<path>.+?)\s+File exists/i,D=/^error:\s+path\s+(?<path>.+?)\s+has been renamed\/deleted/i,k=/^error:\s+cannot apply binary patch to\s+['"]?(?<path>.+?)['"]?\s+without full index line$/i,U=/^error:\s+binary patch does not apply to\s+['"]?(?<path>.+?)['"]?$/i,C=/^error:\s+binary patch to\s+['"]?(?<path>.+?)['"]?\s+creates incorrect result\b/i,L=/^error:\s+cannot read the current contents of\s+['"]?(?<path>.+?)['"]?$/i,j=/^Skipped patch\s+['"]?(?<path>.+?)['"]\.$/i,N=/^warning:\s*Cannot merge binary files:\s+(?<path>.+?)\s+\(ours\s+vs\.\s+theirs\)/i;for(const H of o.split(/\r?\n/)){const O=H.trim();if(!O)continue;let M;if(M=O.match(u)){const Q=c(M.groups??{},["qpath","path"]);a(n,Q),s=Q??s,i.delete(Q??""),r.delete(Q??"");continue}if(M=O.match(l)){const Q=c(M.groups??{},["qpath","path"]);a(i,Q),s=Q??s,n.delete(Q??""),r.delete(Q??"");continue}if(M=O.match(p)){const Q=c(M.groups??{},["qpath","path"]);a(i,Q),s=Q??s,n.delete(Q??""),r.delete(Q??"");continue}if(M=O.match(g)){a(i,M.groups?.path),s=M.groups?.path??s,n.delete(M.groups?.path??""),r.delete(M.groups?.path??"");continue}if(M=O.match(d)){s=c(M.groups??{},["qpath","path"])??s;continue}if((M=O.match(_))||(M=O.match(S))){a(r,M.groups?.path),s=M.groups?.path??s;continue}if(!(f.test(O)||h.test(O))){if(m.test(O)){s&&(a(r,s),n.delete(s),i.delete(s));continue}if(v.test(O)){s&&(a(r,s),n.delete(s),i.delete(s));continue}if((M=O.match(T))||(M=O.match(y))||(M=O.match(b))||(M=O.match(x))||(M=O.match(D))||(M=O.match(k))||(M=O.match(U))||(M=O.match(C))||(M=O.match(L))||(M=O.match(j))){a(r,M.groups?.path),s=M.groups?.path??s,n.delete(M.groups?.path??""),i.delete(M.groups?.path??"");continue}if(M=O.match(N)){a(i,M.groups?.path),s=M.groups?.path??s,n.delete(M.groups?.path??""),r.delete(M.groups?.path??"");continue}}}for(const H of i)n.delete(H),r.delete(H);for(const H of n)r.delete(H);return{appliedPaths:Array.from(n).sort(),skippedPaths:Array.from(r).sort(),conflictedPaths:Array.from(i).sort()}}function k8(t){const e=new Set,n=/^diff --git a\/(.*?) b\/(.*)$/gm;let r;for(;(r=n.exec(t))!=null;){const[i,s,o]=r;s&&s!=="/dev/null"&&e.add(s),o&&o!=="/dev/null"&&e.add(o)}return Array.from(e)}async function V1(t,e,n,{preferWslPaths:r=!1,convertWindowsPathToWslPath:i,convertWslPathToWindowsPath:s,signal:o}={}){const{cwd:a,env:c,diff:u,revert:l,target:p="unstaged",allowBinary:d}=t,f=bn("applyPatch"),h=(await e.getWorktreeRepository(a,n))?.root;if(!h)return{status:"error",appliedPaths:[],skippedPaths:[],conflictedPaths:[],errorCode:"not-git-repo"};if(o?.aborted)return{status:"error",appliedPaths:[],skippedPaths:[],conflictedPaths:[]};const g=await M8({hostConfig:n,signal:o});let _=Ce(n).join(g,"patch.diff");await L8(_,u,{hostConfig:n,signal:o}),r&&i&&(_=i(_));try{let S=c;if(p==="unstaged"){const U=await B1(h,n);if(!U)f.warning("[applyPatch] Unable to resolve git index path; applying without temp index");else{const C=await D8(g,U,n,{preferWslPaths:r,convertWindowsPathToWslPath:i});S={...c,GIT_INDEX_FILE:C},await P8(h,u,n,{preferWslPaths:r,convertWslPathToWindowsPath:s,env:{...c,GIT_INDEX_FILE:C},signal:o})}}const v=["apply"];l&&v.push("-R"),d&&v.push("--binary"),v.push("--3way"),p==="staged"?v.push("--cached"):p==="staged-and-unstaged"&&v.push("--index"),v.push(_);const{code:T,stdout:y,stderr:b}=await pe(h,v,n,{env:S,signal:o,allowedNonZeroExitCodes:[1]}),{appliedPaths:x,skippedPaths:D,conflictedPaths:k}=N8(y,b);return f.debug("ApplyPatch result metadata",{safe:{revert:l,target:p,code:T,stdoutLength:y.length,stderrLength:b.length,appliedCount:x.length,skippedCount:D.length,conflictedCount:k.length},sensitive:{}}),{status:o?.aborted||T==null?"error":T===0?"success":T===1?"partial-success":"error",appliedPaths:x,skippedPaths:D,conflictedPaths:k,execOutput:Ar({command:v.join(" "),stdout:y,stderr:b})}}finally{await U8(g,{hostConfig:n})}}async function P8(t,e,n,{preferWslPaths:r,convertWslPathToWindowsPath:i,env:s,signal:o}){const a=k8(e);if(a.length===0)return;const c=[],u=Ce(n);if(await Promise.all(a.map(async l=>{const p=j1(t,t,l);let d=u.join(t,p);r&&i&&(d=i(d)),await F8(d,{hostConfig:n,signal:o})&&c.push(p)})),c.length!==0){if(o?.aborted)throw new Error("Apply patch canceled");await pe(t,["add","--",...c],n,{env:s,signal:o})}}async function wp(t,e,{input:n,signal:r,timeoutMs:i=1e4}={}){if(!Oe(t))throw new Error("runSshCommand requires a remote host config");const s=`sh -lc ${Ct(e)}`,[o,...a]=t.terminal_command;if(!o)throw new Error("remote host config missing terminal command");const c=[...a,"-o","BatchMode=yes","-o","ConnectTimeout=10",s],u=Ht.spawn(o,c,{stdio:["pipe","pipe","pipe"]});n!=null&&u.stdin?.write(n),u.stdin?.end();let l=!1;const p=setTimeout(()=>{l=!0,u.kill()},i),d=()=>{u.kill()};r&&r.addEventListener("abort",d);const f=[],m=[];u.stdout?.on("data",S=>f.push(S)),u.stderr?.on("data",S=>m.push(S));const{code:h}=await new Promise(S=>{u.on("close",v=>S({code:v})),u.on("error",()=>S({code:null}))});clearTimeout(p),r&&r.removeEventListener("abort",d);const g=Buffer.concat(f).toString("utf8"),_=Buffer.concat(m).toString("utf8");return l?{code:null,stdout:g,stderr:`${_}ssh command timed out`}:{code:h,stdout:g,stderr:_}}async function M8({hostConfig:t,signal:e}){if(!Oe(t))return Y.promises.mkdtemp(ec.join(Re.tmpdir(),"codex-apply-"));const{code:n,stdout:r,stderr:i}=await wp(t,'mktemp -d "${TMPDIR:-/tmp}/codex-apply-XXXXXX"',{signal:e});if(n!==0||!r.trim())throw new Error(`failed to create remote temp dir: ${i||r}`.trim());return r.trim()}async function L8(t,e,{hostConfig:n,signal:r}){if(!Oe(n)){await Y.promises.writeFile(t,e);return}const i=`cat > ${Ct(t)}`,{code:s,stderr:o}=await wp(n,i,{input:e,signal:r});if(s!==0)throw new Error(`failed to write remote file: ${o}`)}async function U8(t,{hostConfig:e}){if(!Oe(e)){await Y.promises.rm(t,{recursive:!0,force:!0});return}await wp(e,`rm -rf ${Ct(t)}`)}async function F8(t,{hostConfig:e,signal:n}){if(!Oe(e))try{return await Y.promises.access(t),!0}catch{return!1}const{code:r}=await wp(e,`test -e ${Ct(t)}`,{signal:n});return r===0}const oD=Le("git");async function $8(t,e,n,r,i,s=!0,o){try{const a=await B8(t,e,n,r,i,s,o);if(!a.success)try{await sD(e,i,!0)}catch(c){oD().warning("Failed to cleanup worktree",{safe:{},sensitive:{error:c}})}return a}catch(a){try{await sD(e,i,!0)}catch(c){oD().warning("Failed to cleanup worktree",{safe:{},sensitive:{error:c}})}return{success:!1,error:j8(a)}}}async function B8(t,e,n,r,i,s,o){const a=o?.onLog,c=o?.signal;if(c&&c.aborted)return{success:!1,error:new Error("Operation canceled")};const{startingRef:u,startingDiff:l}=await S8(t,n,r,i,c);if(c&&c.aborted)return{success:!1,error:new Error("Operation canceled")};const d=await pe(t,["worktree","add","--detach",e,u],i,{onStdoutRaw:a?f=>a("stdout",f):void 0,onStderrRaw:a?f=>a("stderr",f):void 0,signal:c});if(!d.success)return{success:!1,error:new Error(`git worktree add failed: ${d.stderr||d.stdout}`)};if(c&&c.aborted)return{success:!1,error:new Error("Operation canceled")};if(s){const f=await r8(e,i);if(!f.success)return f}if(l){a?.("info",Qa.Buffer.from(`[info] Applying working tree diff to new worktree
`,"utf8"));const f=await V1({cwd:e,diff:l,revert:!1},r,i,{signal:c});if(f.status!=="success"){const m=`git apply failed: applied:${f.appliedPaths.length} skipped:${f.skippedPaths.length} conflicted:${f.conflictedPaths.length}`;return a?.("info",Qa.Buffer.from(`${m}
`,"utf8")),{success:!1,error:new Error(m)}}}return{success:!0}}function j8(t){return t instanceof Error?t:new Error(String(t))}function z1(){return B.join(wn({}),"worktrees")}const aD=Le("git");async function V8(t,e,n,r,i=z1()){const o=(await e.getWorktreeRepository(n,r))?.root;if(!o)return aD().error("[createWorktreePath] failed to resolve git root for workspace"),{success:!1};let a=B.join,c=B.relative,u=i;if(Oe(r)){const h=await Us(r);if(!h)return aD().error("[createWorktreePath] failed to resolve remote codex home"),{success:!1};a=B.posix.join,c=B.posix.relative,u=a(h,"worktrees")}const l=Ke.randomUUID().split("-")[0].slice(0,4),p=B.basename(t),d=a(u,l,p),f=c(o,n),m=a(d,f);return{success:!0,worktreeGitRoot:d,worktreeWorkspaceRoot:m}}async function G1(t,e,n){const r=await pe(t,["remote"],e,{signal:n});if(!r.success||!r.stdout)return[];const i=r.stdout.split(`
`).map(s=>s.trim()).filter(s=>s.length>0);return i.includes(nc)&&i.length>1?[nc,...i.filter(s=>s!==nc)]:i}async function GE(t,e,n){const r=await G1(t,e,n);if(r.length===0)return null;for(const i of r){const s=await $1(t,i,e,n);if(s)return{remote:i,branch:s}}return null}async function q1(t,e,n,r){const i=await pe(t,["rev-parse",`${e}^{tree}`],n,{allowedNonZeroExitCodes:[128],signal:r});if(!i.success||!i.stdout)throw new Error(i.stderr||i.stdout||"Failed to resolve tree");return i.stdout}var Wr={exports:{}},Yr={exports:{}},nm,cD;function z8(){if(cD)return nm;cD=1,nm=r,r.sync=i;var t=Qe;function e(s,o){var a=o.pathExt!==void 0?o.pathExt:process.env.PATHEXT;if(!a||(a=a.split(";"),a.indexOf("")!==-1))return!0;for(var c=0;c<a.length;c++){var u=a[c].toLowerCase();if(u&&s.substr(-u.length).toLowerCase()===u)return!0}return!1}function n(s,o,a){return!s.isSymbolicLink()&&!s.isFile()?!1:e(o,a)}function r(s,o,a){t.stat(s,function(c,u){a(c,c?!1:n(u,s,o))})}function i(s,o){return n(t.statSync(s),s,o)}return nm}var rm,uD;function G8(){if(uD)return rm;uD=1,rm=e,e.sync=n;var t=Qe;function e(s,o,a){t.stat(s,function(c,u){a(c,c?!1:r(u,o))})}function n(s,o){return r(t.statSync(s),o)}function r(s,o){return s.isFile()&&i(s,o)}function i(s,o){var a=s.mode,c=s.uid,u=s.gid,l=o.uid!==void 0?o.uid:process.getuid&&process.getuid(),p=o.gid!==void 0?o.gid:process.getgid&&process.getgid(),d=parseInt("100",8),f=parseInt("010",8),m=parseInt("001",8),h=d|f,g=a&m||a&f&&u===p||a&d&&c===l||a&h&&l===0;return g}return rm}var im,lD;function q8(){if(lD)return im;lD=1;var t;process.platform==="win32"||Dt.TESTING_WINDOWS?t=z8():t=G8(),im=e,e.sync=n;function e(r,i,s){if(typeof i=="function"&&(s=i,i={}),!s){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(o,a){e(r,i||{},function(c,u){c?a(c):o(u)})})}t(r,i||{},function(o,a){o&&(o.code==="EACCES"||i&&i.ignoreErrors)&&(o=null,a=!1),s(o,a)})}function n(r,i){try{return t.sync(r,i||{})}catch(s){if(i&&i.ignoreErrors||s.code==="EACCES")return!1;throw s}}return im}var sm,pD;function H8(){if(pD)return sm;pD=1;const t=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",e=Ve,n=t?";":":",r=q8(),i=c=>Object.assign(new Error(`not found: ${c}`),{code:"ENOENT"}),s=(c,u)=>{const l=u.colon||n,p=c.match(/\//)||t&&c.match(/\\/)?[""]:[...t?[process.cwd()]:[],...(u.path||process.env.PATH||"").split(l)],d=t?u.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",f=t?d.split(l):[""];return t&&c.indexOf(".")!==-1&&f[0]!==""&&f.unshift(""),{pathEnv:p,pathExt:f,pathExtExe:d}},o=(c,u,l)=>{typeof u=="function"&&(l=u,u={}),u||(u={});const{pathEnv:p,pathExt:d,pathExtExe:f}=s(c,u),m=[],h=_=>new Promise((S,v)=>{if(_===p.length)return u.all&&m.length?S(m):v(i(c));const T=p[_],y=/^".*"$/.test(T)?T.slice(1,-1):T,b=e.join(y,c),x=!y&&/^\.[\\\/]/.test(c)?c.slice(0,2)+b:b;S(g(x,_,0))}),g=(_,S,v)=>new Promise((T,y)=>{if(v===d.length)return T(h(S+1));const b=d[v];r(_+b,{pathExt:f},(x,D)=>{if(!x&&D)if(u.all)m.push(_+b);else return T(_+b);return T(g(_,S,v+1))})});return l?h(0).then(_=>l(null,_),l):h(0)},a=(c,u)=>{u=u||{};const{pathEnv:l,pathExt:p,pathExtExe:d}=s(c,u),f=[];for(let m=0;m<l.length;m++){const h=l[m],g=/^".*"$/.test(h)?h.slice(1,-1):h,_=e.join(g,c),S=!g&&/^\.[\\\/]/.test(c)?c.slice(0,2)+_:_;for(let v=0;v<p.length;v++){const T=S+p[v];try{if(r.sync(T,{pathExt:d}))if(u.all)f.push(T);else return T}catch{}}}if(u.all&&f.length)return f;if(u.nothrow)return null;throw i(c)};return sm=o,o.sync=a,sm}var _u={exports:{}},dD;function H1(){if(dD)return _u.exports;dD=1;const t=(e={})=>{const n=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(n).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};return _u.exports=t,_u.exports.default=t,_u.exports}var om,fD;function W8(){if(fD)return om;fD=1;const t=Ve,e=H8(),n=H1();function r(s,o){const a=s.options.env||process.env,c=process.cwd(),u=s.options.cwd!=null,l=u&&process.chdir!==void 0&&!process.chdir.disabled;if(l)try{process.chdir(s.options.cwd)}catch{}let p;try{p=e.sync(s.command,{path:a[n({env:a})],pathExt:o?t.delimiter:void 0})}catch{}finally{l&&process.chdir(c)}return p&&(p=t.resolve(u?s.options.cwd:"",p)),p}function i(s){return r(s)||r(s,!0)}return om=i,om}var vu={},mD;function Y8(){if(mD)return vu;mD=1;const t=/([()\][%!^"`<>&|;, *?])/g;function e(r){return r=r.replace(t,"^$1"),r}function n(r,i){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(t,"^$1"),i&&(r=r.replace(t,"^$1")),r}return vu.command=e,vu.argument=n,vu}var am,hD;function K8(){return hD||(hD=1,am=/^#!(.*)/),am}var cm,gD;function Z8(){if(gD)return cm;gD=1;const t=K8();return cm=(e="")=>{const n=e.match(t);if(!n)return null;const[r,i]=n[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s},cm}var um,_D;function X8(){if(_D)return um;_D=1;const t=Qe,e=Z8();function n(r){const s=Buffer.alloc(150);let o;try{o=t.openSync(r,"r"),t.readSync(o,s,0,150,0),t.closeSync(o)}catch{}return e(s.toString())}return um=n,um}var lm,vD;function J8(){if(vD)return lm;vD=1;const t=Ve,e=W8(),n=Y8(),r=X8(),i=process.platform==="win32",s=/\.(?:com|exe)$/i,o=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function a(l){l.file=e(l);const p=l.file&&r(l.file);return p?(l.args.unshift(l.file),l.command=p,e(l)):l.file}function c(l){if(!i)return l;const p=a(l),d=!s.test(p);if(l.options.forceShell||d){const f=o.test(p);l.command=t.normalize(l.command),l.command=n.command(l.command),l.args=l.args.map(h=>n.argument(h,f));const m=[l.command].concat(l.args).join(" ");l.args=["/d","/s","/c",`"${m}"`],l.command=process.env.comspec||"cmd.exe",l.options.windowsVerbatimArguments=!0}return l}function u(l,p,d){p&&!Array.isArray(p)&&(d=p,p=null),p=p?p.slice(0):[],d=Object.assign({},d);const f={command:l,args:p,options:d,file:void 0,original:{command:l,args:p}};return d.shell?f:c(f)}return lm=u,lm}var pm,ED;function Q8(){if(ED)return pm;ED=1;const t=process.platform==="win32";function e(s,o){return Object.assign(new Error(`${o} ${s.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${o} ${s.command}`,path:s.command,spawnargs:s.args})}function n(s,o){if(!t)return;const a=s.emit;s.emit=function(c,u){if(c==="exit"){const l=r(u,o);if(l)return a.call(s,"error",l)}return a.apply(s,arguments)}}function r(s,o){return t&&s===1&&!o.file?e(o.original,"spawn"):null}function i(s,o){return t&&s===1&&!o.file?e(o.original,"spawnSync"):null}return pm={hookChildProcess:n,verifyENOENT:r,verifyENOENTSync:i,notFoundError:e},pm}var SD;function eK(){if(SD)return Yr.exports;SD=1;const t=Dc,e=J8(),n=Q8();function r(s,o,a){const c=e(s,o,a),u=t.spawn(c.command,c.args,c.options);return n.hookChildProcess(u,c),u}function i(s,o,a){const c=e(s,o,a),u=t.spawnSync(c.command,c.args,c.options);return u.error=u.error||n.verifyENOENTSync(u.status,c),u}return Yr.exports=r,Yr.exports.spawn=r,Yr.exports.sync=i,Yr.exports._parse=e,Yr.exports._enoent=n,Yr.exports}var dm,bD;function tK(){return bD||(bD=1,dm=t=>{const e=typeof t=="string"?`
`:10,n=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===n&&(t=t.slice(0,t.length-1)),t}),dm}var Ku={exports:{}};Ku.exports;var TD;function nK(){return TD||(TD=1,(function(t){const e=Ve,n=H1(),r=i=>{i={cwd:process.cwd(),path:process.env[n()],execPath:process.execPath,...i};let s,o=e.resolve(i.cwd);const a=[];for(;s!==o;)a.push(e.join(o,"node_modules/.bin")),s=o,o=e.resolve(o,"..");const c=e.resolve(i.cwd,i.execPath,"..");return a.push(c),a.concat(i.path).join(e.delimiter)};t.exports=r,t.exports.default=r,t.exports.env=i=>{i={env:process.env,...i};const s={...i.env},o=n({env:s});return i.path=s[o],s[o]=t.exports(i),s}})(Ku)),Ku.exports}var ra={exports:{}},Eu={exports:{}},yD;function rK(){if(yD)return Eu.exports;yD=1;const t=(e,n)=>{for(const r of Reflect.ownKeys(n))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r));return e};return Eu.exports=t,Eu.exports.default=t,Eu.exports}var xD;function iK(){if(xD)return ra.exports;xD=1;const t=rK(),e=new WeakMap,n=(r,i={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let s,o=0;const a=r.displayName||r.name||"<anonymous>",c=function(...u){if(e.set(c,++o),o===1)s=r.apply(this,u),r=null;else if(i.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return s};return t(c,r),e.set(c,o),c};return ra.exports=n,ra.exports.default=n,ra.exports.callCount=r=>{if(!e.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return e.get(r)},ra.exports}var Kr={},ia={},sa={},wD;function sK(){if(wD)return sa;wD=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.SIGNALS=void 0;const t=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];return sa.SIGNALS=t,sa}var Zr={},AD;function W1(){if(AD)return Zr;AD=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.SIGRTMAX=Zr.getRealtimeSignals=void 0;const t=function(){const i=r-n+1;return Array.from({length:i},e)};Zr.getRealtimeSignals=t;const e=function(i,s){return{name:`SIGRT${s+1}`,number:n+s,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},n=34,r=64;return Zr.SIGRTMAX=r,Zr}var DD;function oK(){if(DD)return ia;DD=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.getSignals=void 0;var t=Ic,e=sK(),n=W1();const r=function(){const s=(0,n.getRealtimeSignals)();return[...e.SIGNALS,...s].map(i)};ia.getSignals=r;const i=function({name:s,number:o,description:a,action:c,forced:u=!1,standard:l}){const{signals:{[s]:p}}=t.constants,d=p!==void 0;return{name:s,number:d?p:o,description:a,supported:d,action:c,forced:u,standard:l}};return ia}var RD;function aK(){if(RD)return Kr;RD=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.signalsByNumber=Kr.signalsByName=void 0;var t=Ic,e=oK(),n=W1();const r=function(){return(0,e.getSignals)().reduce(i,{})},i=function(l,{name:p,number:d,description:f,supported:m,action:h,forced:g,standard:_}){return{...l,[p]:{name:p,number:d,description:f,supported:m,action:h,forced:g,standard:_}}},s=r();Kr.signalsByName=s;const o=function(){const l=(0,e.getSignals)(),p=n.SIGRTMAX+1,d=Array.from({length:p},(f,m)=>a(m,l));return Object.assign({},...d)},a=function(l,p){const d=c(l,p);if(d===void 0)return{};const{name:f,description:m,supported:h,action:g,forced:_,standard:S}=d;return{[l]:{name:f,number:l,description:m,supported:h,action:g,forced:_,standard:S}}},c=function(l,p){const d=p.find(({name:f})=>t.constants.signals[f]===l);return d!==void 0?d:p.find(f=>f.number===l)},u=o();return Kr.signalsByNumber=u,Kr}var fm,ID;function cK(){if(ID)return fm;ID=1;const{signalsByName:t}=aK(),e=({timedOut:r,timeout:i,errorCode:s,signal:o,signalDescription:a,exitCode:c,isCanceled:u})=>r?`timed out after ${i} milliseconds`:u?"was canceled":s!==void 0?`failed with ${s}`:o!==void 0?`was killed with ${o} (${a})`:c!==void 0?`failed with exit code ${c}`:"failed";return fm=({stdout:r,stderr:i,all:s,error:o,signal:a,exitCode:c,command:u,escapedCommand:l,timedOut:p,isCanceled:d,killed:f,parsed:{options:{timeout:m}}})=>{c=c===null?void 0:c,a=a===null?void 0:a;const h=a===void 0?void 0:t[a].description,g=o&&o.code,S=`Command ${e({timedOut:p,timeout:m,errorCode:g,signal:a,signalDescription:h,exitCode:c,isCanceled:d})}: ${u}`,v=Object.prototype.toString.call(o)==="[object Error]",T=v?`${S}
${o.message}`:S,y=[T,i,r].filter(Boolean).join(`
`);return v?(o.originalMessage=o.message,o.message=y):o=new Error(y),o.shortMessage=T,o.command=u,o.escapedCommand=l,o.exitCode=c,o.signal=a,o.signalDescription=h,o.stdout=r,o.stderr=i,s!==void 0&&(o.all=s),"bufferedData"in o&&delete o.bufferedData,o.failed=!0,o.timedOut=!!p,o.isCanceled=d,o.killed=f&&!p,o},fm}var Su={exports:{}},CD;function uK(){if(CD)return Su.exports;CD=1;const t=["stdin","stdout","stderr"],e=r=>t.some(i=>r[i]!==void 0),n=r=>{if(!r)return;const{stdio:i}=r;if(i===void 0)return t.map(o=>r[o]);if(e(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${t.map(o=>`\`${o}\``).join(", ")}`);if(typeof i=="string")return i;if(!Array.isArray(i))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof i}\``);const s=Math.max(i.length,t.length);return Array.from({length:s},(o,a)=>i[a])};return Su.exports=n,Su.exports.node=r=>{const i=n(r);return i==="ipc"?"ipc":i===void 0||typeof i=="string"?[i,i,i,"ipc"]:i.includes("ipc")?i:[...i,"ipc"]},Su.exports}var Xr={exports:{}},mm={exports:{}},OD;function lK(){return OD||(OD=1,(function(t){t.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&t.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&t.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")})(mm)),mm.exports}var ND;function pK(){if(ND)return Xr.exports;ND=1;var t=Dt.process;const e=function(g){return g&&typeof g=="object"&&typeof g.removeListener=="function"&&typeof g.emit=="function"&&typeof g.reallyExit=="function"&&typeof g.listeners=="function"&&typeof g.kill=="function"&&typeof g.pid=="number"&&typeof g.on=="function"};if(!e(t))Xr.exports=function(){return function(){}};else{var n=f2,r=lK(),i=/^win/i.test(t.platform),s=Ps;typeof s!="function"&&(s=s.EventEmitter);var o;t.__signal_exit_emitter__?o=t.__signal_exit_emitter__:(o=t.__signal_exit_emitter__=new s,o.count=0,o.emitted={}),o.infinite||(o.setMaxListeners(1/0),o.infinite=!0),Xr.exports=function(g,_){if(!e(Dt.process))return function(){};n.equal(typeof g,"function","a callback must be provided for exit handler"),l===!1&&p();var S="exit";_&&_.alwaysLast&&(S="afterexit");var v=function(){o.removeListener(S,g),o.listeners("exit").length===0&&o.listeners("afterexit").length===0&&a()};return o.on(S,g),v};var a=function(){!l||!e(Dt.process)||(l=!1,r.forEach(function(_){try{t.removeListener(_,u[_])}catch{}}),t.emit=m,t.reallyExit=d,o.count-=1)};Xr.exports.unload=a;var c=function(_,S,v){o.emitted[_]||(o.emitted[_]=!0,o.emit(_,S,v))},u={};r.forEach(function(g){u[g]=function(){if(e(Dt.process)){var S=t.listeners(g);S.length===o.count&&(a(),c("exit",null,g),c("afterexit",null,g),i&&g==="SIGHUP"&&(g="SIGINT"),t.kill(t.pid,g))}}}),Xr.exports.signals=function(){return r};var l=!1,p=function(){l||!e(Dt.process)||(l=!0,o.count+=1,r=r.filter(function(_){try{return t.on(_,u[_]),!0}catch{return!1}}),t.emit=h,t.reallyExit=f)};Xr.exports.load=p;var d=t.reallyExit,f=function(_){e(Dt.process)&&(t.exitCode=_||0,c("exit",t.exitCode,null),c("afterexit",t.exitCode,null),d.call(t,t.exitCode))},m=t.emit,h=function(_,S){if(_==="exit"&&e(Dt.process)){S!==void 0&&(t.exitCode=S);var v=m.apply(this,arguments);return c("exit",t.exitCode,null),c("afterexit",t.exitCode,null),v}else return m.apply(this,arguments)}}return Xr.exports}var hm,kD;function dK(){if(kD)return hm;kD=1;const t=Ic,e=pK(),n=1e3*5,r=(f,m="SIGTERM",h={})=>{const g=f(m);return i(f,m,h,g),g},i=(f,m,h,g)=>{if(!s(m,h,g))return;const _=a(h),S=setTimeout(()=>{f("SIGKILL")},_);S.unref&&S.unref()},s=(f,{forceKillAfterTimeout:m},h)=>o(f)&&m!==!1&&h,o=f=>f===t.constants.signals.SIGTERM||typeof f=="string"&&f.toUpperCase()==="SIGTERM",a=({forceKillAfterTimeout:f=!0})=>{if(f===!0)return n;if(!Number.isFinite(f)||f<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${f}\` (${typeof f})`);return f},c=(f,m)=>{f.kill()&&(m.isCanceled=!0)},u=(f,m,h)=>{f.kill(m),h(Object.assign(new Error("Timed out"),{timedOut:!0,signal:m}))};return hm={spawnedKill:r,spawnedCancel:c,setupTimeout:(f,{timeout:m,killSignal:h="SIGTERM"},g)=>{if(m===0||m===void 0)return g;let _;const S=new Promise((T,y)=>{_=setTimeout(()=>{u(f,h,y)},m)}),v=g.finally(()=>{clearTimeout(_)});return Promise.race([S,v])},validateTimeout:({timeout:f})=>{if(f!==void 0&&(!Number.isFinite(f)||f<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${f}\` (${typeof f})`)},setExitHandler:async(f,{cleanup:m,detached:h},g)=>{if(!m||h)return g;const _=e(()=>{f.kill()});return g.finally(()=>{_()})}},hm}var gm,PD;function fK(){if(PD)return gm;PD=1;const t=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";return t.writable=e=>t(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object",t.readable=e=>t(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object",t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&typeof e._transform=="function",gm=t,gm}var Qi={exports:{}},_m,MD;function mK(){if(MD)return _m;MD=1;const{PassThrough:t}=jn;return _m=e=>{e={...e};const{array:n}=e;let{encoding:r}=e;const i=r==="buffer";let s=!1;n?s=!(r||i):r=r||"utf8",i&&(r=null);const o=new t({objectMode:s});r&&o.setEncoding(r);let a=0;const c=[];return o.on("data",u=>{c.push(u),s?a=c.length:a+=u.length}),o.getBufferedValue=()=>n?c:i?Buffer.concat(c,a):c.join(""),o.getBufferedLength=()=>a,o},_m}var LD;function hK(){if(LD)return Qi.exports;LD=1;const{constants:t}=k_,e=jn,{promisify:n}=Es,r=mK(),i=n(e.pipeline);class s extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function o(a,c){if(!a)throw new Error("Expected a stream");c={maxBuffer:1/0,...c};const{maxBuffer:u}=c,l=r(c);return await new Promise((p,d)=>{const f=m=>{m&&l.getBufferedLength()<=t.MAX_LENGTH&&(m.bufferedData=l.getBufferedValue()),d(m)};(async()=>{try{await i(a,l),p()}catch(m){f(m)}})(),l.on("data",()=>{l.getBufferedLength()>u&&f(new s)})}),l.getBufferedValue()}return Qi.exports=o,Qi.exports.buffer=(a,c)=>o(a,{...c,encoding:"buffer"}),Qi.exports.array=(a,c)=>o(a,{...c,array:!0}),Qi.exports.MaxBufferError=s,Qi.exports}var vm,UD;function gK(){if(UD)return vm;UD=1;const{PassThrough:t}=jn;return vm=function(){var e=[],n=new t({objectMode:!0});return n.setMaxListeners(0),n.add=r,n.isEmpty=i,n.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),n;function r(o){return Array.isArray(o)?(o.forEach(r),this):(e.push(o),o.once("end",s.bind(null,o)),o.once("error",n.emit.bind(n,"error")),o.pipe(n,{end:!1}),this)}function i(){return e.length==0}function s(o){e=e.filter(function(a){return a!==o}),!e.length&&n.readable&&n.end()}},vm}var Em,FD;function _K(){if(FD)return Em;FD=1;const t=fK(),e=hK(),n=gK(),r=(u,l)=>{l===void 0||u.stdin===void 0||(t(l)?l.pipe(u.stdin):u.stdin.end(l))},i=(u,{all:l})=>{if(!l||!u.stdout&&!u.stderr)return;const p=n();return u.stdout&&p.add(u.stdout),u.stderr&&p.add(u.stderr),p},s=async(u,l)=>{if(u){u.destroy();try{return await l}catch(p){return p.bufferedData}}},o=(u,{encoding:l,buffer:p,maxBuffer:d})=>{if(!(!u||!p))return l?e(u,{encoding:l,maxBuffer:d}):e.buffer(u,{maxBuffer:d})};return Em={handleInput:r,makeAllStream:i,getSpawnedResult:async({stdout:u,stderr:l,all:p},{encoding:d,buffer:f,maxBuffer:m},h)=>{const g=o(u,{encoding:d,buffer:f,maxBuffer:m}),_=o(l,{encoding:d,buffer:f,maxBuffer:m}),S=o(p,{encoding:d,buffer:f,maxBuffer:m*2});try{return await Promise.all([h,g,_,S])}catch(v){return Promise.all([{error:v,signal:v.signal,timedOut:v.timedOut},s(u,g),s(l,_),s(p,S)])}},validateInputSync:({input:u})=>{if(t(u))throw new TypeError("The `input` option cannot be a stream in sync mode")}},Em}var Sm,$D;function vK(){if($D)return Sm;$D=1;const t=(async()=>{})().constructor.prototype,e=["then","catch","finally"].map(i=>[i,Reflect.getOwnPropertyDescriptor(t,i)]);return Sm={mergePromise:(i,s)=>{for(const[o,a]of e){const c=typeof s=="function"?(...u)=>Reflect.apply(a.value,s(),u):a.value.bind(s);Reflect.defineProperty(i,o,{...a,value:c})}return i},getSpawnedPromise:i=>new Promise((s,o)=>{i.on("exit",(a,c)=>{s({exitCode:a,signal:c})}),i.on("error",a=>{o(a)}),i.stdin&&i.stdin.on("error",a=>{o(a)})})},Sm}var bm,BD;function EK(){if(BD)return bm;BD=1;const t=(c,u=[])=>Array.isArray(u)?[c,...u]:[c],e=/^[\w.-]+$/,n=/"/g,r=c=>typeof c!="string"||e.test(c)?c:`"${c.replace(n,'\\"')}"`,i=(c,u)=>t(c,u).join(" "),s=(c,u)=>t(c,u).map(l=>r(l)).join(" "),o=/ +/g;return bm={joinCommand:i,getEscapedCommand:s,parseCommand:c=>{const u=[];for(const l of c.trim().split(o)){const p=u[u.length-1];p&&p.endsWith("\\")?u[u.length-1]=`${p.slice(0,-1)} ${l}`:u.push(l)}return u}},bm}var jD;function SK(){if(jD)return Wr.exports;jD=1;const t=Ve,e=Dc,n=eK(),r=tK(),i=nK(),s=iK(),o=cK(),a=uK(),{spawnedKill:c,spawnedCancel:u,setupTimeout:l,validateTimeout:p,setExitHandler:d}=dK(),{handleInput:f,getSpawnedResult:m,makeAllStream:h,validateInputSync:g}=_K(),{mergePromise:_,getSpawnedPromise:S}=vK(),{joinCommand:v,parseCommand:T,getEscapedCommand:y}=EK(),b=1e3*1e3*100,x=({env:C,extendEnv:L,preferLocal:j,localDir:N,execPath:H})=>{const O=L?{...process.env,...C}:C;return j?i.env({env:O,cwd:N,execPath:H}):O},D=(C,L,j={})=>{const N=n._parse(C,L,j);return C=N.command,L=N.args,j=N.options,j={maxBuffer:b,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:j.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...j},j.env=x(j),j.stdio=a(j),process.platform==="win32"&&t.basename(C,".exe")==="cmd"&&L.unshift("/q"),{file:C,args:L,options:j,parsed:N}},k=(C,L,j)=>typeof L!="string"&&!Buffer.isBuffer(L)?j===void 0?void 0:"":C.stripFinalNewline?r(L):L,U=(C,L,j)=>{const N=D(C,L,j),H=v(C,L),O=y(C,L);p(N.options);let M;try{M=e.spawn(N.file,N.args,N.options)}catch(z){const q=new e.ChildProcess,X=Promise.reject(o({error:z,stdout:"",stderr:"",all:"",command:H,escapedCommand:O,parsed:N,timedOut:!1,isCanceled:!1,killed:!1}));return _(q,X)}const Q=S(M),de=l(M,N.options,Q),_e=d(M,N.options,de),oe={isCanceled:!1};M.kill=c.bind(null,M.kill.bind(M)),M.cancel=u.bind(null,M,oe);const F=s(async()=>{const[{error:z,exitCode:q,signal:X,timedOut:J},se,Se,Ue]=await m(M,N.options,_e),ce=k(N.options,se),Ae=k(N.options,Se),ke=k(N.options,Ue);if(z||q!==0||X!==null){const nt=o({error:z,exitCode:q,signal:X,stdout:ce,stderr:Ae,all:ke,command:H,escapedCommand:O,parsed:N,timedOut:J,isCanceled:oe.isCanceled,killed:M.killed});if(!N.options.reject)return nt;throw nt}return{command:H,escapedCommand:O,exitCode:0,stdout:ce,stderr:Ae,all:ke,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return f(M,N.options.input),M.all=h(M,N.options),_(M,F)};return Wr.exports=U,Wr.exports.sync=(C,L,j)=>{const N=D(C,L,j),H=v(C,L),O=y(C,L);g(N.options);let M;try{M=e.spawnSync(N.file,N.args,N.options)}catch(_e){throw o({error:_e,stdout:"",stderr:"",all:"",command:H,escapedCommand:O,parsed:N,timedOut:!1,isCanceled:!1,killed:!1})}const Q=k(N.options,M.stdout,M.error),de=k(N.options,M.stderr,M.error);if(M.error||M.status!==0||M.signal!==null){const _e=o({stdout:Q,stderr:de,error:M.error,signal:M.signal,exitCode:M.status,command:H,escapedCommand:O,parsed:N,timedOut:M.error&&M.error.code==="ETIMEDOUT",isCanceled:!1,killed:M.signal!==null});if(!N.options.reject)return _e;throw _e}return{command:H,escapedCommand:O,exitCode:0,stdout:Q,stderr:de,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},Wr.exports.command=(C,L)=>{const[j,...N]=T(C);return U(j,N,L)},Wr.exports.commandSync=(C,L)=>{const[j,...N]=T(C);return U.sync(j,N,L)},Wr.exports.node=(C,L,j={})=>{L&&!Array.isArray(L)&&typeof L=="object"&&(j=L,L=[]);const N=a.node(j),H=process.execArgv.filter(Q=>!Q.startsWith("--inspect")),{nodePath:O=process.execPath,nodeOptions:M=H}=j;return U(O,[...M,C,...Array.isArray(L)?L:[]],{...j,stdin:void 0,stdout:void 0,stderr:void 0,stdio:N,shell:!1})},Wr.exports}var bK=SK();const Y1=Bi(bK),qg="_SHELL_ENV_DELIMITER_",TK=`echo -n "${qg}"; command env; echo -n "${qg}"; exit`,K1={DISABLE_AUTO_UPDATE:"true",ZSH_TMUX_AUTOSTARTED:"true",ZSH_TMUX_AUTOSTART:"false"},yK=/(?:\u001B\][\s\S]*?(?:\u0007|\u001B\u005C|\u009C)|[\u001B\u009B][[\]()#;?]*(?:\d{1,4}(?:[;:]\d{0,4})*)?[\dA-PR-TZcf-nq-uy=><~])/g,Z1=IK(),xK=["/bin/zsh","/bin/bash"].filter(t=>t!==Z1);function wK(t){if(Pt.platform==="win32")return Pt.env;const{shell:e,interactive:n,extraEnv:r}=DK(t),i=RK(n);try{const{stdout:s}=Y1.sync(e||Z1,i,{env:{...K1,...r}});return X1(s)}catch(s){if(e)throw s;return AK(i,r)}}function AK(t,e){for(const n of xK)try{const{stdout:r}=Y1.sync(n,t,{env:{...K1,...e}});return X1(r)}catch{}return Pt.env}function X1(t){const e=t.split(qg)[1],n={};for(const r of CK(e).split(`
`).filter(Boolean)){const[i,...s]=r.split("=");n[i]=s.join("=")}return n}function DK(t){return typeof t=="string"?{shell:t,interactive:!0,extraEnv:void 0}:{shell:t?.shell,interactive:t?.interactive??!0,extraEnv:t?.extraEnv}}function RK(t){return[t?"-ilc":"-lc",TK]}function IK(){const{env:t}=Pt;if(Pt.platform==="win32")return t.COMSPEC||"cmd.exe";try{const e=Re.userInfo().shell;if(e)return e}catch{}return Pt.platform==="darwin"?t.SHELL||"/bin/zsh":t.SHELL||"/bin/sh"}function CK(t){return t.replace(yK,"")}async function J1(t,e,n,r,i,s){const a=["config",r==="local"?"--local":"--worktree",e,n],c=await pe(t,a,i,{signal:s});return c.success||r!=="worktree"?c.success:!c.stderr.toLowerCase().includes("worktreeconfig")||!(await pe(t,["config","extensions.worktreeConfig","true"],i,{signal:s})).success?!1:(await pe(t,a,i,{signal:s})).success}async function OK(t,e,n,r="worktree",i){return J1(t,o6,e,r,n,i)}const NK="codex-synced-branch.json";zn({branch:at(),lastSyncedTreeRef:at()});async function kK(t,e,n){const r=await zE(t,e,n);return r?B.join(r,NK):null}async function PK(t,e,n,r){const i=await kK(t,n,r);if(!i)throw new Error("No git repository found for synced branch config");const s=`${JSON.stringify(e,null,2)}
`;await ve.writeFile(i,s,n)}async function Q1(t,e,n,r,i){await PK(t,{branch:e,lastSyncedTreeRef:n},r,i)}function eF(t){return t.startsWith("refs/")?t:`refs/heads/${t}`}async function MK({gitManager:t,workspaceRoot:e,startingState:n,localEnvironmentConfigPath:r,markAsCodexManaged:i=!0,hostConfig:s,signal:o,onLog:a}){if(o?.aborted)return{success:!1,error:new Error("Request canceled")};const u=(await t.getWorktreeRepository(e,s))?.root;if(!u)return{success:!1,error:new Error("Not a git repository")};if(o?.aborted)return{success:!1,error:new Error("Request canceled")};const[l,p]=await Promise.all([LK(u,n,s,o),GE(u,s,o)]),d=p?.branch??null,f=i&&l!=null&&l!==d,m=await V8(u,t,e,s);if(!m.success)return{success:!1,error:new Error("Failed to compute worktree path")};if(o?.aborted)return{success:!1,error:new Error("Request canceled")};const{worktreeGitRoot:h,worktreeWorkspaceRoot:g}=m,_=await $8(u,h,n,t,s,i,{onLog:a,signal:o});if(!_.success)return{success:!1,error:_.error};if(o?.aborted)return{success:!1,error:new Error("Request canceled")};if(f&&l){const T=eF(l),y=await q1(u,T,s,o);await Q1(h,T,y,s,o)}return a?.("info",Qa.Buffer.from(`Worktree created at ${g}
`,"utf8")),await OK(g,a6,s,"worktree",o)||a?.("stderr",Qa.Buffer.from(`Failed to store selected environment in git config
`,"utf8")),a?.("info",Qa.Buffer.from(`No local environment selected
`,"utf8")),{success:!0,worktreeGitRoot:h,worktreeWorkspaceRoot:g,setupResult:null}}async function LK(t,e,n,r){return e.type==="branch"?e.branchName==="HEAD"?Gg(t,n,r):e.branchName:Gg(t,n,r)}function VD(t){if(t<1024)return`${t} B`;const e=["KB","MB","GB","TB"];let n=t/1024,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(1)} ${e[r]}`}async function Zu(t,e,n){const r=await pe(t,e,n);if(!r.success){const i=r.stderr||r.stdout;throw new Error(`git ${e.join(" ")} failed${i?`: ${i}`:""}`)}return r.stdout}function UK(t){const e=new Map;for(const n of t.split(/\r?\n/)){const r=n.trim();if(!r)continue;const[i,s]=r.split(":");if(!i||s==null)continue;const o=Number.parseInt(s.trim(),10);Number.isFinite(o)&&e.set(i,o)}return e}async function FK(t,e,n){const r=await Zu(t,["count-objects","-v"],n),i=UK(r),o=((i.get("size")??0)+(i.get("size-pack")??0))*1024;if(o>e)throw new Error(`Repository is too large (${VD(o)}). Maximum allowed size is ${VD(e)}.`)}async function tF(t,e,n){if(!Oe(e)&&!Y.existsSync(t))throw new Error(`ENOENT: path does not exist: ${t}`);const{success:r,stdout:i,stderr:s,code:o}=await pe(t,["rev-parse","--git-common-dir"],e,{signal:n});if(r&&i){const a=Ce(e),c=a.isAbsolute(i)?i:a.resolve(t,i);return c}if(o===128&&s.toLowerCase().includes("not a git repository"))return null;throw new Error(`Failed to resolve git common dir: ${s||i||"Unknown error"}`)}async function $K(t,e,n,r){const i=e.trim();if(!i)return null;const s=async g=>(await pe(t,["rev-parse","--verify","--quiet",g],n,{signal:r})).success,o=[],a=new Set,c=async g=>{const _=g?.trim();!_||a.has(_)||await s(_)&&(o.push(_),a.add(_))},u=await pe(t,["for-each-ref","--format=%(upstream:short)",`refs/heads/${i}`],n,{signal:r}),l=u.success?u.stdout.trim():null;await c(l),await c(i);const p=await pe(t,["remote"],n,{signal:r});if(p.success&&p.stdout){const g=p.stdout.split(`
`).map(x=>x.trim()).filter(x=>x.length>0),_=new Set(g),S=i.indexOf("/"),v=S>0?i.slice(0,S):null,T=v!=null&&_.has(v),y=T&&S+1<i.length?i.slice(S+1):null,b=[];for(const x of g){if(T&&x===v){y&&b.push(c(`refs/remotes/${x}/${y}`));continue}b.push(c(`${x}/${i}`),c(`refs/remotes/${x}/${i}`))}await Promise.all(b)}const d=o[0];if(!d)return null;const{success:f,stdout:m}=await pe(t,["merge-base","HEAD",d],n,{signal:r});if(!f||!m)return null;const h=m.trim();return h.length>0?h:null}async function BK(t,e,n){const r=await pe(t,["worktree","list","--porcelain"],e,{signal:n});if(!r.success)throw new Error(r.stderr||r.stdout||"Failed to list worktrees for repository");return jK(r.stdout??"")}function jK(t){const e=[];let n=null;const r=t.split(/\r?\n/);for(const i of r){const s=i.trim();if(s.length===0){n&&(e.push(n),n=null);continue}if(s.startsWith("worktree ")){n&&e.push(n);const o=s.slice(9).trim();if(!o){n=null;continue}n={root:o,prunable:!1,locked:!1,headRef:{sha:"",type:"detached"}};continue}if(n){if(s.startsWith("HEAD ")){const o=s.slice(5).trim();n.headRef={sha:o,type:"detached"};continue}if(s.startsWith("branch ")){const o=s.slice(7).trim();o.startsWith("refs/heads/")?n.headRef={sha:n.headRef.sha,type:"branch",string:o.slice(11)}:n.headRef={sha:n.headRef.sha,type:"branch",string:o};continue}if(s==="detached"){n.headRef={sha:n.headRef.sha,type:"detached"};continue}if(s.startsWith("prunable")){n.prunable=!0;continue}s.startsWith("locked")&&(n.locked=!0)}}return n&&e.push(n),e}function VK(t,e){const n=[e,t].filter(Boolean).join(`
`),{conflictedPaths:r,hasConflictHeader:i}=zK(n);return i||r.length>0?{errorType:"blocked-by-working-tree-changes",conflictedPaths:r}:{errorType:"unknown",conflictedPaths:[]}}function zK(t){const e=t.split(/\r?\n/),n=/^(error:\s*)?.*\bwould be overwritten by checkout:\s*$/i,r=new Set;let i=!1,s=!1;for(const o of e){const c=o.replace(/\r$/,"").trim();if(!i){n.test(c)&&(s=!0,i=!0);continue}if(c.length===0)continue;const u=c.toLowerCase();if(u.startsWith("please ")||u.startsWith("error:")||u==="aborting")break;r.add(c)}return{conflictedPaths:Array.from(r),hasConflictHeader:s}}const GK="Stashed Codex worktree changes",qK="refs/stash",zD="No local changes to save";async function HK({cwd:t,branch:e,stashUncommitted:n=!1},r){const i=t.trim();if(!i)return{status:"error",error:"No workspace available for branch checkout",errorType:"unknown"};const s=e.trim();if(!s)return{status:"error",error:"Branch name is required",errorType:"unknown"};let o=null,a=null;if(n){const u=await pe(i,["stash","push","--include-untracked","-m",GK],r,{trim:!1}),l=u.stdout.includes(zD)||u.stderr.includes(zD);if(!l&&!u.success){const p=u.stderr||u.stdout||"Failed to stash changes";return{status:"error",error:p,errorType:"failed-to-stash-changes",execOutput:Ar({command:u.command,stdout:u.stdout,stderr:u.stderr,fallbackOutput:p})}}if(!l){a="stash@{0}";const p=await pe(i,["rev-parse","--verify",qK],r);if(!p.success||p.stdout.length===0){const d=p.stderr||p.stdout||"Failed to resolve stash reference",f=await GD({cwd:i,stashRollbackRef:a,hostConfig:r}),m=f?`${d}
${f}`:d;return{status:"error",error:m,errorType:"failed-to-stash-changes",execOutput:Ar({command:p.command,stdout:p.stdout,stderr:p.stderr,fallbackOutput:m})}}o=p.stdout}}const c=await pe(i,["checkout",s],r);if(!c.success){const u=await GD({cwd:i,stashRollbackRef:a,hostConfig:r}),l=c.stderr||c.stdout||"Failed to checkout branch",{errorType:p,conflictedPaths:d}=VK(c.stdout,c.stderr),f=u?`${l}
${u}`:l;return{status:"error",error:f,errorType:p,conflictedPaths:d.length>0?d:void 0,execOutput:Ar({command:c.command,stdout:c.stdout,stderr:c.stderr,fallbackOutput:f})}}return{status:"success",branch:s,stashRef:o}}async function GD({cwd:t,stashRollbackRef:e,hostConfig:n}){if(e==null)return null;const r=await pe(t,["stash","pop",e],n);return r.success?null:r.stderr||r.stdout||"Failed to restore stashed changes"}async function qD(t,e,n){const r=eF(e),i=await pe(t,["show-ref","--verify",r],n);if(!(i.success&&i.code===0)){const o=await pe(t,["branch",e],n);if(!o.success){const a=o.stderr||o.stdout||"Failed to create branch";return{success:!1,error:a,execOutput:Ar({command:o.command,stdout:o.stdout,stderr:o.stderr,fallbackOutput:a})}}}return{success:!0,branchRef:r}}async function WK(t,e,n){if((await pe(t,["rev-parse","--verify","HEAD"],n)).success)return null;const i=await pe(t,["switch","-c",e],n);if(i.success)return{success:!0};const s=i.stderr||i.stdout||"Failed to create branch";return{success:!1,error:s,execOutput:Ar({command:i.command,stdout:i.stdout,stderr:i.stderr,fallbackOutput:s})}}async function YK({cwd:t,branch:e,mode:n="worktree"},r,i){const s=t.trim();if(!s)return{status:"error",error:"No workspace available for branch creation"};const o=e.trim();if(!o)return{status:"error",error:"Branch name is required"};try{switch(n){case"synced":{const c=(await r.getWorktreeRepository(s,i))?.root;if(!c)return{status:"error",error:"No git repository found for branch creation"};const u=await qD(c,o,i);if(!u.success)return{status:"error",error:u.error,execOutput:u.execOutput};const l=await q1(c,u.branchRef,i);return await Q1(s,u.branchRef,l,i),{status:"success",branch:o}}case"worktree":{const a=await qD(s,o,i);if(!a.success){const c=await WK(s,o,i);return c?.success?{status:"success",branch:o}:c!=null?{status:"error",error:c.error,execOutput:c.execOutput}:{status:"error",error:a.error,execOutput:a.execOutput}}return{status:"success",branch:o}}}}catch(a){return{status:"error",error:a instanceof Error?a.message:String(a)}}}async function nF(t,e,n,r){const i=await pe(t,["config","--get",...e],n,{signal:r});return i.success&&i.stdout?i.stdout:null}async function KK(t,e,n,r,i){const a=await pe(t,["config",n==="local"?"--local":"--worktree","--get",e],r,{signal:i});return a.success&&a.stdout?a.stdout:null}async function HD(t,e,{includePaths:n,signal:r}={}){const i=["ls-files","--others","--exclude-standard","-z"];n&&n.length>0&&i.push("--",...n);const s=await pe(t,i,e,{trim:!1,signal:r});return s.success?{success:!0,paths:s.stdout.split("\0").map(a=>a.trim()).filter(a=>a.length>0)??[],gitRoot:t}:{success:!1,paths:[],gitRoot:t}}class ZK{constructor(e,n){this.root=e,this.hostConfig=n}shouldUseSlowUntrackedPathsCache=!1;async getConfigValue(e,n){return nF(this.root,[e],this.hostConfig,n)}async getConfigValueForScope(e,n,r){return KK(this.root,e,n,this.hostConfig,r)}async setConfigValueForScope(e,n,r,i){return J1(this.root,e,n,r,this.hostConfig,i)}getUntrackedPaths=Object.assign(async e=>e!=null&&e.length>0?HD(this.root,this.hostConfig,{includePaths:e}):this.shouldUseSlowUntrackedPathsCache?this.getAllUntrackedPathsSlow():this.getAllUntrackedPathsFast(),{clear:()=>{this.shouldUseSlowUntrackedPathsCache=!1,this.getAllUntrackedPathsFast.clear(),this.getAllUntrackedPathsSlow.clear()},delete:e=>{e!=null&&e.length>0||(this.getAllUntrackedPathsFast.delete(),this.getAllUntrackedPathsSlow.delete())}});getUntrackedDiff=xi(async(e,n)=>{const r=await F1(this.root,["--no-index","--","/dev/null",e],this.hostConfig,{trim:!1,allowedNonZeroExitCodes:[0,1],signal:n});return r.outputLimitExceeded||!r.success?{type:"error",error:U1(r)}:{type:"success",unifiedDiff:r.stdout,unifiedDiffBytes:r.stdoutBytes}},{promise:!0,maxAge:2e3,length:1});fetchAllUntrackedPaths=async()=>{const e=Date.now(),n=await HD(this.root,this.hostConfig),r=Date.now()-e;return this.shouldUseSlowUntrackedPathsCache=r>=7e3,n};getAllUntrackedPathsFast=xi(async()=>this.fetchAllUntrackedPaths(),{promise:!0,maxAge:1e4});getAllUntrackedPathsSlow=xi(async()=>this.fetchAllUntrackedPaths(),{promise:!0,maxAge:2e4})}class XK{constructor(e,n){this.commonDir=e,this.hostConfig=n}worktreesByRoot=new Map;getCommonDir(){return this.commonDir}getRepository(e){const n=this.worktreesByRoot.get(e);if(n)return n;const r=new ZK(e,this.hostConfig);return this.worktreesByRoot.set(e,r),r}invalidateUntrackedPathsCache(){for(const e of this.worktreesByRoot.values())e.getUntrackedPaths.clear()}getOriginUrl=xi(async e=>await nF(this.commonDir,["remote.origin.url"],this.hostConfig,e),{length:0,promise:!0,maxAge:wE})}function Tm(t){return t?.id??"local"}class JK{reposByKey=new Map;hasBackgroundedSinceLastForeground=!1;constructor(e){e.subscribe(n=>{this.handleAppEvent(n)})}async getRepoRepository(e,n){const r=await this.getStableMetadata(e,n);return r?this.getOrCreateRepo(r.commonDir,n):null}async getWorktreeRepository(e,n){const[r,i]=await Promise.all([this.getRepoRepository(e,n),this.getStableMetadata(e,n)]);return!r||!i?null:r.getRepository(i.root)}getRepoKey(e,n){return`${Tm(n)}|${e}`}getOrCreateRepo(e,n){const r=this.getRepoKey(e,n),i=this.reposByKey.get(r);if(i)return i;const s=new XK(e,n);return this.reposByKey.set(r,s),s}invalidateStableMetadata(){this.getStableMetadata.clear()}invalidateUntrackedPathsCache(e=null,n=null){if(e==null){for(const i of this.reposByKey.values())i.invalidateUntrackedPathsCache();return}const r=Tm(n);for(const[i,s]of this.reposByKey)i.startsWith(`${r}|`)&&s.invalidateUntrackedPathsCache()}getStableMetadata=xi(async(e,n)=>{const r=await L1(e,n);if(!r)return null;const i=await tF(r,n);return i?{root:r,commonDir:i}:null},{promise:!0,maxAge:wE,normalizer:([e,n])=>`${Tm(n)}|${e}`});handleAppEvent(e){switch(e.type){case"background":this.hasBackgroundedSinceLastForeground=!0;break;case"foreground":this.hasBackgroundedSinceLastForeground&&this.invalidateUntrackedPathsCache(null),this.hasBackgroundedSinceLastForeground=!1;break;case"turnComplete":this.invalidateUntrackedPathsCache(null);break}}}async function rF(t,e,n){return Promise.all(t.map(async r=>{try{return await QK(r,e,n)}catch(i){return Mt().warning("[git-origin-and-roots] Failed to resolve origin for workspace",{safe:{},sensitive:{error:i}}),{dir:r,root:r,originUrl:null,commonDir:null}}}))}async function QK(t,e,n){const r=t,s=(await e.getWorktreeRepository(r,n))?.root??t,o=await e.getRepoRepository(r,n),a=await o?.getOriginUrl(),c=o?.getCommonDir()??null;return{dir:t,root:s,originUrl:a??null,commonDir:c}}function e9(t,e){const n=[];for(const i of t.split(`
`)){const s=i.trim();s&&t9(s)&&n.push(s)}for(const i of n){const s=n9(i);if(s){if(s.includes("non-fast-forward")||s.includes("fetch first")||s.includes("stale info"))return"remote-updated";if(s.includes("remote rejected")||s.includes("remote failure")||s.includes("pre-receive hook declined"))return"remote-rejected"}}const r=e.toLowerCase();return r.includes("no upstream")||r.includes("set the remote as upstream")||r.includes("has no upstream branch")?"no-upstream":r.includes("authentication failed")||r.includes("could not read username")||r.includes("permission denied")||r.includes("access denied")?"auth":"unknown"}function t9(t){const e=t.toLowerCase();if(e.startsWith("ok ")||e.startsWith("error"))return!0;const n=t[0];return n==="!"||n==="="||n==="+"||n==="-"||n==="*"||n==="?"}function n9(t){const e=[],n=t.match(/\[([^\]]+)\]/);n&&e.push(n[1]);const r=t.match(/\(([^)]+)\)\s*$/);r&&e.push(r[1]);const i=t.match(/^error[: ]+(.+)$/i);return i&&e.push(i[1]),e.length===0?null:e.join(" ").toLowerCase()}async function r9({cwd:t,refspec:e,setUpstream:n,force:r},i,s){const o=["push","--porcelain"];r&&o.push("--force-with-lease"),n&&o.push("-u");const a=t.trim();if(!a)return{status:"error",error:"unknown",execOutput:{command:hl(["git",...o]),output:"No workspace available for push"}};let c="";if(!c){const d=(await i.getWorktreeRepository(a,s))?.root;d&&(c=(await GE(d,s))?.remote??"",c||(c=(await G1(d,s))[0]??""))}if(!c)return{status:"error",error:"unknown",execOutput:{command:hl(["git",...o]),output:"No git remote configured for push"}};o.push(c);const u=e?.trim();u&&o.push(u);const l=await pe(a,o,s);if(!l.success){const p=l.stderr||l.stdout||"Failed to push changes";return{status:"error",error:e9(l.stdout,l.stderr),execOutput:Ar({command:l.command,stdout:l.stdout,stderr:l.stderr,fallbackOutput:p})}}return{status:"success",remote:c,refspec:u??null}}async function i9(t,e,n){await new Promise((r,i)=>{const s=["--null","-czf",e,"-C",t,"--files-from","-"],o=Ht.spawn("tar",s,{stdio:["pipe","ignore","pipe"]});let a="";if(o.stderr?.setEncoding("utf8"),o.stderr?.on("data",c=>{a+=c}),o.on("error",c=>i(c)),o.on("close",c=>{c===0?r():i(new Error(`Exited with code ${c}${a?`: ${a.trim()}`:""}`))}),o.stdin){if(n.length>0){const c=`${n.join("\0")}\0`;o.stdin.write(c,u=>{u&&i(u)})}o.stdin.end()}})}async function s9(t,e){const n=await pe(t,["ls-files","--cached","--others","--exclude-standard","-z"],e,{trim:!1});if(!n.success){const i=n.stderr||n.stdout;throw new Error(`git ls-files failed${i?`: ${i}`:""}`)}const r=n.stdout;return r?r.split("\0").map(i=>i.trim()).filter(i=>i.length>0):[]}function o9(t){const e={};for(const n of t.split(/\r?\n/)){const r=n.trim();if(!r)continue;const i=r.split(/\s+/);if(i.length<3)continue;const[s,o,a]=i;a==="(push)"&&e[s]==null&&(e[s]=o)}return e}async function a9(t,e,n){if(Oe(n))throw new Error("Cannot create a worktree snapshot on a remote host");const r=t;await FK(r,s8,n);const i=B.basename(r)||"repo",s=await Zu(r,["rev-parse","HEAD"],n),o=await Zu(r,["rev-parse","--abbrev-ref","HEAD"],n),a=o&&o!=="HEAD"?o:null,c=await Zu(r,["remote","-v"],n),u=o9(c),l=`${i}-snapshot-${Date.now()}.tar.gz`,p=B.join(Re.tmpdir(),l);if(e&&e.trim().length>0){const f=await pe(r,["archive","--format=tar.gz","-o",p,e],n);if(!f.success){const m=f.stderr||f.stdout;throw new Error(`git archive failed${m?`: ${m}`:""}`)}}else{const f=await s9(r,n);await i9(r,p,f)}const d=await Y.promises.stat(p);return{tarballPath:p,tarballFilename:l,tarballSize:d.size,repoName:i,branch:a,snapshotBranch:e??a??s,commitSha:s,remotes:u,contentType:"application/gzip"}}async function c9({tarballPath:t,uploadUrl:e,contentLength:n,contentType:r}){const i=Y.createReadStream(t);try{const s=await fetch(e,{method:"PUT",headers:{"Content-Type":r,"Content-Length":n.toString(),"x-ms-blob-type":"BlockBlob"},body:i,duplex:"half"});if(!s.ok){const o=await s.text().catch(()=>"");throw new Error(`Snapshot upload failed with status ${s.status} ${s.statusText}${o?`: ${o}`:""}`)}}finally{i.destroy(),await Y.promises.unlink(t).catch(()=>{})}}zn({version:qL(1),ownerThreadId:at()});async function u9(t,e){const n=[];for(const r of t)if(r)try{(await ve.stat(r,e)).isDirectory()&&n.push(r)}catch{continue}return n}const l9=zn({state:at().optional(),number:yi().optional(),url:at().optional()}),p9=$i(l9),d9=Pr.promisify(Ht.execFile),f9={GIT_TERMINAL_PROMPT:"0",GH_PROMPT_DISABLED:"1"};async function Tl(t,e={}){const n=hl(["gh",...t]),r={...process.env,...f9,...e.env??{}};try{const{stdout:i,stderr:s}=await d9("gh",t,{cwd:e.cwd,encoding:"utf8",env:r,timeout:e.timeoutMs});return{command:n,success:!0,code:0,stdout:i.trim(),stderr:s.trim(),isExecutableMissing:!1}}catch(i){const s=i,o=(s.stdout??"").toString(),a=(s.stderr??"").toString(),c=o.trim();let u=a.trim();const l=e.timeoutMs!=null&&s.killed===!0;!u&&!c&&l&&(u="GitHub CLI command timed out");const p=s.code;let d=null;if(typeof p=="number")d=p;else if(typeof p=="string"){const f=Number.parseInt(p,10);d=Number.isFinite(f)?f:null}return{command:n,success:!1,code:d,stdout:c,stderr:u,isExecutableMissing:s.code==="ENOENT"}}}function WD(t){const e=SE(t);return e?e.host==="github.com"?`${e.owner}/${e.repo}`:`${e.host}/${e.owner}/${e.repo}`:null}function m9(t){if(!t)return null;const e=t.split("/").filter(n=>n.length>0);return e.length<2?null:e[e.length-2]??null}function h9(t){if(t.code===4)return!0;const e=`${t.stderr}
${t.stdout}`.toLowerCase();return e.includes("gh auth login")||e.includes("not logged into any github hosts")||e.includes("gh_token")||e.includes("gh_enterprise_token")}async function g9({cwd:t,headBranch:e},n,r){const i=await n.getRepoRepository(t,r),s=await n.getWorktreeRepository(t,r);if(!s)throw new Error("No git repository found for pull request status");const o=e.trim();if(!o)throw new Error("Head branch is required to check pull request status");const[a,c]=await Promise.all([i?.getOriginUrl(),s.getConfigValue("remote.upstream.url")]),u=a?WD(a):null,l=c?WD(c):null,p=m9(u),d=l!=null&&u!=null&&l!==u,f=p&&!o.includes(":")?`${p}:${o}`:o,m=[];d&&m.push({repoArg:l,headArg:f}),m.push({repoArg:u,headArg:o});const h=async({repoArg:S,headArg:v})=>{const T=["pr","list","--head",v,"--author","@me","--state","all","--json","number,url,state"];S&&T.push("--repo",S);const y=await Tl(T,{cwd:t,timeoutMs:5e3});if(!y.success)throw y.isExecutableMissing?new Error("GitHub CLI (gh) is not installed"):h9(y)?new Error("GitHub CLI (gh) is not authenticated."):new Error(y.stderr||y.stdout||"Failed to determine pull request status");const b=y.stdout||"[]";let x;try{x=JSON.parse(b)}catch{throw new Error("Failed to parse GitHub CLI response")}const D=p9.safeParse(x);if(!D.success)throw new Error("Unexpected GitHub CLI response");const k=D.data.find(C=>C.state?.toUpperCase()==="OPEN"),U=D.data.find(C=>C.state?.toUpperCase()==="MERGED");return{openPullRequest:k??null,mergedPullRequest:U??null}};let g=null,_=null;for(const S of m){const v=await h(S);if(v.openPullRequest){g=v.openPullRequest;break}_==null&&v.mergedPullRequest!=null&&(_=v.mergedPullRequest)}return{status:"success",hasOpenPr:!!g,url:g?.url??_?.url??null,number:g?.number??_?.number??null}}function _9(t){const e=Array.from(t.matchAll(/https?:\/\/\S+/g));for(const n of e){const r=n[0].replace(/[),.]+$/,"");if(r&&/\/pull\/\d+(?:\b|$)/.test(r))return r}return null}async function v9(t,e){const n=await pe(t,["log","-1","--pretty=%s"],e),r=await pe(t,["log","-1","--pretty=%b"],e);return{title:n.success?n.stdout.trim():"",body:r.success?r.stdout.trim():""}}async function iF(){return(await Tl(["--version"],{timeoutMs:1e3})).success?{isInstalled:!0,isAuthenticated:(await Tl(["auth","status"],{timeoutMs:5e3})).success}:{isInstalled:!1,isAuthenticated:!1}}async function E9(){const t=await iF();if(!t.isInstalled)throw new Error("GitHub CLI (gh) is not installed");if(!t.isAuthenticated)throw new Error("GitHub CLI (gh) is not authenticated.")}async function S9({cwd:t,headBranch:e,baseBranch:n,titleOverride:r,bodyOverride:i,bodyInstructions:s},o,a){try{const c=t?.trim();if(!c)return{status:"error",error:"No workspace available for PR creation"};await E9();const l=(await o.getWorktreeRepository(c,a))?.root;if(!l)return{status:"error",error:"No git repository found for PR creation"};const p=e.trim();if(!p)return{status:"error",error:"Head branch is required"};let d=null;const f=async()=>d||(d=await v9(l,a),d);let m=r??"",h=i??"";if(m.length===0){const x=await f(),D=x.title.trim();if(m=D.length>0?D:p,h.length===0){const k=x.body.trim();k.length>0&&(h=k)}}h.length===0&&(h=(await f()).body.trim());const g=s?.trim()??"",_=g.length>0?[h,g].filter(x=>x.length>0).join(`

`):h,S=["pr","create","--head",p,"--title",m],v=n?.trim();v&&S.push("--base",v),S.push("--body",_);const T=await Tl(S,{cwd:l,timeoutMs:15e3});if(!T.success){const x=T.isExecutableMissing?"GitHub CLI (gh) is not installed":T.stderr||T.stdout||"Failed to create pull request";return{status:"error",error:x,execOutput:Ar({command:T.command,stdout:T.stdout,stderr:T.stderr,fallbackOutput:x})}}const y=`${T.stdout}
${T.stderr}`.trim();return{status:"success",url:y?_9(y):null}}catch(c){return{status:"error",error:c instanceof Error?c.message:String(c)}}}function b9(t){const e=[];for(const n of t){const r=n.threadId??n.id;r&&D3(r,n.title,n.description)&&e.push(n)}return e}function T9(t=100){const e=ct();return e?e.prepare(`SELECT
      automation_runs.thread_id as id,
      automation_runs.automation_id as automationId,
      automations.name as automationName,
      COALESCE(
        automations.name,
        NULLIF(automation_runs.inbox_title, ''),
        automation_runs.thread_title
      ) as title,
      COALESCE(
        NULLIF(automation_runs.inbox_summary, ''),
        automation_runs.archived_assistant_message,
        automation_runs.archived_user_message,
        automations.prompt
      ) as description,
      automation_runs.archived_assistant_message as archivedAssistantMessage,
      automation_runs.archived_user_message as archivedUserMessage,
      automation_runs.archived_reason as archivedReason,
      automation_runs.source_cwd as sourceCwd,
      automation_runs.thread_id as threadId,
      automation_runs.read_at as readAt,
      automation_runs.created_at as createdAt,
      automation_runs.status as status
    FROM automation_runs
    JOIN automations
      ON automations.id = automation_runs.automation_id
    WHERE automation_runs.status IN ${y3}
    ORDER BY
      automation_runs.status = 'IN_PROGRESS' DESC,
      automation_runs.status = 'PENDING_REVIEW' DESC,
      automation_runs.created_at DESC
    LIMIT ?`).all(t):[]}function YD(t,e){const n=ct();return n?n.prepare("UPDATE automation_runs SET read_at = ? WHERE thread_id = ? RETURNING thread_id as id, automation_id as automationId, NULL as automationName, inbox_title as title, inbox_summary as description, archived_assistant_message as archivedAssistantMessage, archived_user_message as archivedUserMessage, archived_reason as archivedReason, source_cwd as sourceCwd, thread_id as threadId, read_at as readAt, created_at as createdAt, status").get(e,t)??null:null}const yl=256*1024*1024,KD=512*1024*1024,y9=Le("ipc");function is(){if(process.platform==="win32")return ec.join("\\\\.\\pipe","codex-ipc");const t=ec.join(kt.tmpdir(),"codex-ipc");sl.existsSync(t)||sl.mkdirSync(t,{recursive:!0});const e=process.getuid?.();return ec.join(t,e?`ipc-${e}.sock`:"ipc.sock")}function sF(t,e,n,r){let i=Buffer.alloc(0),s=null;const o=(c,u)=>{const l=c instanceof Error?c:new Error(String(c));try{r.reportNonFatal(l,{kind:"ipc-attachMessageReader",extra:u}),n(l)}catch{}finally{t.off("data",a),t.destroy()}},a=c=>{if(c.length!==0){if(i.length+c.length>KD){o(new Error(`[IPC] Buffer exceeded limit (${KD} bytes), terminating socket`),{bufferLengthBytes:i.length,dataLengthBytes:c.length});return}try{i=Buffer.concat([i,c])}catch(u){o(u);return}for(;;){if(s==null){if(i.length<4)return;if(s=i.readUInt32LE(0),i=i.subarray(4),s>yl){o(new Error(`[IPC] Frame exceeded limit (${s} > ${yl} bytes)`));return}}if(s==null||i.length<s)return;const u=i.subarray(0,s);i=i.subarray(s),s=null;let l;try{l=JSON.parse(u.toString("utf8"))}catch(p){o(p);return}try{e(l)}catch(p){o(p);return}}}};return t.on("data",a),()=>t.off("data",a)}function it(t,e,n){const r=n??aF(e);y9().trace("Write message",{safe:{frameBytes:r.length},sensitive:{}}),t.write(r)}function oF(t){const e=Buffer.byteLength(t,"utf8"),n=Buffer.alloc(4+e);return n.writeUInt32LE(e,0),n.write(t,4,"utf8"),n}function aF(t){return oF(JSON.stringify(t))}const ZD=1e4;class x9{constructor(e,n){this.server=e,this.errorReporter=n}logger=bn("IpcRouter");clients=new Map;clientsById=new Map;pendingRequests=new Map;pendingClientDiscoveryRequests=new Map;start(){this.server.on("connection",e=>{this.logger.info("I am the router");const n=sF(e,i=>void this.handleMessage(e,i),i=>{this.logger.error("Failed to parse message",{safe:{},sensitive:{error:i}}),e.destroy()},this.errorReporter),r=()=>{n(),this.unregisterClient(e)};e.on("close",r),e.on("end",r),e.on("error",i=>{this.logger.warning("Socket error",{safe:{},sensitive:{error:i}})})}),this.server.on("close",()=>{this.logger.info("Server closed"),this.clients.clear(),this.clientsById.clear();for(const[e,n]of this.pendingRequests.entries())clearTimeout(n.timeout),this.pendingRequests.delete(e),n.sourceSocket.writable&&it(n.sourceSocket,{type:"response",requestId:n.originalRequestId,resultType:"error",error:"server-closed"});for(const[,e]of this.pendingClientDiscoveryRequests.entries())clearTimeout(e.timeout),e.reject(new Error("server-closed"));this.pendingClientDiscoveryRequests.clear()})}async handleMessage(e,n){switch(n.type){case"broadcast":{this.handleBroadcast(e,n);return}case"request":{this.handleRequest(e,n);return}case"response":{this.handleResponse(n);return}case"client-discovery-request":{this.logger.warning("Received unexpected client discovery request");return}case"client-discovery-response":{this.handleClientDiscoveryResponse(n);return}}}async handleBroadcast(e,n){const i=this.clients.get(e)?.id??n.sourceClientId,s={...n,sourceClientId:i},o=aF(s);for(const a of this.clients.values())a.socket!==e&&a.socket.writable&&it(a.socket,s,o)}async handleRequest(e,n){if(n.method==="initialize"){this.registerClient(e,n.requestId,n.params);return}try{const r=await this.findClientForRequest(e,n);this.forwardRequest(e,n,r)}catch{it(e,{type:"response",requestId:n.requestId,resultType:"error",error:"no-client-found"})}}async handleResponse(e){const n=this.pendingRequests.get(e.requestId);if(!n){this.logger.warning("No pending request found for response",{safe:{requestId:e.requestId},sensitive:{}});return}clearTimeout(n.timeout),this.pendingRequests.delete(e.requestId),n.sourceSocket.writable&&it(n.sourceSocket,e)}async findClientForRequest(e,n){if(n.targetClientId){const i=this.clientsById.get(n.targetClientId);if(i&&i.socket!==e)return await this.sendClientDiscoveryRequest(n,i),i;throw new Error("client-not-found")}const r=Array.from(this.clients.values()).filter(i=>i.socket!==e);return Promise.any(r.map(i=>this.sendClientDiscoveryRequest(n,i)))}async sendClientDiscoveryRequest(e,n){const r={type:"client-discovery-request",requestId:pc.randomUUID(),request:e},i=new Promise((s,o)=>{this.pendingClientDiscoveryRequests.set(r.requestId,{clientId:n.id,resolve:s,reject:o,timeout:setTimeout(()=>{this.pendingClientDiscoveryRequests.delete(r.requestId),o(new Error("timeout"))},ZD)})});return it(n.socket,r),i}async handleClientDiscoveryResponse(e){const n=this.pendingClientDiscoveryRequests.get(e.requestId);if(!n)return;const r=this.clientsById.get(n.clientId);if(this.pendingClientDiscoveryRequests.delete(e.requestId),clearTimeout(n.timeout),e.response.canHandle&&r){n.resolve(r);return}else e.response.canHandle?n.reject(new Error("client-disconnected")):n.reject(new Error("client-cannot-handle-request"))}registerClient(e,n,r){const i=this.clients.get(e);if(i){this.logger.debug("Client re-registered",{safe:{clientId:i.id,clientType:r.clientType},sensitive:{}}),it(e,{type:"response",requestId:n,resultType:"success",method:"initialize",handledByClientId:i.id,result:{clientId:i.id}});return}const s=pc.randomUUID(),o={id:s,type:r.clientType,socket:e};this.clients.set(e,o),this.clientsById.set(s,o),this.broadcastClientStatus(o,"connected"),it(e,{type:"response",requestId:n,resultType:"success",method:"initialize",handledByClientId:s,result:{clientId:s}})}unregisterClient(e){const n=this.clients.get(e);if(n){this.clients.delete(e),this.clientsById.delete(n.id),this.broadcastClientStatus(n,"disconnected");for(const[r,i]of this.pendingRequests.entries())(i.targetClientId===n.id||i.sourceClientId===n.id)&&(clearTimeout(i.timeout),this.pendingRequests.delete(r),i.sourceClientId!==n.id&&i.sourceSocket.writable&&it(i.sourceSocket,{type:"response",requestId:i.originalRequestId,resultType:"error",error:"client-disconnected"}));for(const[r,i]of this.pendingClientDiscoveryRequests.entries())i.clientId===n.id&&(clearTimeout(i.timeout),this.pendingClientDiscoveryRequests.delete(r),i.reject(new Error("client-disconnected")))}}broadcastClientStatus(e,n){this.logger.debug("Broadcasting client status change to all clients",{safe:{clientId:e.id,status:n},sensitive:{}});const r={type:"broadcast",method:"client-status-changed",sourceClientId:e.id,version:cs("client-status-changed"),params:{clientId:e.id,clientType:e.type,status:n}};for(const i of this.clients.values())i.id!==e.id&&it(i.socket,r)}forwardRequest(e,n,r,i){this.logger.debug("Forwarding message to client",{safe:{method:n.method,targetClientId:r.id},sensitive:{}});const s=n.requestId,o=setTimeout(()=>{const a=this.pendingRequests.get(s);a&&(this.pendingRequests.delete(s),a.sourceSocket.writable&&it(a.sourceSocket,{type:"response",requestId:a.originalRequestId,resultType:"error",error:"request-timeout"}))},ZD);this.pendingRequests.set(s,{sourceClientId:n.sourceClientId??"",sourceSocket:e,targetClientId:r.id,originalRequestId:i??n.requestId,timeout:o}),it(r.socket,{...n,requestId:s})}}class w9{constructor(e){this.errorReporter=e}logger=bn("IpcRouterManager");routerStarted=!1;async startRouterIfNeeded(){if(this.routerStarted){this.logger.debug("Router already started.");return}if(this.logger.debug("Starting router..."),process.platform!=="win32")try{!await this.canConnectToSocket()&&sl.existsSync(is())&&sl.unlinkSync(is())}catch{}const e=yg.createServer(),n=new x9(e,this.errorReporter);e.on("error",r=>{if(r.code==="EADDRINUSE"){this.logger.debug("Another router is active."),e.close();return}this.logger.error("Server error",{safe:{},sensitive:{error:r}})}),e.listen(is(),()=>{this.routerStarted=!0,this.logger.debug("Listening on",{safe:{socketPath:is()},sensitive:{}}),n.start()})}async canConnectToSocket(){const e=is();return new Promise(n=>{const r=yg.connect(e,()=>{r.end(),n(!0)});r.on("error",()=>n(!1))})}}const A9=1e3,D9=5e3,ym="initializing-client";class cF{logger=bn("IpcClient");routerManager;errorReporter;requestHandlers=new Map;broadcastHandlers=new Map;anyBroadcastHandlers=new Set;pendingResponses=new Map;disposed=!1;detachReader=null;clientId=ym;socket=null;constructor(e,n){this.errorReporter=n,this.routerManager=new w9(n),this.connect(e)}async sendBroadcast(e,n){if(!this.socket||!this.socket.writable)throw new Error("not-connected");const r=cs(e),i={type:"broadcast",method:e,sourceClientId:this.clientId,params:n,version:r},s=JSON.stringify(i),o=Buffer.byteLength(s,"utf8");if(o>yl){this.logger.warning("[IPC] Dropping broadcast: payload too large",{safe:{method:e,payloadBytes:o,maxIpcFrameBytes:yl},sensitive:{}});return}const a=oF(s);it(this.socket,i,a)}addBroadcastHandler(e,n){return this.broadcastHandlers.set(e,n),()=>{this.broadcastHandlers.delete(e)}}addAnyBroadcastHandler(e){return this.anyBroadcastHandlers.add(e),()=>{this.anyBroadcastHandlers.delete(e)}}async sendRequest(e,n,{targetClientId:r}={}){const i=this.socket;if(!i||!i.writable)throw new Error("not-connected");if(this.clientId===ym&&e!=="initialize")throw new Error("not-initialized");const s={type:"request",requestId:Ke.randomUUID(),sourceClientId:this.clientId,version:cd(e),method:e,params:n,targetClientId:r};return new Promise((o,a)=>{const c=setTimeout(()=>{this.pendingResponses.delete(s.requestId),a(new Error("timeout"))},D9);this.pendingResponses.set(s.requestId,{resolve:u=>{o(u)},reject:a,timer:c}),it(i,s)})}addRequestHandler(e,n,r){return this.requestHandlers.set(e,[n,r]),()=>{this.requestHandlers.delete(e)}}async connect(e){if(this.disposed)return;try{await this.routerManager.startRouterIfNeeded()}catch(r){this.logger.warning("Unable to start router if needed",{safe:{},sensitive:{error:r}})}const n=is();await new Promise(r=>{const i=yg.connect(n,()=>{if(this.disposed){i.destroy(),r();return}this.socket=i,this.detachReader=sF(i,s=>this.handleMessage(s),s=>{this.logger.warning("Failed to parse message",{safe:{},sensitive:{err:s}}),i.destroy()},this.errorReporter),this.sendRequest("initialize",{clientType:e}).then(s=>{s.resultType==="success"&&s.method==="initialize"&&(this.clientId=s.result.clientId)}).catch(s=>{this.logger.warning("Initialize failed",{safe:{},sensitive:{error:s}}),i.destroy()}),r()});i.on("error",s=>{this.logger.debug("Connect error",{safe:{},sensitive:{error:s}}),r()}),i.on("close",()=>{this.detachReader&&(this.detachReader(),this.detachReader=null),this.clientId=ym;for(const[s,o]of this.pendingResponses.entries())clearTimeout(o.timer),o.reject(new Error("connection-closed")),this.pendingResponses.delete(s);this.disposed||setTimeout(()=>this.connect(e),A9)})})}async handleMessage(e){switch(e.type){case"broadcast":{this.handleBroadcast(e);return}case"client-discovery-request":{this.handleClientDiscoveryRequest(e);return}case"client-discovery-response":{this.logger.warning("Received unexpected client discovery response");return}case"response":{const n=this.pendingResponses.get(e.requestId);n&&(this.pendingResponses.delete(e.requestId),clearTimeout(n.timer),n.resolve(e),e.resultType==="success"&&e.method==="initialize"&&(this.clientId=e.result.clientId));return}case"request":{this.handleRequest(e);return}}}async handleBroadcast(e){const n=this.broadcastHandlers.get(e.method);if(this.anyBroadcastHandlers.size>0&&await Promise.all(Array.from(this.anyBroadcastHandlers).map(r=>r(e))),n){await n(e);return}this.anyBroadcastHandlers.size===0&&this.logger.warning("Received broadcast but no handler is configured",{safe:{method:e.method},sensitive:{}})}async handleClientDiscoveryRequest(e){const n=this.socket;if(!n){this.logger.warning("Received ipc request but there is no socket");return}const r=e.request,i=cd(r.method);if((r.version??0)!==i){it(n,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:!1}});return}try{const o=this.requestHandlers.get(r.method);if(!o){it(n,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:!1}});return}const[a]=o,c=await a(r.params);it(n,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:c}})}catch{it(n,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:!1}})}}async handleRequest(e){const n=this.socket;if(!n){this.logger.warning("Received ipc request but there is no socket");return}const r=cd(e.method);if((e.version??0)!==r){it(n,{type:"response",requestId:e.requestId,resultType:"error",error:"request-version-mismatch"});return}try{const s=this.requestHandlers.get(e.method);if(!s){this.logger.warning("Received ipc request but no handler is configured",{safe:{method:e.method},sensitive:{}}),it(n,{type:"response",requestId:e.requestId,resultType:"error",error:"no-handler-for-request"});return}const[o,a]=s,c=await a(e);it(n,{type:"response",requestId:e.requestId,resultType:"success",method:e.method,handledByClientId:this.clientId,result:c})}catch(s){it(n,{type:"response",requestId:e.requestId,resultType:"error",error:s instanceof Error?s.message:"error-handling-request"})}}dispose(){this.disposed=!0;for(const[,e]of this.pendingResponses)clearTimeout(e.timer),e.reject(new Error("disposed"));this.pendingResponses.clear(),this.detachReader&&(this.detachReader(),this.detachReader=null),this.socket?.destroy()}getClientId(){return this.clientId}}function R9(t,e=B){return t==="~"||t.startsWith("~/")||t.startsWith("~\\")?!0:e.isAbsolute(t)}const XD={error:0,warning:1,info:2,debug:3,trace:4};function uF(t,e){return XD[t]<=XD[e]}function lF(t){const e=I9(process.env.CODEX_MAX_LOG_LEVEL);if(e!=null)return e;switch(t){case"prod":return"info";case"internal-alpha":case"public-beta":return"debug";case"agent":case"dev":return"trace"}}function I9(t){const e=t?.trim().toLowerCase()??"";switch(e){case"error":case"warning":case"info":case"debug":case"trace":return e;default:return null}}const C9=[100,250,500,1e3,2500,5e3],O9=[64*1024,256*1024,1024*1024],N9=2e4,k9=1024,P9=200,M9=8,L9=200,U9=8,F9=8,$9=8,B9=160;class j9{lineQueue;lineSizeTracker;lineDrainHandle=null;options;constructor(e){this.options={...e,queueDepthThresholds:e.queueDepthThresholds??Array.from(C9),lineSizeThresholds:e.lineSizeThresholds??Array.from(O9),queueCompactionMinConsumedLines:e.queueCompactionMinConsumedLines??k9,queueOverflowDepth:e.queueOverflowDepth??N9,drainMaxLinesPerSlice:e.drainMaxLinesPerSlice??P9,drainMaxSliceMs:e.drainMaxSliceMs??M9,drainRemainingLogThreshold:e.drainRemainingLogThreshold??L9,slowDrainSliceMs:e.slowDrainSliceMs??U9,slowParseMs:e.slowParseMs??F9,slowDispatchMs:e.slowDispatchMs??$9,parseFailurePreviewMaxChars:e.parseFailurePreviewMaxChars??B9},this.lineQueue=new HU({compactionMinConsumedItems:this.options.queueCompactionMinConsumedLines,depthThresholds:this.options.queueDepthThresholds}),this.lineSizeTracker=new AE(this.options.lineSizeThresholds)}handleIncomingData(e){const n=this.options.decodePayload(e);if(n.length===0)return;const r=this.lineQueue.enqueueMany(n);for(const s of r)this.options.logger.debug("incoming_line_queue_depth_threshold",{safe:{threshold:s.threshold,queueDepth:s.queueDepth,linesInBatch:n.length,queueDepthHighWaterMark:s.queueDepthHighWaterMark},sensitive:{}});const i=this.getQueueDepth();if(i>=this.options.queueOverflowDepth){this.options.onQueueOverflow(i,this.options.queueOverflowDepth);return}this.scheduleLineDrain()}flush(){this.drainLineQueue(!0)}reset(){this.lineDrainHandle&&(clearImmediate(this.lineDrainHandle),this.lineDrainHandle=null),this.lineQueue.clear()}getQueueDepth(){return this.lineQueue.getDepth()}getQueueDepthHighWaterMark(){return this.lineQueue.getQueueDepthHighWaterMark()}getLineBytesHighWaterMark(){return this.lineSizeTracker.getHighWaterMark()}scheduleLineDrain(){this.lineDrainHandle||(this.lineDrainHandle=setImmediate(()=>{this.lineDrainHandle=null,this.drainLineQueue(!1)}))}drainLineQueue(e){if(this.lineQueue.getDepth()===0)return;const n=this.lineQueue.drain({flushAll:e,maxItemsPerSlice:this.options.drainMaxLinesPerSlice,maxSliceMs:this.options.drainMaxSliceMs,onItem:r=>{this.handleIncomingLine(r)}});if((n.durationMs>=this.options.slowDrainSliceMs||n.remainingCount>=this.options.drainRemainingLogThreshold)&&this.options.logger.debug("incoming_line_queue_drain_slice",{safe:{flushAll:e,drainedCount:n.drainedCount,queueRemaining:n.remainingCount,drainDurationMs:n.durationMs,queueDepthHighWaterMark:n.queueDepthHighWaterMark},sensitive:{}}),n.drainedAll){this.options.queueDepthThresholds.length>0&&n.queueDepthHighWaterMark>=this.options.queueDepthThresholds[0]&&this.options.logger.debug("incoming_line_queue_drained",{safe:{queueDepthHighWaterMark:n.queueDepthHighWaterMark},sensitive:{}});return}e||this.scheduleLineDrain()}handleIncomingLine(e){const n=e.trim();if(!n)return;const r=Buffer.byteLength(n,"utf8");this.trackIncomingLineBytes(r);const i=Date.now();let s;try{s=JSON.parse(n)}catch(u){const l=n.slice(0,this.options.parseFailurePreviewMaxChars).replaceAll("\r","\\r").replaceAll(`
`,"\\n");this.options.logger.error("Failed to parse MCP message",{safe:{lineBytes:r,linePreview:l,linePreviewTruncated:n.length>this.options.parseFailurePreviewMaxChars},sensitive:{error:u}}),this.options.logger.debug("incoming_line_parse_failed",{safe:{lineBytes:r,parseDurationMs:Date.now()-i,queueDepth:this.lineQueue.getDepth()},sensitive:{}});return}const o=Date.now()-i,a=Date.now(),c=this.options.onMessage(s);this.maybeLogIncomingLineProcessing({routeKind:c.routeKind,method:c.method,lineBytes:r,parseDurationMs:o,dispatchDurationMs:Date.now()-a})}trackIncomingLineBytes(e){const n=this.lineSizeTracker.track(e);for(const r of n)this.options.logger.debug("incoming_line_size_threshold",{safe:{threshold:r.threshold,lineBytes:r.sizeBytes,lineBytesHighWaterMark:r.sizeBytesHighWaterMark},sensitive:{}})}maybeLogIncomingLineProcessing(e){const n=this.options.lineSizeThresholds[0]??1/0;e.parseDurationMs<this.options.slowParseMs&&e.dispatchDurationMs<this.options.slowDispatchMs&&e.lineBytes<n||this.options.logger.debug("incoming_line_processed",{safe:{routeKind:e.routeKind,method:e.method,lineBytes:e.lineBytes,parseDurationMs:e.parseDurationMs,dispatchDurationMs:e.dispatchDurationMs,queueDepth:this.lineQueue.getDepth()},sensitive:{}})}}const pF=Pr.promisify(Ht.execFile),dF=2e3,fF=1024*1024;async function V9(t){return process.platform==="win32"?G9(t):z9(t)}async function z9(t){const{stdout:e}=await pF("ps",["-ax","-o","pid=,ppid=,etime=,command="],{encoding:"utf8",timeout:dF,maxBuffer:fF}),n=q9(e);return mF(n,t)}async function G9(t){const e=["$ErrorActionPreference = 'Stop';","Get-CimInstance Win32_Process","| Select-Object ProcessId,ParentProcessId,CommandLine,@{Name='AgeSeconds';Expression={[int]((Get-Date) - $_.CreationDate).TotalSeconds}}","| ConvertTo-Json -Depth 2"].join(" "),{stdout:n}=await pF("powershell.exe",["-NoProfile","-NonInteractive","-Command",e],{encoding:"utf8",timeout:dF,maxBuffer:fF,windowsHide:!0}),r=H9(n);return mF(r,t)}function q9(t){const e=[],n=t.split(`
`);for(const r of n){const i=r.trim();if(!i)continue;const s=/^(\d+)\s+(\d+)\s+(\S+)\s+(.+)$/.exec(i);if(!s)continue;const o=Number.parseInt(s[1],10),a=Number.parseInt(s[2],10);if(!Number.isFinite(o)||!Number.isFinite(a))continue;const c=W9(s[3]);e.push({pid:o,parentPid:a,command:s[4].trim(),ageSeconds:c})}return e}function H9(t){const e=t.trim();if(!e)return[];let n=null;try{n=JSON.parse(e)}catch{return[]}const r=Array.isArray(n)?n:[n],i=[];for(const s of r){if(!s||typeof s!="object")continue;const o=s,a=Number(o.ProcessId),c=Number(o.ParentProcessId);if(!Number.isFinite(a)||!Number.isFinite(c))continue;const u=typeof o.CommandLine=="string"?o.CommandLine.trim():"",l=typeof o.AgeSeconds=="number"&&Number.isFinite(o.AgeSeconds)?Math.max(0,Math.floor(o.AgeSeconds)):null;i.push({pid:a,parentPid:c,command:u,ageSeconds:l})}return i}function W9(t){const e=t.trim();if(e.length===0)return null;let n=0,r=e;const i=e.indexOf("-");if(i>=0){const l=Number.parseInt(e.slice(0,i),10);if(!Number.isFinite(l))return null;n=l,r=e.slice(i+1)}const s=r.split(":");if(s.length<2||s.length>3)return null;let o=0,a=0,c=0;if(s.length===2){const l=Number.parseInt(s[0],10),p=Number.parseInt(s[1],10);if(!Number.isFinite(l)||!Number.isFinite(p))return null;a=l,c=p}else{const l=Number.parseInt(s[0],10),p=Number.parseInt(s[1],10),d=Number.parseInt(s[2],10);if(!Number.isFinite(l)||!Number.isFinite(p)||!Number.isFinite(d))return null;o=l,a=p,c=d}const u=c+a*60+o*3600+n*86400;return Number.isFinite(u)?u:null}function mF(t,e){const n=new Map,r=new Map;for(const c of t){n.set(c.pid,c);let u=r.get(c.parentPid);u||(u=[],r.set(c.parentPid,u)),u.push(c.pid)}const i=[],s=[],o=r.get(e);o&&s.push(...o);const a=new Set;for(;s.length>0;){const c=s.shift();if(c===void 0||a.has(c))continue;a.add(c);const u=n.get(c);u&&i.push(u);const l=r.get(c);l&&s.push(...l)}return i}const JD=Le("prompts");async function Y9(t){const e=B.join(wn({preferWsl:!1}),"prompts");let n;try{n=await Y.promises.readdir(e,{withFileTypes:!0})}catch(i){return i.code!=="ENOENT"&&JD().warning("Failed to read prompts",{safe:{},sensitive:{error:i}}),[]}const r=[];return await Promise.all(n.filter(i=>i.isFile()&&i.name.endsWith(".md")).map(async i=>{try{const s=await Y.promises.readFile(B.join(e,i.name),"utf8"),{description:o,argumentHint:a,content:c}=K9(s);r.push({id:B.parse(i.name).name,description:o??null,argumentHint:a??null,content:c})}catch(s){JD().debug("Failed to load prompt",{safe:{},sensitive:{promptFilename:i.name,error:s}})}})),r.sort((i,s)=>i.id.localeCompare(s.id))}function K9(t){const e=t.match(/^---\s*\n([\s\S]*?)\n---\s*/);if(!e)return{content:t.trim()};const n={},r=e[1].split(/\r?\n/);for(const s of r){const o=s.indexOf(":");if(o===-1)continue;const a=s.slice(0,o).trim(),u=s.slice(o+1).trim().replace(/^['"](.*)['"]$/,"$1");a==="description"?n.description=u:a==="argument-hint"&&(n.argumentHint=u)}const i=t.slice(e[0].length).trim();return{...n,content:i}}const Hg=18,xl=36,Z9=200,hF="gpt-5.1-codex-mini",gF="low";function X9(t){return["You are a helpful assistant. You will be presented with a user prompt, and your job is to provide a short title for a task that will be created from that prompt.","The tasks typically have to do with coding-related tasks, for example requests for bug fixes or questions about a codebase. The title you generate will be shown in the UI to represent the prompt.",`Generate a concise UI title (${Hg}-${xl} characters) for this task.`,"Return only the title. No quotes or trailing punctuation.","Do not use markdown or formatting characters.","If the task includes a ticket reference (e.g. ABC-123), include it verbatim.","","Generate a clear, informative task title based solely on the prompt provided. Follow the rules below to ensure consistency, readability, and usefulness.","","How to write a good title:","Generate a single-line title that captures the question or core change requested. The title should be easy to scan and useful in changelogs or review queues.",'- Use an imperative verb first: "Add", "Fix", "Update", "Refactor", "Remove", "Locate", "Find", etc.',`- Aim for ${Hg}-${xl} characters; keep under 5 words where possible.`,"- Capitalize only the first word (unless locale requires otherwise).","- Write the title in the user's locale.","- Do not use punctuation at the end.","- Output the title as plain text with no surrounding quotes or backticks.","- Use precise, non-redundant language.",`- Translate fixed phrases into the user's locale (e.g., "Fix bug" -> "Corrige el error" in Spanish-ES), but leave code terms in English unless a widely adopted translation exists.`,"- If the user provides a title explicitly, reuse it (translated if needed) and skip generation logic.",'- Make it clear when the user is requesting changes (use verbs like "Fix", "Add", etc) vs asking a question (use verbs like "Find", "Locate", "Count").',"- Do NOT respond to the user, answer questions, or attempt to solve the problem; just write a title that can represent the user's query.","","Examples:",'- User: "Can we add dark-mode support to the settings page?" -> Add dark-mode support','- User: "Fehlerbehebung: Beim Anmelden erscheint 500." (de-DE) -> Login-Fehler 500 beheben','- User: "Refactoriser le composant sidebar pour réduire le code dupliqué." (fr-FR) -> Refactoriser composant sidebar','- User: "How do I fix our login bug?" -> Troubleshoot login bug','- User: "Where in the codebase is foo_bar created" -> Locate foo_bar',`- User: "what's 2+2" -> Calculate 2+2`,"","By following these conventions, your titles will be readable, changelog-friendly, and helpful to both users and downstream tools.","","User prompt:",t].join(`
`)}function xm(t){let n=(t.replace(/\r\n/g,`
`).split(`
`).find(r=>r.trim().length>0)??"").trim();return n.length===0||(n=n.replace(/^title[:\s]+/i,""),n=n.replace(/^[`"'\u201c\u201d\u2018\u2019]+|[`"'\u201c\u201d\u2018\u2019]+$/g,""),n=n.replace(/\s+/g," ").trim(),n=n.replace(/[.?!]+$/,"").trim(),n.length===0)||n.length<Hg?null:n.length>xl?`${n.slice(0,xl-1).trimEnd()}…`:n}function _F(t){if(!t||typeof t!="object"||Array.isArray(t))return{titles:{},order:[]};const e=t,n={};if(e.titles&&typeof e.titles=="object")for(const[i,s]of Object.entries(e.titles))typeof s=="string"&&s.trim().length>0&&(n[i]=s);else for(const[i,s]of Object.entries(t))typeof s=="string"&&s.trim().length>0&&(n[i]=s);const r=Array.isArray(e.order)?e.order.filter(i=>typeof i=="string"&&i in n):[];for(const i of Object.keys(n))r.includes(i)||r.push(i);return J9({titles:n,order:r},Z9)}function J9(t,e){if(t.order.length<=e)return t;const n={...t.titles},r=[...t.order];for(;r.length>e;){const i=r.pop();i&&delete n[i]}return{titles:n,order:r}}const Q9=45e3,QD=3e4,wl=120,eR=8e3,eZ={type:"object",additionalProperties:!1,required:["title","body"],properties:{title:{type:"string",minLength:8,maxLength:wl},body:{type:"string",minLength:12}}},tZ=zn({title:at(),body:at()});async function nZ({prompt:t,cwd:e,client:n,timeoutMs:r=Q9}){const i=t.trim();if(i.length===0)return null;const s=i.length>QD?i.slice(0,QD):i,o=rZ(s);return N1({prompt:o,cwd:e,model:hF,effort:gF,schema:eZ,config:{web_search:"disabled"},timeoutMs:r,client:n,parse:iZ})}function rZ(t){return["You are a helpful assistant. Generate a pull request title and body.","Return a JSON object with keys: title, body.","Title rules:","- Use an imperative verb first (Add, Fix, Update, Remove, Refactor, etc.).",`- Keep the title under ${wl} characters.`,"- No trailing punctuation.","Body rules:","- Keep the body concise and scannable.","- Use Markdown with short bullets.","- Include a Summary section and a Testing section.",'- If tests were not run, say "Not run (not requested)".',"- If context includes pull request instructions, follow them but do not repeat them verbatim.","","Context:",t].join(`
`)}function iZ(t){const e=t?.trim();if(!e)return null;try{const a=tZ.safeParse(JSON.parse(e));if(a.success){const c=wm(a.data.title),u=Am(a.data.body);if(c&&u)return{title:c,body:u}}}catch{}const n=e.match(/title\s*:\s*(.+)/i),r=e.match(/body\s*:\s*([\s\S]+)/i);if(n&&r){const a=wm(n[1]??""),c=Am(r[1]??"");if(a&&c)return{title:a,body:c}}const i=e.split(/\r?\n/),s=wm(i[0]??""),o=Am(i.slice(1).join(`
`));return s&&o?{title:s,body:o}:null}function wm(t){return t.length===0?null:t.length>wl?t.slice(0,wl):t}function Am(t){return t.length===0?null:t.length>eR?t.slice(0,eR):t}class sZ{store={};subscribers=new Set;get(e){if(e in this.store)return this.store[e]}set(e,n){n===void 0?delete this.store[e]:this.store[e]=n,this.notifySubscribers(e,n)}addSubscriber(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}notifySubscribers(e,n){this.subscribers.forEach(r=>r(e,n))}}const oZ=Le("recommended-skills"),aZ="https://github.com/openai/skills.git",cZ="main",vF=["skills",".curated"],uZ=["skills",".experimental"],lZ=[vF,uZ],pZ=10*6e4,Al=3e4;async function Wg({refresh:t=!1,preferWsl:e=!1,bundledRepoRoot:n=null,hostConfig:r}){const i=Oe(r)?r.terminal_command.join(" "):void 0,s=Oe(r)?await Us(r):wn({preferWsl:e}),o=Ce(r),a=o.join(s,"vendor_imports"),c=o.join(a,"skills"),u=xZ(o),l=wZ(o),p=l.map(b=>o.join(c,b)),d=o.join(c,u),f=o.join(a,"skills-curated-cache.json"),m=i||!n?null:o.resolve(n),h=m?l.map(b=>o.join(m,b)):null,g=m?o.join(m,u):null,_=await yZ(f,r),S=t||!_||TZ(_),v=await Mn(o.join(c,".git"),r),T=await Mn(d,r),y=g?await Mn(g,r):!1;try{if(!t&&!v&&!T&&y){const k=await tR({repoRoot:m??c,recommendedRoots:h??p,path:o,hostConfig:r}),U=Date.now();return await sR(f,{fetchedAt:U,skills:k},r),{skills:k,fetchedAt:U,source:"bundled",repoRoot:m??null,error:null}}let b=!1;S&&(v||!T)&&(await vZ({repoRoot:c,vendorRoot:a,hostConfig:r}),await EZ(c,r),await SZ(c,l,r),b=!0);const x=await tR({repoRoot:c,recommendedRoots:p,path:o,hostConfig:r}),D=b?Date.now():_?.fetchedAt??Date.now();return await sR(f,{fetchedAt:D,skills:x},r),{skills:x,fetchedAt:D,source:b?"git":"cache",repoRoot:c,error:null}}catch(b){const x=b instanceof Error?b.message:String(b),D=!T&&!v&&y&&m?m:c;return oZ().warning("Failed to load recommended skills",{safe:{},sensitive:{error:b}}),_?{skills:_.skills,fetchedAt:_.fetchedAt,source:"cache",repoRoot:D,error:x}:{skills:[],fetchedAt:null,source:"cache",repoRoot:D,error:x}}}async function tR({repoRoot:t,recommendedRoots:e,path:n,hostConfig:r}){const i=new Map,s=await Promise.all(e.map(async o=>dZ({recommendedRoot:o,repoRoot:t,path:n,hostConfig:r})));for(const o of s)for(const a of o)i.has(a.id)||i.set(a.id,a);return Array.from(i.values()).sort((o,a)=>o.name.localeCompare(a.name))}async function dZ({recommendedRoot:t,repoRoot:e,path:n,hostConfig:r}){if(!await Mn(t,r))return[];const i=await ve.readdir(t,r);return(await Promise.all(i.map(async o=>{if(o.startsWith("."))return null;const a=n.join(t,o),u=(await ve.stat(a,r)).isDirectory(),l=u?n.join(a,"SKILL.md"):a;if(!await Mn(l,r))return null;const p=await ve.readFile(l,r),d=fZ(p),f=await hZ({path:n,hostConfig:r,skillRoot:a}),m=u?o:n.parse(o).name,h=d.description??d.shortDescription??m,g=await _Z({path:n,hostConfig:r,skillRoot:a,skillId:m,iconSmall:d.iconSmall??f.iconSmall??null,iconLarge:d.iconLarge??f.iconLarge??null,isDirectory:u}),_=u?iR(n,e,a):iR(n,e,l);return{id:m,name:d.name??m,description:h,shortDescription:d.shortDescription??f.shortDescription,iconSmall:g.iconSmall,iconLarge:g.iconLarge,repoPath:_}}))).filter(o=>o!=null)}const nR={name:"name",description:"description","short-description":"shortDescription",short_description:"shortDescription",shortDescription:"shortDescription","icon-small":"iconSmall",icon_small:"iconSmall",iconSmall:"iconSmall","icon-large":"iconLarge",icon_large:"iconLarge",iconLarge:"iconLarge"};function Yg(t){return t.replace(/^['"](.*)['"]$/,"$1").replace(/\\(["\\])/g,"$1")}function fZ(t){const e=t.match(/^---\s*\n([\s\S]*?)\n---\s*/);if(!e)return{};const n={},r=e[1].split(/\r?\n/);let i=!1,s=!1;for(const o of r){if(o.trim().length===0)continue;if(!/^\s+/.test(o)){i=!1,s=!1;const m=o.indexOf(":");if(m===-1)continue;const h=o.slice(0,m).trim(),g=o.slice(m+1).trim(),_=Yg(g),S=nR[h];S?n[S]=_:h==="metadata"?i=!0:h==="interface"&&(s=!0);continue}if(!i&&!s)continue;const c=o.trim(),u=c.indexOf(":");if(u===-1)continue;const l=c.slice(0,u).trim(),p=c.slice(u+1).trim(),d=Yg(p),f=nR[l];f&&(f==="name"||f==="description"||(n[f]=d))}return n}const mZ={short_description:"shortDescription",shortDescription:"shortDescription","short-description":"shortDescription",icon_small:"iconSmall",iconSmall:"iconSmall","icon-small":"iconSmall",icon_large:"iconLarge",iconLarge:"iconLarge","icon-large":"iconLarge"};async function hZ({path:t,hostConfig:e,skillRoot:n}){const r=t.join(n,"agents","openai.yaml");if(!await Mn(r,e))return{shortDescription:null,iconSmall:null,iconLarge:null};const i=await ve.readFile(r,e);return gZ(i)}function gZ(t){const e={shortDescription:null,iconSmall:null,iconLarge:null},n=t.split(/\r?\n/);let r=!1;for(const i of n){if(!r){i.trim()==="interface:"&&(r=!0);continue}if(/^\S/.test(i)||!/^\s+/.test(i))break;const s=i.trim();if(s.length===0)continue;const o=s.indexOf(":");if(o===-1)continue;const a=s.slice(0,o).trim(),c=s.slice(o+1).trim(),u=mZ[a];if(!u||c.length===0)continue;const l=Yg(c);e[u]=l}return e}async function _Z({path:t,hostConfig:e,skillRoot:n,skillId:r,iconSmall:i,iconLarge:s,isDirectory:o}){if(!o)return{iconSmall:i,iconLarge:s};const a=t.join(n,"assets");if(!await Mn(a,e))return{iconSmall:i,iconLarge:s};const c=i??await rR(a,e,[`${r}-small.svg`,`${r}-small.png`,"small.svg","small.png",`${r}.svg`,`${r}.png`,"icon-small.svg","icon-small.png"],t),u=s??await rR(a,e,[`${r}.png`,`${r}.svg`,"icon.png","icon.svg",`${r}-large.png`,`${r}-large.svg`],t);return{iconSmall:c,iconLarge:u}}async function rR(t,e,n,r){const i=n.map(o=>r.join(t,o));return(await Promise.all(i.map(async o=>await Mn(o,e)?o:null))).find(o=>o!=null)??null}async function vZ({repoRoot:t,vendorRoot:e,hostConfig:n}){const r=Ce(n);if(await Mn(r.join(t,".git"),n))return;if(await Mn(t,n))throw new Error(`Expected ${t} to be a git checkout but found an existing directory`);await ve.mkdir(e,{recursive:!0},n);const i=await pe(e,["clone","--depth","1","--filter=blob:none","--sparse",aZ,t],n,{timeoutMs:Al});if(!i.success)throw new Error(`git clone failed: ${i.stderr||i.stdout}`)}async function EZ(t,e){const n=await pe(t,["fetch","--depth","1","origin",cZ],e,{timeoutMs:Al});if(!n.success)throw new Error(`git fetch failed: ${n.stderr||n.stdout}`);const r=await pe(t,["reset","--hard","FETCH_HEAD"],e,{timeoutMs:Al});if(!r.success)throw new Error(`git reset failed: ${r.stderr||r.stdout}`)}async function SZ(t,e,n){const r=await pe(t,["sparse-checkout","set",...e.map(i=>bZ(i))],n,{timeoutMs:Al});if(!r.success)throw new Error(`git sparse-checkout failed: ${r.stderr||r.stdout}`)}function bZ(t){return t.replace(/\\/g,"/")}function iR(t,e,n){return t.relative(e,n).split(t.sep).join("/")}function TZ(t){return Date.now()-t.fetchedAt>pZ}async function Mn(t,e){try{return await ve.stat(t,e),!0}catch{return!1}}async function yZ(t,e){try{const n=await ve.readFile(t,e),r=JSON.parse(n);return typeof r.fetchedAt!="number"||!Array.isArray(r.skills)?null:r}catch{return null}}async function sR(t,e,n){const r=Ce(n);await ve.mkdir(r.dirname(t),{recursive:!0},n),await ve.writeFile(t,JSON.stringify(e),n)}function xZ(t){return t.join(...vF)}function wZ(t){return lZ.map(e=>t.join(...e))}async function AZ({skillId:t,repoPath:e,installRoot:n,preferWsl:r=!1,bundledRepoRoot:i=null,hostConfig:s}){const o=Oe(s)?s.terminal_command.join(" "):void 0,a=Oe(s)?await Us(s):wn({preferWsl:r}),c=Ce(s),u=c.join(a,"vendor_imports","skills"),l=o||!i?null:c.resolve(i);let p=await oR({repoRoot:u,bundledRepoRoot:l,repoPath:e,hostConfig:s});if(p||(await Wg({refresh:!0,preferWsl:r,bundledRepoRoot:l,hostConfig:s}),p=await oR({repoRoot:u,bundledRepoRoot:l,repoPath:e,hostConfig:s})),!p)throw new Error(`Recommended skill not found at ${e}`);const d=n?c.join(n,".codex","skills"):c.join(a,"skills"),f=c.join(d,t);return await Kg(f,s)?{destination:f}:(await ve.mkdir(d,{recursive:!0},s),(await ve.stat(p,s)).isDirectory()?await ve.cp(p,f,{recursive:!0},s):(await ve.mkdir(f,{recursive:!0},s),await ve.copyFile(p,c.join(f,"SKILL.md"),s)),{destination:f})}async function oR({repoRoot:t,bundledRepoRoot:e,repoPath:n,hostConfig:r}){const i=aR(t,n,r);if(await Kg(i,r))return i;if(!e)return null;const s=aR(e,n,r);return await Kg(s,r)?s:null}function aR(t,e,n){const r=Ce(n),i=e.split("/").join(r.sep),s=r.resolve(t,i),o=r.resolve(t);if(s===o||s.startsWith(`${o}${r.sep}`))return s;throw new Error(`Invalid skill repo path: ${e}`)}async function Kg(t,e){try{return await ve.stat(t,e),!0}catch{return!1}}async function DZ({skillPath:t,preferWsl:e=!1,hostConfig:n}){const r=Oe(n)?await Us(n):wn({preferWsl:e}),s=Ce(n).resolve(r,"skills"),o=RZ({skillPath:t,codexHome:r,root:s,hostConfig:n}),a=await IZ({candidates:o,hostConfig:n});if(!a)throw new Error(`Skill path is not removable: ${t}`);return await ve.rm(a,{recursive:!0,force:!0},n),{deletedPath:a}}function RZ({skillPath:t,codexHome:e,root:n,hostConfig:r}){const i=Ce(r),s=new Set,o=t.replace(/[\\/]+$/,""),a=o.replace(/\\/g,"/"),c=i.dirname(e);return s.add(i.resolve(o)),a.startsWith(".codex/")&&s.add(i.resolve(c,o)),a.startsWith("skills/")&&s.add(i.resolve(n,a.slice(7))),s.add(i.resolve(e,o)),s.add(i.resolve(n,o)),Array.from(s)}async function IZ({candidates:t,hostConfig:e}){const n=Ce(e);return(await Promise.all(t.map(async i=>{const s=await OZ(i,e);if(!s)return null;const o=s.isDirectory()?i:n.dirname(i);return CZ(o,n)?o:null}))).find(i=>i!=null)??null}function CZ(t,e){const n=e.resolve(t),r=n.split(e.sep).filter(Boolean),i=NZ(r);if(i==null)return!1;const s=e.join(e.sep,...r.slice(0,i+2));return n!==s&&n.startsWith(`${s}${e.sep}`)}async function OZ(t,e){try{return await ve.stat(t,e)}catch{return null}}function NZ(t){for(let e=0;e<t.length-1;e+=1)if(t[e]===".codex"&&t[e+1]==="skills")return e;return null}const kZ=3e4,cR=2e3,PZ={type:"object",additionalProperties:!1,required:["title"],properties:{title:{type:"string",minLength:18,maxLength:36}}};async function MZ({prompt:t,cwd:e,client:n,timeoutMs:r=kZ}){const i=t.trim();if(i.length===0)return null;const s=i.length>cR?i.slice(0,cR):i,o=X9(s);return N1({prompt:o,cwd:e,model:hF,effort:gF,schema:PZ,config:{web_search:"disabled"},timeoutMs:r,client:n,parse:LZ})}function LZ(t){const e=t?.trim();if(!e)return null;try{const n=JSON.parse(e);if(typeof n.title=="string")return xm(n.title)}catch{return xm(e)}return xm(e)}const ft="local",EF="Local",UZ=Le("content-tracing");async function FZ(t){const e=R.app.getAppMetrics().map(o=>({pid:o.pid,type:o.type,memory:o.memory==null?null:{workingSetSize:o.memory.workingSetSize,peakWorkingSetSize:o.memory.peakWorkingSetSize,privateBytes:o.memory.privateBytes??0,sharedBytes:0}})),n=t==null||t.isDestroyed()?null:await(async()=>{const o=t.webContents;if(typeof o.getProcessMemoryInfo=="function")return o.getProcessMemoryInfo().then(u=>({private:u.private,shared:u.shared,residentSet:u.residentSet})).catch(()=>null);const a=o.getOSProcessId();if(a<=0)return null;const c=e.find(u=>u.pid===a);return c?.memory==null?null:{private:c.memory.privateBytes,shared:c.memory.sharedBytes,residentSet:c.memory.workingSetSize}})(),r=Object.fromEntries(Object.entries(R.app.getGPUFeatureStatus()));let i=null,s=null;try{const o=await R.app.getGPUInfo("basic"),a=$Z(o),c=a?.gpuDevice??[],u=c.find(d=>d.active)??c[0];i=u?.vendorString??(u?.vendorId!=null?String(u.vendorId):null);const l=a?.auxAttributes??{},p=l.glRenderer??l.gl_renderer;s=typeof p=="string"?p:null}catch(o){UZ().warning("Failed to collect GPU info for trace upload.",{safe:{},sensitive:{error:o}})}return{appMetrics:e,rendererMemory:n,gpuFeatureStatus:r,gpuVendor:i,gpuRenderer:s,hardwareAccelerationEnabled:!R.app.commandLine.hasSwitch("disable-gpu")}}function $Z(t){return t==null||typeof t!="object"?null:t}const qi=Ke.randomUUID(),BZ=Pr.promisify(SN.gzip),uR="application/x-sentry-envelope",jZ="application/gzip",VZ="Desktop content trace recording",zZ="content-tracing",GZ=Buffer.from(`
`);async function qZ({tracePath:t,buildFlavor:e,buildNumber:n,appVersion:r,traceRecordingNote:i,recordingDurationMs:s,correlation:o,runtimeHealth:a}){const c=await Vn.readFile(t),u=await BZ(c),l=c.byteLength,p=u.byteLength,d=YZ(c),f=`${B.basename(t)}.gz`,m=new Date,h=Ke.randomUUID().replaceAll("-",""),g=HZ({buildFlavor:e,buildNumber:n,appVersion:r,eventId:h,now:m,traceFileName:f,gzippedTraceContents:u,traceRecordingNote:i?.trim()??null,recordingDurationMs:s??null,correlation:o??null,runtimeHealth:a??null,traceByteLength:l,traceGzipByteLength:p,traceEventCount:d}),_=WZ(jc),S=new Blob([Uint8Array.from(g)],{type:uR}),v=await fetch(_,{method:"POST",headers:{"Content-Type":uR},body:S});if(v.ok)return;const T=await v.text();throw new Error(`Trace upload failed with status ${v.status} ${v.statusText}${T?`: ${T}`:""}`)}function HZ({buildFlavor:t,buildNumber:e,appVersion:n,eventId:r,now:i,traceFileName:s,gzippedTraceContents:o,traceRecordingNote:a,recordingDurationMs:c,correlation:u,runtimeHealth:l,traceByteLength:p,traceGzipByteLength:d,traceEventCount:f}){const m=i.toISOString(),h=Re.cpus(),g=h[0]?.model,_=typeof Re.version=="function"?Re.version():void 0,S=process.versions.electron!=null?"Electron":"Node.js",v=process.versions.electron??process.versions.node??"unknown",T={event_id:r,timestamp:m,platform:"javascript",level:"info",logger:zZ,message:VZ,environment:t,release:bE(n),server_name:Re.hostname(),contexts:{app:{app_name:"Codex",app_version:n,...e!=null?{app_build:e}:{}},os:{name:Re.type(),version:Re.release(),..._!=null?{kernel_version:_}:{}},runtime:{name:S,version:v},device:{arch:process.arch,processor_count:h.length,memory_size:Re.totalmem(),free_memory:Re.freemem(),...g!=null&&g.length>0?{model:g}:{}},trace_recording:{duration_ms:c,trace_size_bytes:p,trace_gzip_size_bytes:d,trace_event_count:f,conversation_id:u?.conversationId??null,host_id:u?.hostId??null,window_id:u?.windowId??null},runtime_health:{load_average:Re.loadavg(),uptime_seconds:Re.uptime(),app_metrics:l?.appMetrics??[],renderer_memory:l?.rendererMemory??null,gpu_feature_status:l?.gpuFeatureStatus??{},gpu_vendor:l?.gpuVendor??null,gpu_renderer:l?.gpuRenderer??null,hardware_acceleration_enabled:l?.hardwareAccelerationEnabled??null}},tags:{trace_recording:"content-trace",trace_filename:s,platform:process.platform,codex_app_session_id:qi,...u?.conversationId!=null?{conversation_id:u.conversationId}:{},...u?.hostId!=null?{host_id:u.hostId}:{},...u?.windowId!=null?{window_id:String(u.windowId)}:{},...l?.gpuVendor!=null?{gpu_vendor:l.gpuVendor}:{},...l!=null?{hardware_acceleration:l.hardwareAccelerationEnabled?"enabled":"disabled"}:{}},...e!=null?{dist:e}:{},extra:{...a!=null&&a.length>0?{trace_recording_note:a}:{},trace_recording_duration_ms:c,trace_size_bytes:p,trace_gzip_size_bytes:d,trace_event_count:f}},y={type:"attachment",length:o.byteLength,filename:s,content_type:jZ,attachment_type:"event.attachment"};return Buffer.concat([bu({event_id:r,sent_at:m,dsn:jc}),bu({type:"event"}),bu(T),bu(y),o,GZ])}function bu(t){return Buffer.from(`${JSON.stringify(t)}
`,"utf8")}function WZ(t){const e=new URL(t),r=e.pathname.split("/").filter(Boolean).at(-1);if(r==null||r.length===0)throw new Error("Sentry DSN is missing a project id");return`${e.protocol}//${e.host}/api/${r}/envelope/`}function YZ(t){try{const e=JSON.parse(t.toString("utf8"));return Array.isArray(e.traceEvents)?e.traceEvents.length:null}catch{return null}}let Dr=null,ic=null;function KZ(){if(Dr!=null)throw new Error("Trace recording start confirmation is already pending");return new Promise(t=>{Dr=t})}function ZZ(){if(Dr==null)return!1;const t=Dr;return Dr=null,t(!0),!0}function XZ(){if(Dr==null)return!1;const t=Dr;return Dr=null,t(!1),!0}function JZ(){if(ic!=null)throw new Error("Trace recording upload details are already pending");return new Promise(t=>{ic=t})}function QZ(t){if(ic==null)return!1;const e=ic;return ic=null,e(t),!0}const Xa=Le("content-tracing"),e5="Start Trace Recording",t5="Stop Trace Recording",n5="Waiting to Start Trace…",r5="Saving Trace…",i5="Waiting for Trace Details…",s5="Uploading Trace…",SF="toggle-trace-recording",o5=process.env.CODEX_TRACE_SHORTCUT!=null,a5=["*","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"];let nr="idle",oa=null,Zg=null;function c5({allowDevtools:t,windowManager:e,traceRecordingSentryUploadOptions:n}){const r=async i=>{if(!(nr==="awaiting-start-confirmation"||nr==="saving"||nr==="awaiting-upload-details"||nr==="uploading"))try{let s=!1;if(nr==="idle"){if(Jn(e,i,"awaiting-start-confirmation"),!await KZ()){Jn(e,i,"idle");return}await R.contentTracing.startRecording({included_categories:a5,recording_mode:"record-continuously"}),oa=Date.now(),Jn(e,i,"recording"),Xa().info("Started content trace recording.");return}Jn(e,i,"saving");const o=await R.contentTracing.stopRecording(B.join(Re.tmpdir(),`codex-trace-${Date.now()}.json`)),a=oa==null?null:Date.now()-oa;if(Xa().info("Stopped content trace recording.",{safe:{tracePath:o,recordingDurationMs:a},sensitive:{}}),n!=null)try{const c=R.BrowserWindow.getFocusedWindow(),u=c!=null&&!c.isDestroyed()?c:null,l=u?.id??null,p=u==null?null:e.getHostIdForWebContents(u.webContents),d=FZ(u);Jn(e,i,"awaiting-upload-details");const[f,m]=await Promise.all([JZ(),d]);Jn(e,i,"uploading"),await qZ({...n,tracePath:o,recordingDurationMs:a,correlation:{conversationId:f.conversationId,hostId:p,windowId:l},runtimeHealth:m,traceRecordingNote:f.note.length>0?f.note:null}),Xa().info("Uploaded content trace recording to Sentry.",{safe:{tracePath:o,sourceWindowId:l,sourceHostId:p,traceConversationId:f.conversationId},sensitive:{}}),s=!0}finally{await l5(o)}oa=null,Jn(e,i,"idle"),s&&e.sendMessageToAllRegisteredWindows({type:"trace-recording-uploaded"})}catch(s){const o=p5();o==="saving"?Jn(e,i,"recording"):(o==="awaiting-start-confirmation"||o==="awaiting-upload-details"||o==="uploading")&&(oa=null,Jn(e,i,"idle")),Xa().warning("Failed to toggle content trace recording.",{safe:{},sensitive:{error:s}})}};return Zg=r,{id:SF,label:TF(nr),accelerator:t&&o5?et.toggleTraceRecording:void 0,click:async i=>{await r(i)}}}function bF(t){t.sendMessageToAllRegisteredWindows({type:"trace-recording-state-changed",state:nr})}async function u5(){const e=R.Menu.getApplicationMenu()?.getMenuItemById(SF);e==null||Zg==null||await Zg(e)}function Jn(t,e,n){nr=n,e.label=TF(n),bF(t)}function TF(t){return t==="recording"?t5:t==="awaiting-start-confirmation"?n5:t==="saving"?r5:t==="awaiting-upload-details"?i5:t==="uploading"?s5:e5}async function l5(t){try{await Vn.rm(t,{force:!0})}catch(e){Xa().warning("Failed to remove temporary trace recording file.",{safe:{tracePath:t},sensitive:{error:e}})}}function p5(){return nr}const lR=Le("sparkle"),d5="/",f5="/settings";function m5({isMacOS:t,allowDevtools:e,allowDebugMenu:n,allowWindowReload:r,enableSparkle:i,sparkleManager:s,ensurePrimaryWindowVisible:o,navigateToRoute:a,getElectronMessageHandlerForWindow:c,windowManager:u,hostsMenuState:l,selectHost:p,traceRecordingSentryUploadOptions:d}){const f=async()=>{const te=R.BrowserWindow.getFocusedWindow();return te&&!te.isDestroyed()?te:o()},m={label:"Settings…",accelerator:et.settings,click:async()=>{const te=await f();te&&a(te,f5)}},h={label:"New Thread",accelerator:et.newThread,click:async()=>{const te=await f();te&&a(te,d5)}},g={label:"New Thread",accelerator:et.newThreadAlt,acceleratorWorksWhenHidden:!0,visible:!1,click:h.click},_={label:"Open Folder…",accelerator:et.openFolder,click:async()=>{const te=await f();if(!te)return;const ht=c(te);ht&&await ht.addWorkspaceRootOption(te.webContents)}},S={label:"Log Out",click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"log-out"})}},v=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"open-command-menu"})},T=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"copy-conversation-path"})},y=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"toggle-thread-pin"})},b=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"rename-thread"})},x=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"archive-thread"})},D=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"copy-working-directory"})},k=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"copy-session-id"})},U=async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"copy-deeplink"})},C={label:"Command Menu…",accelerator:et.openCommandMenu,acceleratorWorksWhenHidden:!0,visible:!1,click:v},L={label:"Command Menu…",accelerator:et.openCommandMenuAlt,acceleratorWorksWhenHidden:!0,visible:!1,click:v},j={label:"Copy conversation path",accelerator:et.copyConversationPath,acceleratorWorksWhenHidden:!0,visible:!1,click:T},N={label:"Pin/unpin thread",accelerator:et.toggleThreadPin,acceleratorWorksWhenHidden:!0,visible:!1,click:y},H={label:"Rename thread",accelerator:et.renameThread,acceleratorWorksWhenHidden:!0,visible:!1,click:b},O={label:"Archive thread",accelerator:et.archiveThread,acceleratorWorksWhenHidden:!0,visible:!1,click:x},M={label:"Copy working directory",accelerator:et.copyWorkingDirectory,acceleratorWorksWhenHidden:!0,visible:!1,click:D},Q={label:"Copy session id",accelerator:et.copySessionId,acceleratorWorksWhenHidden:!0,visible:!1,click:k},de={label:"Copy deeplink",accelerator:et.copyDeeplink,acceleratorWorksWhenHidden:!0,visible:!1,click:U},_e=()=>{if(typeof R.app.showAboutPanel=="function"){R.app.showAboutPanel();return}R.dialog.showMessageBox({title:"About Codex",message:"Codex",detail:`Version ${R.app.getVersion()}
© OpenAI`,type:"info"})},oe=t?{role:"about"}:{label:`About ${R.app.getName()}`,click:_e},I={label:"Toggle Sidebar",accelerator:et.toggleSidebar,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"toggle-sidebar"})}},F={label:"Toggle Terminal",accelerator:et.toggleTerminal,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"toggle-terminal"})}},z={label:"Reload Window",accelerator:"Alt+Command+R",click:async()=>{const te=await f();te&&te.reload()}},q={label:"Toggle Diff Panel",accelerator:et.toggleDiffPanel,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"toggle-diff-panel"})}},X=c5({allowDevtools:e,windowManager:u,traceRecordingSentryUploadOptions:d}),J={label:"Find",accelerator:et.findInThread,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"find-in-thread"})}},se={label:"Previous Thread",accelerator:et.previousThread,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"previous-thread"})}},Se={label:"Next Thread",accelerator:et.nextThread,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"next-thread"})}},Ue={label:"Open Debug Window",accelerator:"Alt+D",click:async()=>{await u.openDebugWindow()}},ce={label:"Toggle Query Devtools",accelerator:"CmdOrCtrl+Alt+Y",click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"toggle-query-devtools"})}},Ae={label:"Back",accelerator:et.navigateBack,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"navigate-back"})}},ke={label:"Forward",accelerator:et.navigateForward,click:async()=>{const te=await f();te&&u.sendMessageToWindow(te,{type:"navigate-forward"})}},nt={label:"Check for Updates…",enabled:!0,click:()=>{lR().info("Check for updates requested via menu.");const te=s.getUpdater();if(!te){const ht=s.getDiagnostics(),An=ht.reason??ht.addonError??"unknown";lR().warning("Sparkle updater unavailable; init likely skipped.",{safe:{diagnostics:ht},sensitive:{}}),R.dialog.showMessageBox({type:"info",title:"Updates Unavailable",message:"Automatic updates are unavailable right now.",detail:`Sparkle initialization skipped: ${An}`});return}te.checkForUpdates()}},ye=h5(l,p,te=>u.getPrimaryWindow(te)!=null),Fe=[oe,{type:"separator"},m];ye&&Fe.push(ye),i&&Fe.push(nt,{type:"separator"}),Fe.push({role:"services"},{type:"separator"},{role:"hide"},{role:"hideOthers"},{role:"unhide"},{type:"separator"},S,{role:"quit"});const V={role:"fileMenu",id:"file-menu"},W={role:"appMenu",submenu:Fe},re={label:"View",id:"view-menu",submenu:[]},ue=[C,L,...t?[j]:[],N,H,O,M,Q,de,{type:"separator"},I,F,q,J,{type:"separator"},se,Se,Ae,ke,...r?[z]:[]],ie=[...n?[Ue]:[],...e?[{role:"toggleDevTools"}]:[],...e?[ce]:[]];ie.length>0&&ue.push({type:"separator"},...ie),ue.push({type:"separator"},{role:"zoomIn"},{role:"zoomOut"},{role:"resetZoom"},{type:"separator"},{role:"togglefullscreen"}),re.submenu=ue;const xe=[...t?[W,V]:[V],{role:"editMenu"},re,{role:"windowMenu"},{role:"help",submenu:[{label:"Codex Documentation",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/app")}},{label:"What's new",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/changelog")}},{label:"Automations",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/app/automations")}},{label:"Local Environments",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/app/local-environments")}},{label:"Worktrees",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/app/worktrees")}},{label:"Skills",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/skills")}},{label:"Model Context Protocol",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/mcp")}},{label:"Troubleshooting",click:()=>{R.shell.openExternal("https://developers.openai.com/codex/app/troubleshooting")}},{type:"separator"},X,{type:"separator"},{label:"Keyboard Shortcuts",click:v}]}],St=R.Menu.buildFromTemplate(xe),qe=St.getMenuItemById("file-menu")?.submenu;if(qe&&(qe.insert(0,new R.MenuItem(h)),qe.insert(1,new R.MenuItem(g)),qe.insert(2,new R.MenuItem(_)),qe.insert(3,new R.MenuItem({type:"separator"})),!t)){qe.append(new R.MenuItem(m)),qe.append(new R.MenuItem({type:"separator"})),qe.append(new R.MenuItem(oe));const te=qe.items.findIndex(ht=>ht.role==="quit");te>=0?qe.insert(te,new R.MenuItem(S)):(qe.append(new R.MenuItem(S)),qe.append(new R.MenuItem({role:"quit"})))}R.Menu.setApplicationMenu(St),bF(u)}function h5(t,e,n){if(t.status==="disabled")return null;const r=[{label:EF,type:"checkbox",checked:n(ft),click:async()=>{await e(ft)}}];if(t.status==="ready"){for(const i of t.hosts)r.push({label:i.display_name,type:"checkbox",checked:n(i.id),click:async()=>{await e(i.id)}});t.providerFailed&&t.hosts.length===0&&!t.isLoading&&r.push({label:"Failed to load more",enabled:!1}),t.isLoading&&r.push({label:"Loading hosts…",enabled:!1})}return{label:"Hosts",submenu:r}}var Dm={};const g5={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var Rm,pR;function _5(){return pR||(pR=1,Rm=g5),Rm}/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var dR;function v5(){return dR||(dR=1,(function(t){var e=_5(),n=Ve.extname,r=/^\s*([^;\s]*)(?:;|\s|$)/,i=/^text\//i;t.charset=s,t.charsets={lookup:s},t.contentType=o,t.extension=a,t.extensions=Object.create(null),t.lookup=c,t.types=Object.create(null),u(t.extensions,t.types);function s(l){if(!l||typeof l!="string")return!1;var p=r.exec(l),d=p&&e[p[1].toLowerCase()];return d&&d.charset?d.charset:p&&i.test(p[1])?"UTF-8":!1}function o(l){if(!l||typeof l!="string")return!1;var p=l.indexOf("/")===-1?t.lookup(l):l;if(!p)return!1;if(p.indexOf("charset")===-1){var d=t.charset(p);d&&(p+="; charset="+d.toLowerCase())}return p}function a(l){if(!l||typeof l!="string")return!1;var p=r.exec(l),d=p&&t.extensions[p[1].toLowerCase()];return!d||!d.length?!1:d[0]}function c(l){if(!l||typeof l!="string")return!1;var p=n("x."+l).toLowerCase().substr(1);return p&&t.types[p]||!1}function u(l,p){var d=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(m){var h=e[m],g=h.extensions;if(!(!g||!g.length)){l[m]=g;for(var _=0;_<g.length;_++){var S=g[_];if(p[S]){var v=d.indexOf(e[p[S]].source),T=d.indexOf(h.source);if(p[S]!=="application/octet-stream"&&(v>T||v===T&&p[S].substr(0,12)==="application/"))continue}p[S]=m}}})}})(Dm)),Dm}var E5=v5();const Ap="app",yF="-",xF="index.html",wF="/@fs",S5=`app://${yF}`;function b5(){R.protocol.registerSchemesAsPrivileged([{scheme:Ap,privileges:{standard:!0,secure:!0,supportFetchAPI:!0}}])}function AF(t){return B.join(t,"..","..","webview")}function T5(t){const e=new URL(`${S5}/${xF}`);return t&&e.searchParams.set("initialRoute",t),e.toString()}function y5(t,e){const n=w5(t);if(!n)return null;try{if(decodeURIComponent(n).replace(/\\/g,"/").split("/").some(d=>d===".."))return null}catch{return null}const r=new URL(t);if(r.protocol!==`${Ap}:`||r.host&&r.host!==yF)return null;if(r.pathname.startsWith(wF))return A5(r.pathname);const s=(r.pathname?r.pathname:"/").replace(/\\/g,"/"),o=s.startsWith("/")?s.slice(1):s,a=B.posix.normalize(o);if(a==="."||a==="")return B.join(e,xF);if(a.startsWith("..")||a.includes("/.."))return null;const c=B.join(e,...a.split("/")),u=B.relative(e,c);return u.startsWith("..")||B.isAbsolute(u)?null:c}function x5(t){R.protocol.handle(Ap,async e=>{const n=y5(e.url,t);return n?R.net.fetch(Ac.pathToFileURL(n).toString()):new Response(null,{status:404,statusText:"Not Found"})})}function w5(t){const e=`${Ap}://`;if(!t.startsWith(e))return null;const n=t.slice(e.length),r=n.indexOf("/");return(r>=0?n.slice(r):"/").split("?")[0]?.split("#")[0]??null}function A5(t){const e=t.slice(wF.length);if(!e)return null;let n;try{n=decodeURIComponent(e)}catch{return null}const r=n.replace(/\\/g,"/");if(!(r.startsWith("/")||/^[a-zA-Z]:/.test(r)))return null;const s=B.resolve(r),o=E5.lookup(s);return typeof o!="string"||!o.startsWith("image/")?null:s}const D5=()=>{const t=process.cwd(),e=[];return process.resourcesPath&&e.push(B.join(process.resourcesPath,"app.asar","package.json")),e.push(B.join(t,"package.json")),e.push(B.join(t,"electron","package.json")),e};function qE(t,{candidates:e=D5(),parse:n}={}){for(const r of e){if(!Y.existsSync(r))continue;const i=Y.readFileSync(r,"utf8"),s=JSON.parse(i),o=typeof s[t]=="string"?s[t].trim():"";if(!o)continue;const a=n?n(o):o;if(a!=null)return a}return null}const es=Le("build-flavor"),ge={...mU,readFromPackageMetadata(){const t=qE("codexBuildFlavor",{parse:e=>ge.isValid(e)?e:null});return t?(es().debug("Resolved build flavor from package metadata",{safe:{value:t},sensitive:{}}),t):(es().warning("Missing codexBuildFlavor from package metadata"),null)},resolve(){const t=process.env.BUILD_FLAVOR,e=ge.parse(t);if(e)return es().info("Resolved build flavor from env",{safe:{value:e},sensitive:{}}),e;t?.trim()&&es().warning("Invalid BUILD_FLAVOR",{safe:{value:t,expected:ge.help},sensitive:{}});const n=ge.readFromPackageMetadata();return n||(process.env.NODE_ENV==="production"?(es().warning("BUILD_FLAVOR missing; defaulting to prod in production runtime"),ge.Prod):(es().warning("BUILD_FLAVOR missing; defaulting to dev in non-production runtime"),ge.Dev))},shouldIncludeSparkle(t,e){switch(t){case ge.Dev:case ge.Agent:return!1;case ge.InternalAlpha:case ge.PublicBeta:case ge.Prod:return e==="darwin"}},allowDevtools(t){switch(t){case ge.Dev:case ge.Agent:case ge.InternalAlpha:return!0;case ge.PublicBeta:case ge.Prod:return!1}},allowDebugMenu(t){switch(t){case ge.Dev:case ge.Agent:case ge.InternalAlpha:case ge.PublicBeta:return!0;case ge.Prod:return!1}},isInternal(t){switch(t){case ge.Dev:case ge.Agent:case ge.InternalAlpha:return!0;case ge.PublicBeta:case ge.Prod:return!1}}};var pn={},Jr={},fR;function R5(){if(fR)return Jr;fR=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.sync=Jr.isexe=void 0;const t=Qe,e=bN,n=async(o,a={})=>{const{ignoreErrors:c=!1}=a;try{return i(await(0,e.stat)(o),a)}catch(u){const l=u;if(c||l.code==="EACCES")return!1;throw l}};Jr.isexe=n;const r=(o,a={})=>{const{ignoreErrors:c=!1}=a;try{return i((0,t.statSync)(o),a)}catch(u){const l=u;if(c||l.code==="EACCES")return!1;throw l}};Jr.sync=r;const i=(o,a)=>o.isFile()&&s(o,a),s=(o,a)=>{const c=a.uid??process.getuid?.(),u=a.groups??process.getgroups?.()??[],l=a.gid??process.getgid?.()??u[0];if(c===void 0||l===void 0)throw new Error("cannot get uid or gid");const p=new Set([l,...u]),d=o.mode,f=o.uid,m=o.gid,h=parseInt("100",8),g=parseInt("010",8),_=parseInt("001",8),S=h|g;return!!(d&_||d&g&&p.has(m)||d&h&&f===c||d&S&&c===0)};return Jr}var Qr={},mR;function I5(){if(mR)return Qr;mR=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.sync=Qr.isexe=void 0;const t=Qe,e=bN,n=async(o,a={})=>{const{ignoreErrors:c=!1}=a;try{return s(await(0,e.stat)(o),o,a)}catch(u){const l=u;if(c||l.code==="EACCES")return!1;throw l}};Qr.isexe=n;const r=(o,a={})=>{const{ignoreErrors:c=!1}=a;try{return s((0,t.statSync)(o),o,a)}catch(u){const l=u;if(c||l.code==="EACCES")return!1;throw l}};Qr.sync=r;const i=(o,a)=>{const{pathExt:c=process.env.PATHEXT||""}=a,u=c.split(";");if(u.indexOf("")!==-1)return!0;for(let l=0;l<u.length;l++){const p=u[l].toLowerCase(),d=o.substring(o.length-p.length).toLowerCase();if(p&&d===p)return!0}return!1},s=(o,a,c)=>o.isFile()&&i(a,c);return Qr}var Im={},hR;function C5(){return hR||(hR=1,Object.defineProperty(Im,"__esModule",{value:!0})),Im}var gR;function O5(){return gR||(gR=1,(function(t){var e=pn&&pn.__createBinding||(Object.create?(function(u,l,p,d){d===void 0&&(d=p);var f=Object.getOwnPropertyDescriptor(l,p);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[p]}}),Object.defineProperty(u,d,f)}):(function(u,l,p,d){d===void 0&&(d=p),u[d]=l[p]})),n=pn&&pn.__setModuleDefault||(Object.create?(function(u,l){Object.defineProperty(u,"default",{enumerable:!0,value:l})}):function(u,l){u.default=l}),r=pn&&pn.__importStar||function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&e(l,u,p);return n(l,u),l},i=pn&&pn.__exportStar||function(u,l){for(var p in u)p!=="default"&&!Object.prototype.hasOwnProperty.call(l,p)&&e(l,u,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.sync=t.isexe=t.posix=t.win32=void 0;const s=r(R5());t.posix=s;const o=r(I5());t.win32=o,i(C5(),t);const c=(process.env._ISEXE_TEST_PLATFORM_||process.platform)==="win32"?o:s;t.isexe=c.isexe,t.sync=c.sync})(pn)),pn}var Cm,_R;function N5(){if(_R)return Cm;_R=1;const{isexe:t,sync:e}=O5(),{join:n,delimiter:r,sep:i,posix:s}=Ve,o=process.platform==="win32",a=new RegExp(`[${s.sep}${i===s.sep?"":i}]`.replace(/(\\)/g,"\\$1")),c=new RegExp(`^\\.${a.source}`),u=m=>Object.assign(new Error(`not found: ${m}`),{code:"ENOENT"}),l=(m,{path:h=process.env.PATH,pathExt:g=process.env.PATHEXT,delimiter:_=r})=>{const S=m.match(a)?[""]:[...o?[process.cwd()]:[],...(h||"").split(_)];if(o){const v=g||[".EXE",".CMD",".BAT",".COM"].join(_),T=v.split(_).flatMap(y=>[y,y.toLowerCase()]);return m.includes(".")&&T[0]!==""&&T.unshift(""),{pathEnv:S,pathExt:T,pathExtExe:v}}return{pathEnv:S,pathExt:[""]}},p=(m,h)=>{const g=/^".*"$/.test(m)?m.slice(1,-1):m;return(!g&&c.test(h)?h.slice(0,2):"")+n(g,h)},d=async(m,h={})=>{const{pathEnv:g,pathExt:_,pathExtExe:S}=l(m,h),v=[];for(const T of g){const y=p(T,m);for(const b of _){const x=y+b;if(await t(x,{pathExt:S,ignoreErrors:!0})){if(!h.all)return x;v.push(x)}}}if(h.all&&v.length)return v;if(h.nothrow)return null;throw u(m)},f=(m,h={})=>{const{pathEnv:g,pathExt:_,pathExtExe:S}=l(m,h),v=[];for(const T of g){const y=p(T,m);for(const b of _){const x=y+b;if(e(x,{pathExt:S,ignoreErrors:!0})){if(!h.all)return x;v.push(x)}}}if(h.all&&v.length)return v;if(h.nothrow)return null;throw u(m)};return Cm=d,d.sync=f,Cm}var k5=N5();const P5=Bi(k5),Om=12e4,M5="codex-box",L5="ssh-devcontainer",U5=B.join(Re.homedir(),".virtualenvs","openai","bin"),Xg=Le("host-provider"),F5=[M5,"box-provider"];function $5(t){if(typeof t!="string")return null;const e=t.trim();return e==="local"||e==="ssh"||e==="brix"?e:e===L5?"ssh":null}function B5(t){const e=JSON.parse(t);if(!e||typeof e!="object"||!Array.isArray(e.boxes))throw new Error("Host provider output missing boxes array");const n=new Array;for(const r of e.boxes){const i=typeof r.id=="string"?r.id:null,s=typeof r.display_name=="string"?r.display_name:null,o=$5(r.kind);if(i==null||s==null||o==null){Xg().warning("Skipping host provider entry with invalid id/name/kind",{safe:{},sensitive:{host:r}});continue}n.push({...r,id:i,display_name:s,kind:o})}return n}function j5(t,e){return e.aborted?Promise.reject(new Error("Operation aborted")):new Promise((n,r)=>{const i=()=>{s(),r(new Error("Operation aborted"))},s=()=>{e.removeEventListener("abort",i)};e.addEventListener("abort",i,{once:!0}),t.then(o=>{s(),n(o)},o=>{s(),r(o)})})}function V5(t){return B.join(U5,t)}async function z5(t){const[e,...n]=t,r=await P5(e,{nothrow:!0});if(typeof r=="string")return Xg().info("Resolved host provider binary from PATH",{safe:{resolvedPath:r},sensitive:{}}),[r,...n];const i=V5(e);return Xg().info("Resolved host provider binary from fallback path",{safe:{resolvedPath:i},sensitive:{}}),[i,...n]}async function G5(t){if(t.length===0)return{status:"failed",error:"Host provider command is empty"};const e=new AbortController;let n=!1;const r=setTimeout(()=>{n=!0,e.abort()},Om);try{const i=await j5(z5(t),e.signal),s=Vc({args:i,signal:e.signal}),{stdout:o,stderr:a,code:c}=await s.wait();return n?{status:"failed",error:`Host provider timed out after ${Om}ms`}:c!==0?{status:"failed",error:a.trim()||`Host provider exited with code ${c}`}:{status:"success",hosts:B5(o)}}catch(i){return n?{status:"failed",error:`Host provider timed out after ${Om}ms`}:{status:"failed",error:i instanceof Error?i.message:String(i)}}finally{clearTimeout(r)}}const HE="electron-ssh-hosts",DF="electron-persisted-atom-state",Jg="electron-worktree-cleanup-buffer-start-ms",q5=500,Qg=Le("global-state"),RF=H5({"electron-main-window-bounds":Xt.object({x:Xt.number(),y:Xt.number(),width:Xt.number(),height:Xt.number(),isMaximized:Xt.boolean().optional()}),[DF]:Xt.record(Xt.string(),Xt.unknown()),[HE]:Xt.array(Xt.string()),[Jg]:Xt.number()});function H5(t){const e=Object.entries(t).map(([n,r])=>[n,r.optional()]);return Object.fromEntries(e)}function W5(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function Y5(t){const e=Ke.createHash("sha256").update(t,"utf8").digest("base64");return W5(e).slice(-8)}function K5(t,e){const n=Y5(e),r=B.dirname(t),i=B.extname(t),s=i?B.basename(t,i):B.basename(t),o=i?`${s}.${n}${i}`:`${s}.${n}`;return B.join(r,o)}function Z5(t,e){return!e||e===ft?t:K5(t,e)}class IF{state;filePath;persistDebounced;persistScheduledForAtoms=!1;constructor(e,n){this.filePath=Z5(e,n?.hostId),this.state=Q5(this.filePath),this.persistDebounced=PY(()=>{this.persistScheduledForAtoms&&(this.persistScheduledForAtoms=!1,vR(this.filePath,this.state))},q5)}get(e){const n=this.state.get(e);return n!==void 0&&n!=null?n:Hu(e)??null}set(e,n){n===void 0?this.state.delete(e):this.state.set(e,n),this.persistForKey(e)}update(e,n){const r=this.state.has(e)?this.state.get(e):null,i=n(r);i===void 0?this.state.delete(e):this.state.set(e,i),this.persistForKey(e)}delete(e){this.state.delete(e),this.persistForKey(e)}flush(){this.persistScheduledForAtoms&&(this.persistDebounced.cancel(),this.persistScheduledForAtoms=!1),vR(this.filePath,this.state)}persistForKey(e){if(e===DF){this.persistScheduledForAtoms=!0,this.persistDebounced();return}this.flush()}}const X5=new Set(Object.keys(RF));function J5(t){return X5.has(t)}function Q5(t){if(!Y.existsSync(t))return new Map;try{const e=Y.readFileSync(t,"utf8"),n=JSON.parse(e);if(!n||typeof n!="object")return new Map;const r=[];for(const[i,s]of Object.entries(n)){if(J5(i)&&!RF[i].safeParse(s).success){Qg().warning("Dropping invalid global state for key",{safe:{key:i},sensitive:{}});continue}r.push([i,s])}return new Map(r)}catch(e){return Qg().warning("Failed to load global state",{safe:{},sensitive:{error:e}}),new Map}}function vR(t,e){try{const n={};for(const[r,i]of e.entries())i!==void 0&&(n[r]=i);Y.writeFileSync(t,JSON.stringify(n),"utf8")}catch(n){Qg().warning("Failed to persist global state",{safe:{},sensitive:{error:n}})}}const e7="ssh:",t7="Codex Desktop";function ER(t){return`'${t.replace(/'/g,"'\\''")}'`}function n7(){const t=process.env.RUST_LOG??"warn";return[`RUST_LOG=${ER(t)}`,`CODEX_INTERNAL_ORIGINATOR_OVERRIDE=${ER(t7)}`,'bash -lc "codex app-server"'].join(" ")}function CF(t){const e=t.trim();return e.length===0?null:e}function OF(t){const e=t.get(HE);if(!Array.isArray(e))return[];const n=new Set,r=[];return e.forEach(i=>{if(typeof i!="string")return;const s=CF(i);!s||n.has(s)||(n.add(s),r.push(s))}),r}function r7(t,e){const n=CF(e);if(!n)return null;const r=OF(t).filter(i=>i!==n);return t.set(HE,[n,...r]),n}function NF(t){const e=n7();return{id:`${e7}${t}`,display_name:t,kind:"ssh",codex_cli_command:["ssh","-o","BatchMode=yes","-o","ConnectTimeout=10",t,e],terminal_command:["ssh",t],default_workspaces:[]}}function i7(t){return OF(t).map(e=>NF(e))}function s7(t){const e=new Map;for(const n of t)e.set(n.id,n);return[...e.values()]}class o7{logger=Mt();buildFlavor;globalState;upsertHostConfigs;buildMenu;providerCommand;isHostProviderEnabled;runHostProvider;coalescedProviderRefresh;providerHosts=null;providerFailed=!1;providerRefreshDisabled=!1;currentProviderRefresh=null;constructor({buildFlavor:e,globalState:n,upsertHostConfigs:r,buildMenu:i,hostProviderCommand:s=F5,runHostProvider:o=G5}){this.buildFlavor=e,this.globalState=n,this.upsertHostConfigs=r,this.buildMenu=i,this.providerCommand=[...s],this.runHostProvider=o,this.isHostProviderEnabled=ge.isInternal(e),this.coalescedProviderRefresh=xi(async()=>this.runHostProvider([...this.providerCommand]),{promise:!0})}async refresh(e){if(e?.triggerProviderRefresh){this.triggerProviderRefresh();return}this.renderMenu()}computeHostsMenuState(){const e=i7(this.globalState),n=this.providerHosts??[],r=this.isHostProviderEnabled?s7([...e,...n]):e;if(this.upsertHostConfigs(r),!this.isHostProviderEnabled&&r.length===0)return{status:"disabled"};const i=this.providerFailed&&r.length===0;return{status:"ready",hosts:r,isLoading:this.currentProviderRefresh!=null,providerFailed:i}}renderMenu(){this.buildMenu(this.computeHostsMenuState())}triggerProviderRefresh(){if(!this.isHostProviderEnabled){this.renderMenu();return}if(this.providerRefreshDisabled){this.renderMenu();return}const e=this.coalescedProviderRefresh();if(e===this.currentProviderRefresh){this.renderMenu();return}this.providerFailed=!1,this.currentProviderRefresh=e,this.renderMenu(),this.handleProviderRefresh(e)}async handleProviderRefresh(e){try{const n=await e;if(this.logger.debug("Host provider result",{safe:n,sensitive:{}}),n.status==="success"){this.providerHosts=n.hosts,this.providerFailed=!1;return}this.providerFailed=!0,this.providerHosts==null&&(this.providerRefreshDisabled=!0),this.logger.warning("Host provider failed",{safe:{},sensitive:{error:n.error}})}catch(n){this.providerFailed=!0,this.providerHosts==null&&(this.providerRefreshDisabled=!0),this.logger.warning("Host provider threw",{safe:{},sensitive:{error:n}})}finally{this.coalescedProviderRefresh.clear(),this.currentProviderRefresh=null,this.renderMenu()}}}const a7=`Response MUST end with a remark-directive block.

## Responding

- Answer the user normally and concisely. Explain what you found, what you did, and what the user should focus on now.
- Automations: use the memory file at \`$CODEX_HOME/automations/<automation_id>/memory.md\` (create it if missing).
  - Read it first (if present) to avoid repeating recent work, especially for "changes since last run" tasks.
  - Memory is important: some tasks must build on prior work, and others must avoid duplicating prior focus.
  - Before returning the directive, write a concise summary of what you did/decided plus the current run time.
  - Use the \`Automation ID:\` value provided in the message to locate/update this file.
- REQUIRED: End with a valid remark-directive block on its own line (not inline).
  - Always include an inbox item directive:
    \`::inbox-item{title="Sample title" summary="Place description here"}\`
- If you want to close the thread, add an archive directive on its own line after the inbox item:
  \`::archive-thread\`

## Choosing return value

- For recurring/bg threads (e.g., "pull datadog logs and fix any new bugs", "address the PR comments"):
  - Always return \`::inbox-item{...}\` with the title/summary the user should see.
  - Only add \`::archive-thread\` when there is nothing actionable or new to show. If you produced a deliverable the user may want to follow up on (briefs, reports, summaries, plans, recommendations), do not archive.

## Guidelines

- Directives MUST be on their own line.
- Output exactly ONE inbox-item directive. Archive-thread is optional.
- Do NOT use invalid remark-directive formatting.
- DO NOT place commas between arguments.
  - Valid: \`::inbox-item{title="Sample title" summary="Place description here"}\`
  - Invalid: \`::inbox-item{title="Sample title",summary="Place description here"}\`
- When referring to files, use full absolute filesystem links in Markdown (not relative paths).
  - Valid: [\`/Users/alice/project/src/main.ts\`](/Users/alice/project/src/main.ts)
  - Invalid: \`src/main.ts\` or \`[main](src/main.ts)\`
- Try not to ask the user for more input if possible to infer.
- If a PR is opened by the automation, add the \`codex-automation\` label when available alongside the normal \`codex\` label.
- Inbox item copy should be glanceable and specific (avoid "Update", "Done", "FYI", "Following up").
  - Title: what this thread now _is_ (state + object). Aim ~4-8 words.
  - Title should explain what was built or what happened.
- Summary: what the user should _do/know next_ (next step, blocker, or waiting-on). Aim ~6-14 words.
- Summary should usually match the general automation name or prompt summary.
- Both title and summary should be fairly short; usually avoid one-word titles/summaries.
  - Prefer concrete nouns + verbs; include a crisp status cue when helpful: "blocked", "needs decision", "ready for review".

## Examples (inbox-item)

- Work needed:
  - \`::inbox-item{title="Fix flaky checkout tests" summary="Repro isolated; needs CI run + patch"}\`
- Waiting on user decision:
  - \`::inbox-item{title="Choose API shape for filters" summary="Two options drafted; pick A vs B"}\`
- Status update with next step:
  - \`::inbox-item{title="PR comments addressed" summary="Ready for re-review; focus on auth edge case"}\`
`;async function kF({prompt:t,cwd:e,appServerConnection:n}){return MZ({prompt:t,cwd:e,client:{startThread:r=>n.startThread(r),startTurn:r=>n.startTurn(r),interruptTurn:r=>n.interruptTurn(r),onNotification:r=>n.registerInternalNotificationHandler(r)}})}const c7=3e4,u7=3,l7="gpt-5.3-codex",p7="gpt-5.2-codex",d7="medium",gc=Le("automations");async function f7(t,e,n){const i=(await e.getWorktreeRepository(t,n))?.root;return i?{type:"branch",branchName:(await GE(i,n))?.branch??"HEAD"}:{type:"branch",branchName:"HEAD"}}async function m7({sourceCwd:t,worktreeCwd:e,gitManager:n,hostConfig:r,automationId:i}){const s=[e,B.join(wn({}),"automations",i)],a=(await n.getWorktreeRepository(e,r))?.root;a&&a!==e&&s.push(a);const u=(await n.getWorktreeRepository(t,r))?.root;u&&u!==e&&u!==a&&s.push(u);const l=await tF(a??t,r);if(l){const d=B.isAbsolute(l)?l:B.resolve(u??t,l);return s.push(d),s}const p=await B1(a??t,r);return p?s.push(B.dirname(p)):u&&s.push(B.join(u,".git")),s}function SR(t,e,n){const r=e.sandbox_mode!=null||e.approval_policy!=null?"custom":"auto",i=S6(n,e),s=i.includes(r)?r:i.at(-1)??"read-only",o=T6(s,t,e),a=o.sandboxPolicy;return{approvalPolicy:n?.allowedApprovalPolicies==null||n.allowedApprovalPolicies.includes("never")?"never":o.approvalPolicy,sandboxPolicy:a}}function h7(t,e){return t.reduce((n,r,i)=>n.then(()=>e(r,i)),Promise.resolve())}function g7(t){return t==="apikey"?p7:l7}function _7({appServerConnection:t,gitManager:e,hostConfig:n,tickMs:r=c7,maxPerTick:i=u7}){let s=!1;const o=async()=>{if(!s){s=!0;try{const u=Date.now(),l=lY(u,i);await Promise.all(l.map(async p=>{try{const d=qc({rrule:p.rrule,now:u});I1(p.id,d),await PF({automation:p,appServerConnection:t,gitManager:e,hostConfig:n})}catch(d){gc().warning("Scheduled run failed",{safe:{automationId:p.id,error:d},sensitive:{}})}}))}finally{s=!1}}},a=()=>{o().catch(u=>{gc().debug("Automation scheduler tick threw",{safe:{error:u},sensitive:{}})})};uY(Date.now()),a();const c=setInterval(a,r);return c.unref(),()=>{clearInterval(c)}}async function v7({automationId:t,appServerConnection:e,gitManager:n,hostConfig:r}){const i=sY(t);if(!i)throw new Error("Automation not found.");const s=Date.now(),o=qc({rrule:i.rrule,now:s});I1(i.id,o),await PF({automation:i,appServerConnection:e,gitManager:n,hostConfig:r})}async function PF({automation:t,appServerConnection:e,gitManager:n,hostConfig:r}){const i=t.cwds;if(i.length===0){gc().warning("Scheduled run skipped: no folders configured",{safe:{automationId:t.id},sensitive:{}});return}const s=(await e.getConfigRequirements()).requirements,o=g7(await e.getAuthMethod());await h7(i,a=>E7({automation:t,appServerConnection:e,gitManager:n,hostConfig:r,configRequirements:s,cwd:a,automationModel:o}).catch(c=>{gc().warning("Scheduled run failed",{safe:{automationId:t.id,error:c},sensitive:{}})}))}async function E7({automation:t,appServerConnection:e,gitManager:n,hostConfig:r,configRequirements:i,cwd:s,automationModel:o}){const a=`Automation: ${t.name}`,c=a7.trim(),u=await e.getUserSavedConfiguration(s),l=c.length>0?`${c}

${QA}`:QA,p=SR([s],u,i),d=t.executionEnvironment==="worktree",f=(await n.getWorktreeRepository(s,r))?.root!=null,m=b=>e.startThread({model:o,modelProvider:null,cwd:b,approvalPolicy:p.approvalPolicy,sandbox:p.sandboxPolicy.type==="dangerFullAccess"?"danger-full-access":p.sandboxPolicy.type==="readOnly"?"read-only":"workspace-write",config:null,baseInstructions:null,developerInstructions:l,personality:null,ephemeral:null,dynamicTools:null,mockExperimentalField:null,experimentalRawEvents:!1,persistExtendedHistory:!1});let h=null,g=null;const _=`pending:${Ke.randomUUID()}`;RA(t.id,_,t.name,s),e.notifyAutomationRunsUpdated();try{if(d&&f){const x=await f7(s,n,r),D=await MK({gitManager:n,workspaceRoot:s,startingState:x,localEnvironmentConfigPath:null,hostConfig:r});if(!D.success)throw D.error;h=await m(D.worktreeWorkspaceRoot)}else h=await m(s);g=h.thread.id,R3(_,g)||RA(t.id,g,t.name,s),e.notifyAutomationRunsUpdated(),S7({automation:t,threadId:g,cwd:h.cwd,appServerConnection:e})}catch(b){throw IE(_,"auto"),e.notifyAutomationRunsUpdated(),b}if(h==null||g==null)throw new Error("Automation thread start failed");const S=await m7({sourceCwd:s,worktreeCwd:h.cwd,gitManager:n,hostConfig:r,automationId:t.id}),v=SR(S,u,i),T=t.lastRunAt!=null?`${new Date(t.lastRunAt).toISOString()} (${t.lastRunAt})`:"never",y=`${a}
Automation ID: ${t.id}
Automation memory: $CODEX_HOME/automations/${t.id}/memory.md
Last run: ${T}

${t.prompt}`;await e.startTurn({threadId:g,input:[{type:"text",text:y,text_elements:[]}],cwd:h.cwd,approvalPolicy:v.approvalPolicy,sandboxPolicy:v.sandboxPolicy,model:o,effort:d7,summary:"auto",personality:null,outputSchema:null,collaborationMode:null})}async function S7({automation:t,threadId:e,cwd:n,appServerConnection:r}){try{const i=`Automation: ${t.name}
${t.prompt}`,s=await kF({prompt:i,cwd:n,appServerConnection:r});s&&r.updateThreadTitle(e,s)}catch(i){gc().warning("Failed to generate thread title",{safe:{automationId:t.id,threadId:e,error:i},sensitive:{}})}}let Nm;const b7=Le("codex-build-number");function T7(){const t=process.env.CODEX_BUILD_NUMBER?.trim();if(t)return t;if(!R.app.isPackaged)return null;const e=qE("codexBuildNumber");return e||(b7().error("CodexBuildNumber missing from package metadata."),null)}const _c={get value(){return Nm===void 0&&(Nm=T7()),Nm}},y7="codex_desktop:message-from-view",Ye="codex_desktop:message-for-view",bR="codex_desktop:show-context-menu",x7="codex_desktop:get-sentry-init-options",w7="codex_desktop:get-build-flavor",A7="codex_desktop:trigger-sentry-test",D7="icons",R7="https://chatgpt.com/backend-api",I7="http://localhost:8000/api",C7="Codex Desktop";function O7(t){return`codex_desktop:worker:${t}:from-view`}function N7(t){return`codex_desktop:worker:${t}:for-view`}const k7="codex:";function P7(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)}function M7(t){return t.pathname.split("/").filter(Boolean)}function km(t,e){const n=t.searchParams.get(e);return!n||n.trim().length===0?null:n}function L7(t){if(!t.startsWith("codex://"))return null;let e;try{e=new URL(t)}catch{return null}if(e.protocol!==k7)return null;switch(e.host){case"settings":return{kind:"settings"};case"skills":return{kind:"skills"};case"automations":return{kind:"automations"};case"new":{const n=TR(e);return n??null}case"threads":{const n=M7(e)[0];if(!n)return null;if(n==="new"){const r=TR(e);return r??{kind:"newThread"}}return P7(n)?{kind:"localConversation",conversationId:n}:null}default:return null}}function TR(t){const e=km(t,"prompt"),n=km(t,"originUrl"),r=km(t,"path");return e==null&&n==null&&r==null?null:{kind:"newThread",prompt:e??void 0,originUrl:n,path:r}}function U7({app:t,isMacOS:e,ensurePrimaryWindowVisible:n,navigateToRoute:r,initialArgv:i,errorReporter:s}){const o=new Array,a=Mt();async function c(){if(o.length===0||!t.isReady())return;const f=await n();if(!f)return;const m=o.at(-1);o.length=0,m&&await r(f,m)}function u(f){o.push(f),t.isReady()&&c().catch(m=>{s.reportNonFatal(m,{kind:"flush-pending-deep-links"})})}function l(f){const m=L7(f);return m?(u(m),!0):!1}function p(f){for(const m of f)l(m)}function d(){if(t.isPackaged)try{t.setAsDefaultProtocolClient("codex")||a.warning("Failed to register codex:// protocol handler",{safe:{isPackaged:t.isPackaged},sensitive:{}})}catch(f){a.warning("Failed to register codex:// protocol handler",{safe:{},sensitive:{error:f}})}}return e&&t.on("open-url",(f,m)=>{l(m)&&f.preventDefault()}),p(i),{registerProtocolClient:d,flushPendingDeepLinks:c}}const MF="notification",Pm=`${MF}.wav`,F7=Le("desktop-notifications");class $7{constructor(e){this.options=e;const n=()=>R.Notification.isSupported();this.isSupported=e.isSupported??n,this.createNotification=e.createNotification??(r=>new R.Notification(r))}isSupported;createNotification;logger=F7();notificationSoundStaged=!1;notifications=new Map;showNotification(e,n,r){if(this.stageNotificationSoundIfNeeded(),!this.isSupported()){this.logger.warning("Notification API not supported on this host");return}if(n.isDestroyed()){this.logger.warning("target webContents destroyed; dropping notification",{safe:{notificationId:e.id},sensitive:{}});return}const s=(e.actions??[]).slice(0,4);this.logger.info("show notification",{safe:{notificationId:e.id,kind:e.kind,actionCount:s.length},sensitive:{}});const o=e.kind==="permission"?"never":void 0,a=e.kind==="turn-complete"&&typeof e.replyPlaceholder=="string";this.notifications.get(e.id)?.notification.close?.();const u=this.createNotification({title:e.title,body:e.body,silent:!1,sound:this.options.platform==="darwin"?MF:void 0,timeoutType:o,hasReply:a,replyPlaceholder:a?e.replyPlaceholder??void 0:void 0,actions:s.map(l=>({type:"button",text:l.title}))});u.on("click",()=>{r({notificationId:e.id,actionId:null,actionType:"open"}),this.logger.info("notification click open",{safe:{notificationId:e.id},sensitive:{}})}),u.on("action",(l,p)=>{const d=s[p??-1];d&&(this.logger.info("notification action",{safe:{notificationId:e.id,actionId:d.id,actionType:d.actionType},sensitive:{}}),r({notificationId:e.id,actionId:d.id,actionType:d.actionType}))}),u.on("reply",(l,p)=>{r({notificationId:e.id,actionId:null,actionType:"reply",reply:typeof p=="string"?p:String(p??"")})}),u.on("close",()=>{this.notifications.delete(e.id)}),this.notifications.set(e.id,{notification:u,conversationId:e.conversationId??null}),u.show()}stageNotificationSoundIfNeeded(){if(this.notificationSoundStaged||(this.notificationSoundStaged=!0,this.options.platform!=="darwin")||typeof process.resourcesPath!="string")return;const e=B.join(process.resourcesPath,Pm),n=B.join(__dirname,"..","assets","sounds",Pm),r=Y.existsSync(e)?e:n;if(!Y.existsSync(r))return;const i=B.join(Re.homedir(),"Library","Sounds");try{Y.mkdirSync(i,{recursive:!0}),Y.copyFileSync(r,B.join(i,Pm))}catch(s){this.logger.warning("failed to stage notification sound",{safe:{},sensitive:{error:s}})}}dismissByConversationId(e){for(const[n,r]of this.notifications.entries())r.conversationId===e&&(r.notification.close?.(),this.notifications.delete(n))}}class B7{constructor(e){this.app=e}getVersion(){return this.app.getVersion()}onShutdown(e){return this.app.on("before-quit",e),{dispose:()=>{this.app.off("before-quit",e)}}}}class j7{constructor(e,n){this.windowManager=e,this.messageChannel=n}stores={byOwner:new Map,byWindowId:new Map};async open(e,n){const r=await this.windowManager.ensureAuxWindow(e,this.stores,"File");r.latest=n,this.updateTitle(r,n.filePath),r.ready&&this.sendNavigation(r,n),r.window.isDestroyed()||(r.window.show(),r.window.focus())}handleRendererReady(e){const n=this.stores.byWindowId.get(e);n&&(n.ready=!0,n.latest&&(this.updateTitle(n,n.latest.filePath),this.sendNavigation(n,n.latest)))}sendNavigation(e,n){if(e.window.isDestroyed())return;const r={type:"navigate-to-route",path:"/file-preview",state:{filePath:n.filePath,contents:n.contents,line:n.line,column:n.column}};e.window.webContents.send(this.messageChannel,r)}updateTitle(e,n){if(e.window.isDestroyed())return;const r=V7(n);e.window.setTitle(r)}}function V7(t){const e=t.split(/[/\\]+/);return e[e.length-1]??t}const z7=3e4;class G7{totalInvocations=0;rollingWindowCounter=new y6({windowMs:z7});recordInvocation(e=Date.now()){this.totalInvocations+=1,this.rollingWindowCounter.record(1,e)}getSnapshot(e=Date.now()){const n=this.rollingWindowCounter.getSnapshot(e);return{totalInvocations:this.totalInvocations,invocationsLast30s:n.count}}}class q7{constructor(e){this.broadcaster=e}persistAndNotify(e){const n=b9(e);return n.length<=0?0:(this.broadcaster.inboxItemsChanged(Wu.CHANGED),n.length)}markRead(e,n){YD(e,n)&&this.broadcaster.inboxItemsChanged(Wu.CHANGED)}markUnread(e){YD(e,null)&&this.broadcaster.inboxItemsChanged(Wu.CHANGED)}}const Tu=16;function yu(t){const{width:e,height:n}=t.getSize();return!e||!n||e<=Tu&&n<=Tu?t:t.resize({width:Tu,height:Tu,quality:"best"})}function H7(t,e){if(t)try{if(t.startsWith("data:"))return yu(R.nativeImage.createFromDataURL(t));if(t.startsWith("file://"))return yu(R.nativeImage.createFromPath(Ac.fileURLToPath(t)));if(t.startsWith("/"))return yu(R.nativeImage.createFromPath(t));for(const n of e){const r=new URL(t,`file://${n.endsWith("/")?n:`${n}/`}`).pathname;if(Y.existsSync(r)){const i=R.nativeImage.createFromPath(r);if(!i.isEmpty())return yu(i)}}}catch{}}function W7(t,e){const n=async(r,i)=>{if(!e(r))return{id:null};const s=R.BrowserWindow.fromWebContents(r.sender);return new Promise(o=>{let a=!1;const c=p=>{a||(a=!0,o({id:p}))},u=p=>p.map(d=>d.type==="separator"?{type:"separator"}:{id:d.id,label:d.label,role:d.role,enabled:d.enabled??!0,icon:H7(d.icon,t),click:()=>c(d.id),submenu:d.submenu?u(d.submenu):void 0});R.Menu.buildFromTemplate(u(i)).popup({window:s??void 0,callback:()=>c(null)})})};return R.ipcMain.handle(bR,n),()=>R.ipcMain.removeHandler(bR)}function yR(t){return Array.isArray(t)?t.filter(e=>typeof e=="string"):[]}function Y7(t){if(!t||typeof t!="object")return{};const e=Object.entries(t).filter(([,n])=>typeof n=="string");return Object.fromEntries(e)}function WE(t){return{activeRoots:yR(t.get(Ne.ACTIVE_WORKSPACE_ROOTS)),roots:yR(t.get(Ne.WORKSPACE_ROOT_OPTIONS)),labels:Y7(t.get(Ne.WORKSPACE_ROOT_LABELS))}}function Pn(t){return WE(t).activeRoots}function Qt(t){return WE(t).roots}function K7(t){return WE(t).labels}function ir(t,e){t.set(Ne.ACTIVE_WORKSPACE_ROOTS,e)}function bi(t,e){t.set(Ne.WORKSPACE_ROOT_OPTIONS,e)}function Z7(t,e){const n=t.get(Ne.WORKSPACE_ROOT_OPTIONS)??null,r=e(n);return t.set(Ne.WORKSPACE_ROOT_OPTIONS,r),r}function ps(t,e){const n=t.get(Ne.WORKSPACE_ROOT_LABELS)??null,r=e(n);return t.set(Ne.WORKSPACE_ROOT_LABELS,r),r}function X7(t,e){if(Pn(t).length>0)return;const r=Qt(t);if(r.length>0){ir(t,[r[0]]);return}if(!e||e.length===0)return;const i=new Set,s=e.map(o=>o.path.trim()).filter(o=>o.length>0).filter(o=>i.has(o)?!1:(i.add(o),!0));s.length!==0&&(bi(t,s),ir(t,[s[0]]),ps(t,(o={})=>{const a={...o};return e.forEach(c=>{const u=c.name.trim();u&&a[c.path]==null&&(a[c.path]=u)}),a}))}async function J7({window:t,route:e,globalState:n,gitManager:r,hostConfig:i,windowManager:s,navigateToRoute:o}){switch(e.kind){case"settings":{o(t,"/settings");return}case"skills":{o(t,"/skills");return}case"automations":{o(t,"/inbox?automationMode=create");return}case"newThread":{const a=await Q7({route:e,globalState:n,gitManager:r,hostConfig:i});a!=null&&sX({globalState:n,hostId:i.id,workspaceRoot:a,windowManager:s}),o(t,"/",{focusComposerNonce:Date.now(),prefillPrompt:e.prompt,prefillCwd:a??void 0});return}case"localConversation":{o(t,`/local/${e.conversationId}`);return}}}async function Q7({route:t,globalState:e,gitManager:n,hostConfig:r}){if(t.path!=null){const i=await eX(t.path);if(i!=null)return i}return t.originUrl!=null?tX({targetOriginUrl:t.originUrl,globalState:e,gitManager:n,hostConfig:r}):null}async function eX(t){const e=B.resolve(t);try{return(await Vn.stat(e)).isDirectory()?e:null}catch{return null}}async function tX({targetOriginUrl:t,globalState:e,gitManager:n,hostConfig:r}){const i=nX(e);if(i.length===0)return null;const s=await rF(i,n,r);return rX({targetOriginUrl:t,workspaceRoots:i,origins:s})}function nX(t){const e=Qt(t);return e.length>0?e:Pn(t)}function rX({targetOriginUrl:t,workspaceRoots:e,origins:n}){const r=SE(t),i=new Map;for(const s of n)s.originUrl!=null&&(i.has(s.dir)||i.set(s.dir,s.originUrl),i.has(s.root)||i.set(s.root,s.originUrl));for(const s of e){const o=i.get(s);if(o!=null&&iX({targetOriginUrl:t,candidateOriginUrl:o,targetRepo:r}))return s}return null}function iX({targetOriginUrl:t,candidateOriginUrl:e,targetRepo:n}){if(e===t)return!0;if(n==null)return!1;const r=SE(e);return r==null?!1:r.host===n.host&&r.owner===n.owner&&r.repo===n.repo}function sX({globalState:t,hostId:e,workspaceRoot:n,windowManager:r}){const i=Qt(t);i.includes(n)||(bi(t,[n,...i]),r.sendMessageToAllWindows(e,{type:"workspace-root-options-updated"}));const o=Pn(t);o.length===1&&o[0]===n||(ir(t,[n]),r.sendMessageToAllWindows(e,{type:"active-workspace-roots-updated"}))}var Mm={},ei={},aa={},ca={},Qn={},ti={},ni={},ua={},xR;function oX(){return xR||(xR=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua._globalThis=void 0,ua._globalThis=typeof globalThis=="object"?globalThis:Dt),ua}var wR;function aX(){return wR||(wR=1,(function(t){var e=ni&&ni.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=ni&&ni.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oX(),t)})(ni)),ni}var AR;function cX(){return AR||(AR=1,(function(t){var e=ti&&ti.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=ti&&ti.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(aX(),t)})(ti)),ti}var la={},DR;function LF(){return DR||(DR=1,Object.defineProperty(la,"__esModule",{value:!0}),la.VERSION=void 0,la.VERSION="1.9.0"),la}var ri={},RR;function uX(){if(RR)return ri;RR=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.isCompatible=ri._makeCompatibilityCheck=void 0;const t=LF(),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(r){const i=new Set([r]),s=new Set,o=r.match(e);if(!o)return()=>!1;const a={major:+o[1],minor:+o[2],patch:+o[3],prerelease:o[4]};if(a.prerelease!=null)return function(p){return p===r};function c(l){return s.add(l),!1}function u(l){return i.add(l),!0}return function(p){if(i.has(p))return!0;if(s.has(p))return!1;const d=p.match(e);if(!d)return c(p);const f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return f.prerelease!=null||a.major!==f.major?c(p):a.major===0?a.minor===f.minor&&a.patch<=f.patch?u(p):c(p):a.minor<=f.minor?u(p):c(p)}}return ri._makeCompatibilityCheck=n,ri.isCompatible=n(t.VERSION),ri}var IR;function Bs(){if(IR)return Qn;IR=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.unregisterGlobal=Qn.getGlobal=Qn.registerGlobal=void 0;const t=cX(),e=LF(),n=uX(),r=e.VERSION.split(".")[0],i=Symbol.for(`opentelemetry.js.api.${r}`),s=t._globalThis;function o(u,l,p,d=!1){var f;const m=s[i]=(f=s[i])!==null&&f!==void 0?f:{version:e.VERSION};if(!d&&m[u]){const h=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${u}`);return p.error(h.stack||h.message),!1}if(m.version!==e.VERSION){const h=new Error(`@opentelemetry/api: Registration of version v${m.version} for ${u} does not match previously registered API v${e.VERSION}`);return p.error(h.stack||h.message),!1}return m[u]=l,p.debug(`@opentelemetry/api: Registered a global for ${u} v${e.VERSION}.`),!0}Qn.registerGlobal=o;function a(u){var l,p;const d=(l=s[i])===null||l===void 0?void 0:l.version;if(!(!d||!(0,n.isCompatible)(d)))return(p=s[i])===null||p===void 0?void 0:p[u]}Qn.getGlobal=a;function c(u,l){l.debug(`@opentelemetry/api: Unregistering a global for ${u} v${e.VERSION}.`);const p=s[i];p&&delete p[u]}return Qn.unregisterGlobal=c,Qn}var CR;function lX(){if(CR)return ca;CR=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.DiagComponentLogger=void 0;const t=Bs();class e{constructor(i){this._namespace=i.namespace||"DiagComponentLogger"}debug(...i){return n("debug",this._namespace,i)}error(...i){return n("error",this._namespace,i)}info(...i){return n("info",this._namespace,i)}warn(...i){return n("warn",this._namespace,i)}verbose(...i){return n("verbose",this._namespace,i)}}ca.DiagComponentLogger=e;function n(r,i,s){const o=(0,t.getGlobal)("diag");if(o)return s.unshift(i),o[r](...s)}return ca}var pa={},Lm={},OR;function YE(){return OR||(OR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(t.DiagLogLevel||(t.DiagLogLevel={}))})(Lm)),Lm}var NR;function pX(){if(NR)return pa;NR=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.createLogLevelDiagLogger=void 0;const t=YE();function e(n,r){n<t.DiagLogLevel.NONE?n=t.DiagLogLevel.NONE:n>t.DiagLogLevel.ALL&&(n=t.DiagLogLevel.ALL),r=r||{};function i(s,o){const a=r[s];return typeof a=="function"&&n>=o?a.bind(r):function(){}}return{error:i("error",t.DiagLogLevel.ERROR),warn:i("warn",t.DiagLogLevel.WARN),info:i("info",t.DiagLogLevel.INFO),debug:i("debug",t.DiagLogLevel.DEBUG),verbose:i("verbose",t.DiagLogLevel.VERBOSE)}}return pa.createLogLevelDiagLogger=e,pa}var kR;function js(){if(kR)return aa;kR=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.DiagAPI=void 0;const t=lX(),e=pX(),n=YE(),r=Bs(),i="diag";class s{constructor(){function a(l){return function(...p){const d=(0,r.getGlobal)("diag");if(d)return d[l](...p)}}const c=this,u=(l,p={logLevel:n.DiagLogLevel.INFO})=>{var d,f,m;if(l===c){const _=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return c.error((d=_.stack)!==null&&d!==void 0?d:_.message),!1}typeof p=="number"&&(p={logLevel:p});const h=(0,r.getGlobal)("diag"),g=(0,e.createLogLevelDiagLogger)((f=p.logLevel)!==null&&f!==void 0?f:n.DiagLogLevel.INFO,l);if(h&&!p.suppressOverrideMessage){const _=(m=new Error().stack)!==null&&m!==void 0?m:"<failed to generate stacktrace>";h.warn(`Current logger will be overwritten from ${_}`),g.warn(`Current logger will overwrite one already registered from ${_}`)}return(0,r.registerGlobal)("diag",g,c,!0)};c.setLogger=u,c.disable=()=>{(0,r.unregisterGlobal)(i,c)},c.createComponentLogger=l=>new t.DiagComponentLogger(l),c.verbose=a("verbose"),c.debug=a("debug"),c.info=a("info"),c.warn=a("warn"),c.error=a("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}return aa.DiagAPI=s,aa}var da={},PR;function dX(){if(PR)return da;PR=1,Object.defineProperty(da,"__esModule",{value:!0}),da.BaggageImpl=void 0;class t{constructor(n){this._entries=n?new Map(n):new Map}getEntry(n){const r=this._entries.get(n);if(r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([n,r])=>[n,r])}setEntry(n,r){const i=new t(this._entries);return i._entries.set(n,r),i}removeEntry(n){const r=new t(this._entries);return r._entries.delete(n),r}removeEntries(...n){const r=new t(this._entries);for(const i of n)r._entries.delete(i);return r}clear(){return new t}}return da.BaggageImpl=t,da}var fa={},MR;function fX(){return MR||(MR=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.baggageEntryMetadataSymbol=void 0,fa.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")),fa}var LR;function UF(){if(LR)return ei;LR=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.baggageEntryMetadataFromString=ei.createBaggage=void 0;const t=js(),e=dX(),n=fX(),r=t.DiagAPI.instance();function i(o={}){return new e.BaggageImpl(new Map(Object.entries(o)))}ei.createBaggage=i;function s(o){return typeof o!="string"&&(r.error(`Cannot create baggage metadata from unknown type: ${typeof o}`),o=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString(){return o}}}return ei.baggageEntryMetadataFromString=s,ei}var ii={},UR;function Dp(){if(UR)return ii;UR=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.ROOT_CONTEXT=ii.createContextKey=void 0;function t(n){return Symbol.for(n)}ii.createContextKey=t;class e{constructor(r){const i=this;i._currentContext=r?new Map(r):new Map,i.getValue=s=>i._currentContext.get(s),i.setValue=(s,o)=>{const a=new e(i._currentContext);return a._currentContext.set(s,o),a},i.deleteValue=s=>{const o=new e(i._currentContext);return o._currentContext.delete(s),o}}}return ii.ROOT_CONTEXT=new e,ii}var ma={},FR;function mX(){if(FR)return ma;FR=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.DiagConsoleLogger=void 0;const t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class e{constructor(){function r(i){return function(...s){if(console){let o=console[i];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,s)}}}for(let i=0;i<t.length;i++)this[t[i].n]=r(t[i].c)}}return ma.DiagConsoleLogger=e,ma}var Um={},$R;function FF(){return $R||($R=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_GAUGE_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopGaugeMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class e{constructor(){}createGauge(f,m){return t.NOOP_GAUGE_METRIC}createHistogram(f,m){return t.NOOP_HISTOGRAM_METRIC}createCounter(f,m){return t.NOOP_COUNTER_METRIC}createUpDownCounter(f,m){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(f,m){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(f,m){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(f,m){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(f,m){}removeBatchObservableCallback(f){}}t.NoopMeter=e;class n{}t.NoopMetric=n;class r extends n{add(f,m){}}t.NoopCounterMetric=r;class i extends n{add(f,m){}}t.NoopUpDownCounterMetric=i;class s extends n{record(f,m){}}t.NoopGaugeMetric=s;class o extends n{record(f,m){}}t.NoopHistogramMetric=o;class a{addCallback(f){}removeCallback(f){}}t.NoopObservableMetric=a;class c extends a{}t.NoopObservableCounterMetric=c;class u extends a{}t.NoopObservableGaugeMetric=u;class l extends a{}t.NoopObservableUpDownCounterMetric=l,t.NOOP_METER=new e,t.NOOP_COUNTER_METRIC=new r,t.NOOP_GAUGE_METRIC=new s,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new i,t.NOOP_OBSERVABLE_COUNTER_METRIC=new c,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new l;function p(){return t.NOOP_METER}t.createNoopMeter=p})(Um)),Um}var Fm={},BR;function hX(){return BR||(BR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(t.ValueType||(t.ValueType={}))})(Fm)),Fm}var si={},jR;function $F(){return jR||(jR=1,Object.defineProperty(si,"__esModule",{value:!0}),si.defaultTextMapSetter=si.defaultTextMapGetter=void 0,si.defaultTextMapGetter={get(t,e){if(t!=null)return t[e]},keys(t){return t==null?[]:Object.keys(t)}},si.defaultTextMapSetter={set(t,e,n){t!=null&&(t[e]=n)}}),si}var ha={},ga={},_a={},va={},VR;function gX(){if(VR)return va;VR=1,Object.defineProperty(va,"__esModule",{value:!0}),va.NoopContextManager=void 0;const t=Dp();let e=class{active(){return t.ROOT_CONTEXT}with(r,i,s,...o){return i.call(s,...o)}bind(r,i){return i}enable(){return this}disable(){return this}};return va.NoopContextManager=e,va}var zR;function Rp(){if(zR)return _a;zR=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.ContextAPI=void 0;const t=gX(),e=Bs(),n=js(),r="context",i=new t.NoopContextManager;class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(r,a,n.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,c,u,...l){return this._getContextManager().with(a,c,u,...l)}bind(a,c){return this._getContextManager().bind(a,c)}_getContextManager(){return(0,e.getGlobal)(r)||i}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(r,n.DiagAPI.instance())}}return _a.ContextAPI=s,_a}var yt={},Ea={},$m={},Bm={},GR;function BF(){return GR||(GR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(t.TraceFlags||(t.TraceFlags={}))})(Bm)),Bm}var qR;function KE(){return qR||(qR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;const e=BF();t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:e.TraceFlags.NONE}})($m)),$m}var HR;function ZE(){if(HR)return Ea;HR=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.NonRecordingSpan=void 0;const t=KE();let e=class{constructor(r=t.INVALID_SPAN_CONTEXT){this._spanContext=r}spanContext(){return this._spanContext}setAttribute(r,i){return this}setAttributes(r){return this}addEvent(r,i){return this}addLink(r){return this}addLinks(r){return this}setStatus(r){return this}updateName(r){return this}end(r){}isRecording(){return!1}recordException(r,i){}};return Ea.NonRecordingSpan=e,Ea}var WR;function jF(){if(WR)return yt;WR=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.getSpanContext=yt.setSpanContext=yt.deleteSpan=yt.setSpan=yt.getActiveSpan=yt.getSpan=void 0;const t=Dp(),e=ZE(),n=Rp(),r=(0,t.createContextKey)("OpenTelemetry Context Key SPAN");function i(l){return l.getValue(r)||void 0}yt.getSpan=i;function s(){return i(n.ContextAPI.getInstance().active())}yt.getActiveSpan=s;function o(l,p){return l.setValue(r,p)}yt.setSpan=o;function a(l){return l.deleteValue(r)}yt.deleteSpan=a;function c(l,p){return o(l,new e.NonRecordingSpan(p))}yt.setSpanContext=c;function u(l){var p;return(p=i(l))===null||p===void 0?void 0:p.spanContext()}return yt.getSpanContext=u,yt}var dn={},YR;function XE(){if(YR)return dn;YR=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.wrapSpanContext=dn.isSpanContextValid=dn.isValidSpanId=dn.isValidTraceId=void 0;const t=KE(),e=ZE(),n=/^([0-9a-f]{32})$/i,r=/^[0-9a-f]{16}$/i;function i(c){return n.test(c)&&c!==t.INVALID_TRACEID}dn.isValidTraceId=i;function s(c){return r.test(c)&&c!==t.INVALID_SPANID}dn.isValidSpanId=s;function o(c){return i(c.traceId)&&s(c.spanId)}dn.isSpanContextValid=o;function a(c){return new e.NonRecordingSpan(c)}return dn.wrapSpanContext=a,dn}var KR;function VF(){if(KR)return ga;KR=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.NoopTracer=void 0;const t=Rp(),e=jF(),n=ZE(),r=XE(),i=t.ContextAPI.getInstance();let s=class{startSpan(c,u,l=i.active()){if(!!u?.root)return new n.NonRecordingSpan;const d=l&&(0,e.getSpanContext)(l);return o(d)&&(0,r.isSpanContextValid)(d)?new n.NonRecordingSpan(d):new n.NonRecordingSpan}startActiveSpan(c,u,l,p){let d,f,m;if(arguments.length<2)return;arguments.length===2?m=u:arguments.length===3?(d=u,m=l):(d=u,f=l,m=p);const h=f??i.active(),g=this.startSpan(c,d,h),_=(0,e.setSpan)(h,g);return i.with(_,m,void 0,g)}};ga.NoopTracer=s;function o(a){return typeof a=="object"&&typeof a.spanId=="string"&&typeof a.traceId=="string"&&typeof a.traceFlags=="number"}return ga}var ZR;function zF(){if(ZR)return ha;ZR=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.ProxyTracer=void 0;const t=VF(),e=new t.NoopTracer;let n=class{constructor(i,s,o,a){this._provider=i,this.name=s,this.version=o,this.options=a}startSpan(i,s,o){return this._getTracer().startSpan(i,s,o)}startActiveSpan(i,s,o,a){const c=this._getTracer();return Reflect.apply(c.startActiveSpan,c,arguments)}_getTracer(){if(this._delegate)return this._delegate;const i=this._provider.getDelegateTracer(this.name,this.version,this.options);return i?(this._delegate=i,this._delegate):e}};return ha.ProxyTracer=n,ha}var Sa={},ba={},XR;function _X(){if(XR)return ba;XR=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.NoopTracerProvider=void 0;const t=VF();let e=class{getTracer(r,i,s){return new t.NoopTracer}};return ba.NoopTracerProvider=e,ba}var JR;function GF(){if(JR)return Sa;JR=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.ProxyTracerProvider=void 0;const t=zF(),e=_X(),n=new e.NoopTracerProvider;let r=class{getTracer(s,o,a){var c;return(c=this.getDelegateTracer(s,o,a))!==null&&c!==void 0?c:new t.ProxyTracer(this,s,o,a)}getDelegate(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n}setDelegate(s){this._delegate=s}getDelegateTracer(s,o,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,o,a)}};return Sa.ProxyTracerProvider=r,Sa}var jm={},QR;function vX(){return QR||(QR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(t.SamplingDecision||(t.SamplingDecision={}))})(jm)),jm}var Vm={},eI;function EX(){return eI||(eI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(t.SpanKind||(t.SpanKind={}))})(Vm)),Vm}var zm={},tI;function SX(){return tI||(tI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(t.SpanStatusCode||(t.SpanStatusCode={}))})(zm)),zm}var Ta={},ya={},oi={},nI;function bX(){if(nI)return oi;nI=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.validateValue=oi.validateKey=void 0;const t="[_0-9a-z-*/]",e=`[a-z]${t}{0,255}`,n=`[a-z0-9]${t}{0,240}@[a-z]${t}{0,13}`,r=new RegExp(`^(?:${e}|${n})$`),i=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function o(c){return r.test(c)}oi.validateKey=o;function a(c){return i.test(c)&&!s.test(c)}return oi.validateValue=a,oi}var rI;function TX(){if(rI)return ya;rI=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.TraceStateImpl=void 0;const t=bX(),e=32,n=512,r=",",i="=";class s{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){const u=this._clone();return u._internalState.has(a)&&u._internalState.delete(a),u._internalState.set(a,c),u}unset(a){const c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+i+this.get(c)),a),[]).join(r)}_parse(a){a.length>n||(this._internalState=a.split(r).reverse().reduce((c,u)=>{const l=u.trim(),p=l.indexOf(i);if(p!==-1){const d=l.slice(0,p),f=l.slice(p+1,u.length);(0,t.validateKey)(d)&&(0,t.validateValue)(f)&&c.set(d,f)}return c},new Map),this._internalState.size>e&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,e))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const a=new s;return a._internalState=new Map(this._internalState),a}}return ya.TraceStateImpl=s,ya}var iI;function yX(){if(iI)return Ta;iI=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.createTraceState=void 0;const t=TX();function e(n){return new t.TraceStateImpl(n)}return Ta.createTraceState=e,Ta}var xa={},sI;function xX(){if(sI)return xa;sI=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.context=void 0;const t=Rp();return xa.context=t.ContextAPI.getInstance(),xa}var wa={},oI;function wX(){if(oI)return wa;oI=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.diag=void 0;const t=js();return wa.diag=t.DiagAPI.instance(),wa}var Aa={},Da={},ai={},aI;function AX(){if(aI)return ai;aI=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.NOOP_METER_PROVIDER=ai.NoopMeterProvider=void 0;const t=FF();let e=class{getMeter(r,i,s){return t.NOOP_METER}};return ai.NoopMeterProvider=e,ai.NOOP_METER_PROVIDER=new e,ai}var cI;function DX(){if(cI)return Da;cI=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.MetricsAPI=void 0;const t=AX(),e=Bs(),n=js(),r="metrics";class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalMeterProvider(o){return(0,e.registerGlobal)(r,o,n.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(r)||t.NOOP_METER_PROVIDER}getMeter(o,a,c){return this.getMeterProvider().getMeter(o,a,c)}disable(){(0,e.unregisterGlobal)(r,n.DiagAPI.instance())}}return Da.MetricsAPI=i,Da}var uI;function RX(){if(uI)return Aa;uI=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.metrics=void 0;const t=DX();return Aa.metrics=t.MetricsAPI.getInstance(),Aa}var Ra={},Ia={},Ca={},lI;function IX(){if(lI)return Ca;lI=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.NoopTextMapPropagator=void 0;let t=class{inject(n,r){}extract(n,r){return n}fields(){return[]}};return Ca.NoopTextMapPropagator=t,Ca}var fn={},pI;function CX(){if(pI)return fn;pI=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.deleteBaggage=fn.setBaggage=fn.getActiveBaggage=fn.getBaggage=void 0;const t=Rp(),n=(0,Dp().createContextKey)("OpenTelemetry Baggage Key");function r(a){return a.getValue(n)||void 0}fn.getBaggage=r;function i(){return r(t.ContextAPI.getInstance().active())}fn.getActiveBaggage=i;function s(a,c){return a.setValue(n,c)}fn.setBaggage=s;function o(a){return a.deleteValue(n)}return fn.deleteBaggage=o,fn}var dI;function OX(){if(dI)return Ia;dI=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.PropagationAPI=void 0;const t=Bs(),e=IX(),n=$F(),r=CX(),i=UF(),s=js(),o="propagation",a=new e.NoopTextMapPropagator;class c{constructor(){this.createBaggage=i.createBaggage,this.getBaggage=r.getBaggage,this.getActiveBaggage=r.getActiveBaggage,this.setBaggage=r.setBaggage,this.deleteBaggage=r.deleteBaggage}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalPropagator(l){return(0,t.registerGlobal)(o,l,s.DiagAPI.instance())}inject(l,p,d=n.defaultTextMapSetter){return this._getGlobalPropagator().inject(l,p,d)}extract(l,p,d=n.defaultTextMapGetter){return this._getGlobalPropagator().extract(l,p,d)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,t.unregisterGlobal)(o,s.DiagAPI.instance())}_getGlobalPropagator(){return(0,t.getGlobal)(o)||a}}return Ia.PropagationAPI=c,Ia}var fI;function NX(){if(fI)return Ra;fI=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.propagation=void 0;const t=OX();return Ra.propagation=t.PropagationAPI.getInstance(),Ra}var Oa={},Na={},mI;function kX(){if(mI)return Na;mI=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.TraceAPI=void 0;const t=Bs(),e=GF(),n=XE(),r=jF(),i=js(),s="trace";class o{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=r.deleteSpan,this.getSpan=r.getSpan,this.getActiveSpan=r.getActiveSpan,this.getSpanContext=r.getSpanContext,this.setSpan=r.setSpan,this.setSpanContext=r.setSpanContext}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalTracerProvider(c){const u=(0,t.registerGlobal)(s,this._proxyTracerProvider,i.DiagAPI.instance());return u&&this._proxyTracerProvider.setDelegate(c),u}getTracerProvider(){return(0,t.getGlobal)(s)||this._proxyTracerProvider}getTracer(c,u){return this.getTracerProvider().getTracer(c,u)}disable(){(0,t.unregisterGlobal)(s,i.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}return Na.TraceAPI=o,Na}var hI;function PX(){if(hI)return Oa;hI=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.trace=void 0;const t=kX();return Oa.trace=t.TraceAPI.getInstance(),Oa}var gI;function Ip(){return gI||(gI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.trace=t.propagation=t.metrics=t.diag=t.context=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.isValidSpanId=t.isValidTraceId=t.isSpanContextValid=t.createTraceState=t.TraceFlags=t.SpanStatusCode=t.SpanKind=t.SamplingDecision=t.ProxyTracerProvider=t.ProxyTracer=t.defaultTextMapSetter=t.defaultTextMapGetter=t.ValueType=t.createNoopMeter=t.DiagLogLevel=t.DiagConsoleLogger=t.ROOT_CONTEXT=t.createContextKey=t.baggageEntryMetadataFromString=void 0;var e=UF();Object.defineProperty(t,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var n=Dp();Object.defineProperty(t,"createContextKey",{enumerable:!0,get:function(){return n.createContextKey}}),Object.defineProperty(t,"ROOT_CONTEXT",{enumerable:!0,get:function(){return n.ROOT_CONTEXT}});var r=mX();Object.defineProperty(t,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var i=YE();Object.defineProperty(t,"DiagLogLevel",{enumerable:!0,get:function(){return i.DiagLogLevel}});var s=FF();Object.defineProperty(t,"createNoopMeter",{enumerable:!0,get:function(){return s.createNoopMeter}});var o=hX();Object.defineProperty(t,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var a=$F();Object.defineProperty(t,"defaultTextMapGetter",{enumerable:!0,get:function(){return a.defaultTextMapGetter}}),Object.defineProperty(t,"defaultTextMapSetter",{enumerable:!0,get:function(){return a.defaultTextMapSetter}});var c=zF();Object.defineProperty(t,"ProxyTracer",{enumerable:!0,get:function(){return c.ProxyTracer}});var u=GF();Object.defineProperty(t,"ProxyTracerProvider",{enumerable:!0,get:function(){return u.ProxyTracerProvider}});var l=vX();Object.defineProperty(t,"SamplingDecision",{enumerable:!0,get:function(){return l.SamplingDecision}});var p=EX();Object.defineProperty(t,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var d=SX();Object.defineProperty(t,"SpanStatusCode",{enumerable:!0,get:function(){return d.SpanStatusCode}});var f=BF();Object.defineProperty(t,"TraceFlags",{enumerable:!0,get:function(){return f.TraceFlags}});var m=yX();Object.defineProperty(t,"createTraceState",{enumerable:!0,get:function(){return m.createTraceState}});var h=XE();Object.defineProperty(t,"isSpanContextValid",{enumerable:!0,get:function(){return h.isSpanContextValid}}),Object.defineProperty(t,"isValidTraceId",{enumerable:!0,get:function(){return h.isValidTraceId}}),Object.defineProperty(t,"isValidSpanId",{enumerable:!0,get:function(){return h.isValidSpanId}});var g=KE();Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return g.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return g.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return g.INVALID_SPAN_CONTEXT}});const _=xX();Object.defineProperty(t,"context",{enumerable:!0,get:function(){return _.context}});const S=wX();Object.defineProperty(t,"diag",{enumerable:!0,get:function(){return S.diag}});const v=RX();Object.defineProperty(t,"metrics",{enumerable:!0,get:function(){return v.metrics}});const T=NX();Object.defineProperty(t,"propagation",{enumerable:!0,get:function(){return T.propagation}});const y=PX();Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return y.trace}}),t.default={context:_.context,diag:S.diag,metrics:v.metrics,propagation:T.propagation,trace:y.trace}})(Mm)),Mm}var $=Ip();const JE=$.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Ni(t){return t.setValue(JE,!0)}function MX(t){return t.deleteValue(JE)}function Br(t){return t.getValue(JE)===!0}const LX="=",e_=";",Dl=",",Gm="baggage",UX=180,FX=4096,$X=8192;function BX(t){return t.reduce((e,n)=>{const r=`${e}${e!==""?Dl:""}${n}`;return r.length>$X?e:r},"")}function jX(t){return t.getAllEntries().map(([e,n])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(n.value)}`;return n.metadata!==void 0&&(r+=e_+n.metadata.toString()),r})}function qF(t){const e=t.split(e_);if(e.length<=0)return;const n=e.shift();if(!n)return;const r=n.indexOf(LX);if(r<=0)return;const i=decodeURIComponent(n.substring(0,r).trim()),s=decodeURIComponent(n.substring(r+1).trim());let o;return e.length>0&&(o=$.baggageEntryMetadataFromString(e.join(e_))),{key:i,value:s,metadata:o}}function VX(t){const e={};return typeof t=="string"&&t.length>0&&t.split(Dl).forEach(n=>{const r=qF(n);r!==void 0&&r.value.length>0&&(e[r.key]=r.value)}),e}class HF{inject(e,n,r){const i=$.propagation.getBaggage(e);if(!i||Br(e))return;const s=jX(i).filter(a=>a.length<=FX).slice(0,UX),o=BX(s);o.length>0&&r.set(n,Gm,o)}extract(e,n,r){const i=r.get(n,Gm),s=Array.isArray(i)?i.join(Dl):i;if(!s)return e;const o={};return s.length===0||(s.split(Dl).forEach(c=>{const u=qF(c);if(u){const l={value:u.value};u.metadata&&(l.metadata=u.metadata),o[u.key]=l}}),Object.entries(o).length===0)?e:$.propagation.setBaggage(e,$.propagation.createBaggage(o))}fields(){return[Gm]}}class zX{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,n){this._monotonicClock=n,this._epochMillis=e.now(),this._performanceMillis=n.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}function sc(t){const e={};if(typeof t!="object"||t==null)return e;for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;if(!GX(n)){$.diag.warn(`Invalid attribute key: ${n}`);continue}const r=t[n];if(!QE(r)){$.diag.warn(`Invalid attribute value set for key: ${n}`);continue}Array.isArray(r)?e[n]=r.slice():e[n]=r}return e}function GX(t){return typeof t=="string"&&t!==""}function QE(t){return t==null?!0:Array.isArray(t)?qX(t):WF(typeof t)}function qX(t){let e;for(const n of t){if(n==null)continue;const r=typeof n;if(r!==e){if(!e){if(WF(r)){e=r;continue}return!1}return!1}}return!0}function WF(t){switch(t){case"number":case"boolean":case"string":return!0}return!1}function YF(){return t=>{$.diag.error(HX(t))}}function HX(t){return typeof t=="string"?t:JSON.stringify(WX(t))}function WX(t){const e={};let n=t;for(;n!==null;)Object.getOwnPropertyNames(n).forEach(r=>{if(e[r])return;const i=n[r];i&&(e[r]=String(i))}),n=Object.getPrototypeOf(n);return e}let KF=YF();function YX(t){KF=t}function eS(t){try{KF(t)}catch{}}function Nt(t){const e=process.env[t];if(e==null||e.trim()==="")return;const n=Number(e);if(isNaN(n)){$.diag.warn(`Unknown value ${Es.inspect(e)} for ${t}, expected a number, using defaults`);return}return n}function tS(t){const e=process.env[t];if(!(e==null||e.trim()===""))return e}function KX(t){const e=process.env[t]?.trim().toLowerCase();return e==null||e===""?!1:e==="true"?!0:(e==="false"||$.diag.warn(`Unknown value ${Es.inspect(e)} for ${t}, expected 'true' or 'false', falling back to 'false' (default)`),!1)}function ZX(t){return tS(t)?.split(",").map(e=>e.trim()).filter(e=>e!=="")}const XX=typeof globalThis=="object"?globalThis:global,wi=g2.performance,JX="2.2.0";var ci={},ui={},E={},ka={},_I;function ZF(){if(_I)return ka;_I=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.createConstMap=void 0;function t(e){let n={};const r=e.length;for(let i=0;i<r;i++){const s=e[i];s&&(n[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return n}return ka.createConstMap=t,ka}var vI;function QX(){if(vI)return E;vI=1,Object.defineProperty(E,"__esModule",{value:!0}),E.SEMATTRS_NET_HOST_CARRIER_ICC=E.SEMATTRS_NET_HOST_CARRIER_MNC=E.SEMATTRS_NET_HOST_CARRIER_MCC=E.SEMATTRS_NET_HOST_CARRIER_NAME=E.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=E.SEMATTRS_NET_HOST_CONNECTION_TYPE=E.SEMATTRS_NET_HOST_NAME=E.SEMATTRS_NET_HOST_PORT=E.SEMATTRS_NET_HOST_IP=E.SEMATTRS_NET_PEER_NAME=E.SEMATTRS_NET_PEER_PORT=E.SEMATTRS_NET_PEER_IP=E.SEMATTRS_NET_TRANSPORT=E.SEMATTRS_FAAS_INVOKED_REGION=E.SEMATTRS_FAAS_INVOKED_PROVIDER=E.SEMATTRS_FAAS_INVOKED_NAME=E.SEMATTRS_FAAS_COLDSTART=E.SEMATTRS_FAAS_CRON=E.SEMATTRS_FAAS_TIME=E.SEMATTRS_FAAS_DOCUMENT_NAME=E.SEMATTRS_FAAS_DOCUMENT_TIME=E.SEMATTRS_FAAS_DOCUMENT_OPERATION=E.SEMATTRS_FAAS_DOCUMENT_COLLECTION=E.SEMATTRS_FAAS_EXECUTION=E.SEMATTRS_FAAS_TRIGGER=E.SEMATTRS_EXCEPTION_ESCAPED=E.SEMATTRS_EXCEPTION_STACKTRACE=E.SEMATTRS_EXCEPTION_MESSAGE=E.SEMATTRS_EXCEPTION_TYPE=E.SEMATTRS_DB_SQL_TABLE=E.SEMATTRS_DB_MONGODB_COLLECTION=E.SEMATTRS_DB_REDIS_DATABASE_INDEX=E.SEMATTRS_DB_HBASE_NAMESPACE=E.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=E.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=E.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=E.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=E.SEMATTRS_DB_CASSANDRA_TABLE=E.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=E.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=E.SEMATTRS_DB_CASSANDRA_KEYSPACE=E.SEMATTRS_DB_MSSQL_INSTANCE_NAME=E.SEMATTRS_DB_OPERATION=E.SEMATTRS_DB_STATEMENT=E.SEMATTRS_DB_NAME=E.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=E.SEMATTRS_DB_USER=E.SEMATTRS_DB_CONNECTION_STRING=E.SEMATTRS_DB_SYSTEM=E.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0,E.SEMATTRS_MESSAGING_DESTINATION_KIND=E.SEMATTRS_MESSAGING_DESTINATION=E.SEMATTRS_MESSAGING_SYSTEM=E.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=E.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=E.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=E.SEMATTRS_AWS_DYNAMODB_COUNT=E.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=E.SEMATTRS_AWS_DYNAMODB_SEGMENT=E.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=E.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=E.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=E.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=E.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=E.SEMATTRS_AWS_DYNAMODB_SELECT=E.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=E.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=E.SEMATTRS_AWS_DYNAMODB_LIMIT=E.SEMATTRS_AWS_DYNAMODB_PROJECTION=E.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=E.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=E.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=E.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=E.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=E.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=E.SEMATTRS_HTTP_CLIENT_IP=E.SEMATTRS_HTTP_ROUTE=E.SEMATTRS_HTTP_SERVER_NAME=E.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=E.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=E.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=E.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=E.SEMATTRS_HTTP_USER_AGENT=E.SEMATTRS_HTTP_FLAVOR=E.SEMATTRS_HTTP_STATUS_CODE=E.SEMATTRS_HTTP_SCHEME=E.SEMATTRS_HTTP_HOST=E.SEMATTRS_HTTP_TARGET=E.SEMATTRS_HTTP_URL=E.SEMATTRS_HTTP_METHOD=E.SEMATTRS_CODE_LINENO=E.SEMATTRS_CODE_FILEPATH=E.SEMATTRS_CODE_NAMESPACE=E.SEMATTRS_CODE_FUNCTION=E.SEMATTRS_THREAD_NAME=E.SEMATTRS_THREAD_ID=E.SEMATTRS_ENDUSER_SCOPE=E.SEMATTRS_ENDUSER_ROLE=E.SEMATTRS_ENDUSER_ID=E.SEMATTRS_PEER_SERVICE=void 0,E.DBSYSTEMVALUES_FILEMAKER=E.DBSYSTEMVALUES_DERBY=E.DBSYSTEMVALUES_FIREBIRD=E.DBSYSTEMVALUES_ADABAS=E.DBSYSTEMVALUES_CACHE=E.DBSYSTEMVALUES_EDB=E.DBSYSTEMVALUES_FIRSTSQL=E.DBSYSTEMVALUES_INGRES=E.DBSYSTEMVALUES_HANADB=E.DBSYSTEMVALUES_MAXDB=E.DBSYSTEMVALUES_PROGRESS=E.DBSYSTEMVALUES_HSQLDB=E.DBSYSTEMVALUES_CLOUDSCAPE=E.DBSYSTEMVALUES_HIVE=E.DBSYSTEMVALUES_REDSHIFT=E.DBSYSTEMVALUES_POSTGRESQL=E.DBSYSTEMVALUES_DB2=E.DBSYSTEMVALUES_ORACLE=E.DBSYSTEMVALUES_MYSQL=E.DBSYSTEMVALUES_MSSQL=E.DBSYSTEMVALUES_OTHER_SQL=E.SemanticAttributes=E.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=E.SEMATTRS_MESSAGE_COMPRESSED_SIZE=E.SEMATTRS_MESSAGE_ID=E.SEMATTRS_MESSAGE_TYPE=E.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=E.SEMATTRS_RPC_JSONRPC_ERROR_CODE=E.SEMATTRS_RPC_JSONRPC_REQUEST_ID=E.SEMATTRS_RPC_JSONRPC_VERSION=E.SEMATTRS_RPC_GRPC_STATUS_CODE=E.SEMATTRS_RPC_METHOD=E.SEMATTRS_RPC_SERVICE=E.SEMATTRS_RPC_SYSTEM=E.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=E.SEMATTRS_MESSAGING_KAFKA_PARTITION=E.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=E.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=E.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=E.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=E.SEMATTRS_MESSAGING_CONSUMER_ID=E.SEMATTRS_MESSAGING_OPERATION=E.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=E.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=E.SEMATTRS_MESSAGING_CONVERSATION_ID=E.SEMATTRS_MESSAGING_MESSAGE_ID=E.SEMATTRS_MESSAGING_URL=E.SEMATTRS_MESSAGING_PROTOCOL_VERSION=E.SEMATTRS_MESSAGING_PROTOCOL=E.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0,E.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=E.FaasDocumentOperationValues=E.FAASDOCUMENTOPERATIONVALUES_DELETE=E.FAASDOCUMENTOPERATIONVALUES_EDIT=E.FAASDOCUMENTOPERATIONVALUES_INSERT=E.FaasTriggerValues=E.FAASTRIGGERVALUES_OTHER=E.FAASTRIGGERVALUES_TIMER=E.FAASTRIGGERVALUES_PUBSUB=E.FAASTRIGGERVALUES_HTTP=E.FAASTRIGGERVALUES_DATASOURCE=E.DbCassandraConsistencyLevelValues=E.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=E.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=E.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=E.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=E.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=E.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=E.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=E.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=E.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=E.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=E.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=E.DbSystemValues=E.DBSYSTEMVALUES_COCKROACHDB=E.DBSYSTEMVALUES_MEMCACHED=E.DBSYSTEMVALUES_ELASTICSEARCH=E.DBSYSTEMVALUES_GEODE=E.DBSYSTEMVALUES_NEO4J=E.DBSYSTEMVALUES_DYNAMODB=E.DBSYSTEMVALUES_COSMOSDB=E.DBSYSTEMVALUES_COUCHDB=E.DBSYSTEMVALUES_COUCHBASE=E.DBSYSTEMVALUES_REDIS=E.DBSYSTEMVALUES_MONGODB=E.DBSYSTEMVALUES_HBASE=E.DBSYSTEMVALUES_CASSANDRA=E.DBSYSTEMVALUES_COLDFUSION=E.DBSYSTEMVALUES_H2=E.DBSYSTEMVALUES_VERTICA=E.DBSYSTEMVALUES_TERADATA=E.DBSYSTEMVALUES_SYBASE=E.DBSYSTEMVALUES_SQLITE=E.DBSYSTEMVALUES_POINTBASE=E.DBSYSTEMVALUES_PERVASIVE=E.DBSYSTEMVALUES_NETEZZA=E.DBSYSTEMVALUES_MARIADB=E.DBSYSTEMVALUES_INTERBASE=E.DBSYSTEMVALUES_INSTANTDB=E.DBSYSTEMVALUES_INFORMIX=void 0,E.MESSAGINGOPERATIONVALUES_RECEIVE=E.MessagingDestinationKindValues=E.MESSAGINGDESTINATIONKINDVALUES_TOPIC=E.MESSAGINGDESTINATIONKINDVALUES_QUEUE=E.HttpFlavorValues=E.HTTPFLAVORVALUES_QUIC=E.HTTPFLAVORVALUES_SPDY=E.HTTPFLAVORVALUES_HTTP_2_0=E.HTTPFLAVORVALUES_HTTP_1_1=E.HTTPFLAVORVALUES_HTTP_1_0=E.NetHostConnectionSubtypeValues=E.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=E.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=E.NETHOSTCONNECTIONSUBTYPEVALUES_NR=E.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=E.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=E.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=E.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=E.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=E.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=E.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=E.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=E.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=E.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=E.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=E.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=E.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=E.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=E.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=E.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=E.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=E.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=E.NetHostConnectionTypeValues=E.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=E.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=E.NETHOSTCONNECTIONTYPEVALUES_CELL=E.NETHOSTCONNECTIONTYPEVALUES_WIRED=E.NETHOSTCONNECTIONTYPEVALUES_WIFI=E.NetTransportValues=E.NETTRANSPORTVALUES_OTHER=E.NETTRANSPORTVALUES_INPROC=E.NETTRANSPORTVALUES_PIPE=E.NETTRANSPORTVALUES_UNIX=E.NETTRANSPORTVALUES_IP=E.NETTRANSPORTVALUES_IP_UDP=E.NETTRANSPORTVALUES_IP_TCP=E.FaasInvokedProviderValues=E.FAASINVOKEDPROVIDERVALUES_GCP=E.FAASINVOKEDPROVIDERVALUES_AZURE=E.FAASINVOKEDPROVIDERVALUES_AWS=void 0,E.MessageTypeValues=E.MESSAGETYPEVALUES_RECEIVED=E.MESSAGETYPEVALUES_SENT=E.RpcGrpcStatusCodeValues=E.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=E.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=E.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=E.RPCGRPCSTATUSCODEVALUES_INTERNAL=E.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=E.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=E.RPCGRPCSTATUSCODEVALUES_ABORTED=E.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=E.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=E.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=E.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=E.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=E.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=E.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=E.RPCGRPCSTATUSCODEVALUES_UNKNOWN=E.RPCGRPCSTATUSCODEVALUES_CANCELLED=E.RPCGRPCSTATUSCODEVALUES_OK=E.MessagingOperationValues=E.MESSAGINGOPERATIONVALUES_PROCESS=void 0;const t=ZF(),e="aws.lambda.invoked_arn",n="db.system",r="db.connection_string",i="db.user",s="db.jdbc.driver_classname",o="db.name",a="db.statement",c="db.operation",u="db.mssql.instance_name",l="db.cassandra.keyspace",p="db.cassandra.page_size",d="db.cassandra.consistency_level",f="db.cassandra.table",m="db.cassandra.idempotence",h="db.cassandra.speculative_execution_count",g="db.cassandra.coordinator.id",_="db.cassandra.coordinator.dc",S="db.hbase.namespace",v="db.redis.database_index",T="db.mongodb.collection",y="db.sql.table",b="exception.type",x="exception.message",D="exception.stacktrace",k="exception.escaped",U="faas.trigger",C="faas.execution",L="faas.document.collection",j="faas.document.operation",N="faas.document.time",H="faas.document.name",O="faas.time",M="faas.cron",Q="faas.coldstart",de="faas.invoked_name",_e="faas.invoked_provider",oe="faas.invoked_region",I="net.transport",F="net.peer.ip",z="net.peer.port",q="net.peer.name",X="net.host.ip",J="net.host.port",se="net.host.name",Se="net.host.connection.type",Ue="net.host.connection.subtype",ce="net.host.carrier.name",Ae="net.host.carrier.mcc",ke="net.host.carrier.mnc",nt="net.host.carrier.icc",ye="peer.service",Fe="enduser.id",V="enduser.role",W="enduser.scope",re="thread.id",ue="thread.name",ie="code.function",xe="code.namespace",St="code.filepath",Lt="code.lineno",qe="http.method",te="http.url",ht="http.target",An="http.host",nn="http.scheme",rn="http.status_code",He="http.flavor",we="http.user_agent",st="http.request_content_length",Kt="http.request_content_length_uncompressed",sn="http.response_content_length",_r="http.response_content_length_uncompressed",Zt="http.server_name",on="http.route",vr="http.client_ip",Hn="aws.dynamodb.table_names",Er="aws.dynamodb.consumed_capacity",Wn="aws.dynamodb.item_collection_metrics",zr="aws.dynamodb.provisioned_read_capacity",Zs="aws.dynamodb.provisioned_write_capacity",Xs="aws.dynamodb.consistent_read",Js="aws.dynamodb.projection",Qs="aws.dynamodb.limit",eo="aws.dynamodb.attributes_to_get",to="aws.dynamodb.index_name",no="aws.dynamodb.select",ro="aws.dynamodb.global_secondary_indexes",io="aws.dynamodb.local_secondary_indexes",so="aws.dynamodb.exclusive_start_table",oo="aws.dynamodb.table_count",ao="aws.dynamodb.scan_forward",co="aws.dynamodb.segment",uo="aws.dynamodb.total_segments",lo="aws.dynamodb.count",po="aws.dynamodb.scanned_count",fo="aws.dynamodb.attribute_definitions",mo="aws.dynamodb.global_secondary_index_updates",ho="messaging.system",go="messaging.destination",_o="messaging.destination_kind",vo="messaging.temp_destination",Eo="messaging.protocol",So="messaging.protocol_version",bo="messaging.url",To="messaging.message_id",yo="messaging.conversation_id",xo="messaging.message_payload_size_bytes",wo="messaging.message_payload_compressed_size_bytes",Ao="messaging.operation",Do="messaging.consumer_id",Ro="messaging.rabbitmq.routing_key",Io="messaging.kafka.message_key",Co="messaging.kafka.consumer_group",Oo="messaging.kafka.client_id",No="messaging.kafka.partition",ko="messaging.kafka.tombstone",Po="rpc.system",Mo="rpc.service",Lo="rpc.method",Uo="rpc.grpc.status_code",Fo="rpc.jsonrpc.version",$o="rpc.jsonrpc.request_id",Bo="rpc.jsonrpc.error_code",jo="rpc.jsonrpc.error_message",Vo="message.type",zo="message.id",Go="message.compressed_size",qo="message.uncompressed_size";E.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=e,E.SEMATTRS_DB_SYSTEM=n,E.SEMATTRS_DB_CONNECTION_STRING=r,E.SEMATTRS_DB_USER=i,E.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=s,E.SEMATTRS_DB_NAME=o,E.SEMATTRS_DB_STATEMENT=a,E.SEMATTRS_DB_OPERATION=c,E.SEMATTRS_DB_MSSQL_INSTANCE_NAME=u,E.SEMATTRS_DB_CASSANDRA_KEYSPACE=l,E.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=p,E.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=d,E.SEMATTRS_DB_CASSANDRA_TABLE=f,E.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=m,E.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=h,E.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=g,E.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=_,E.SEMATTRS_DB_HBASE_NAMESPACE=S,E.SEMATTRS_DB_REDIS_DATABASE_INDEX=v,E.SEMATTRS_DB_MONGODB_COLLECTION=T,E.SEMATTRS_DB_SQL_TABLE=y,E.SEMATTRS_EXCEPTION_TYPE=b,E.SEMATTRS_EXCEPTION_MESSAGE=x,E.SEMATTRS_EXCEPTION_STACKTRACE=D,E.SEMATTRS_EXCEPTION_ESCAPED=k,E.SEMATTRS_FAAS_TRIGGER=U,E.SEMATTRS_FAAS_EXECUTION=C,E.SEMATTRS_FAAS_DOCUMENT_COLLECTION=L,E.SEMATTRS_FAAS_DOCUMENT_OPERATION=j,E.SEMATTRS_FAAS_DOCUMENT_TIME=N,E.SEMATTRS_FAAS_DOCUMENT_NAME=H,E.SEMATTRS_FAAS_TIME=O,E.SEMATTRS_FAAS_CRON=M,E.SEMATTRS_FAAS_COLDSTART=Q,E.SEMATTRS_FAAS_INVOKED_NAME=de,E.SEMATTRS_FAAS_INVOKED_PROVIDER=_e,E.SEMATTRS_FAAS_INVOKED_REGION=oe,E.SEMATTRS_NET_TRANSPORT=I,E.SEMATTRS_NET_PEER_IP=F,E.SEMATTRS_NET_PEER_PORT=z,E.SEMATTRS_NET_PEER_NAME=q,E.SEMATTRS_NET_HOST_IP=X,E.SEMATTRS_NET_HOST_PORT=J,E.SEMATTRS_NET_HOST_NAME=se,E.SEMATTRS_NET_HOST_CONNECTION_TYPE=Se,E.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=Ue,E.SEMATTRS_NET_HOST_CARRIER_NAME=ce,E.SEMATTRS_NET_HOST_CARRIER_MCC=Ae,E.SEMATTRS_NET_HOST_CARRIER_MNC=ke,E.SEMATTRS_NET_HOST_CARRIER_ICC=nt,E.SEMATTRS_PEER_SERVICE=ye,E.SEMATTRS_ENDUSER_ID=Fe,E.SEMATTRS_ENDUSER_ROLE=V,E.SEMATTRS_ENDUSER_SCOPE=W,E.SEMATTRS_THREAD_ID=re,E.SEMATTRS_THREAD_NAME=ue,E.SEMATTRS_CODE_FUNCTION=ie,E.SEMATTRS_CODE_NAMESPACE=xe,E.SEMATTRS_CODE_FILEPATH=St,E.SEMATTRS_CODE_LINENO=Lt,E.SEMATTRS_HTTP_METHOD=qe,E.SEMATTRS_HTTP_URL=te,E.SEMATTRS_HTTP_TARGET=ht,E.SEMATTRS_HTTP_HOST=An,E.SEMATTRS_HTTP_SCHEME=nn,E.SEMATTRS_HTTP_STATUS_CODE=rn,E.SEMATTRS_HTTP_FLAVOR=He,E.SEMATTRS_HTTP_USER_AGENT=we,E.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=st,E.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=Kt,E.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=sn,E.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=_r,E.SEMATTRS_HTTP_SERVER_NAME=Zt,E.SEMATTRS_HTTP_ROUTE=on,E.SEMATTRS_HTTP_CLIENT_IP=vr,E.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=Hn,E.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=Er,E.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=Wn,E.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=zr,E.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=Zs,E.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=Xs,E.SEMATTRS_AWS_DYNAMODB_PROJECTION=Js,E.SEMATTRS_AWS_DYNAMODB_LIMIT=Qs,E.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=eo,E.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=to,E.SEMATTRS_AWS_DYNAMODB_SELECT=no,E.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=ro,E.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=io,E.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=so,E.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=oo,E.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=ao,E.SEMATTRS_AWS_DYNAMODB_SEGMENT=co,E.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=uo,E.SEMATTRS_AWS_DYNAMODB_COUNT=lo,E.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=po,E.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=fo,E.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=mo,E.SEMATTRS_MESSAGING_SYSTEM=ho,E.SEMATTRS_MESSAGING_DESTINATION=go,E.SEMATTRS_MESSAGING_DESTINATION_KIND=_o,E.SEMATTRS_MESSAGING_TEMP_DESTINATION=vo,E.SEMATTRS_MESSAGING_PROTOCOL=Eo,E.SEMATTRS_MESSAGING_PROTOCOL_VERSION=So,E.SEMATTRS_MESSAGING_URL=bo,E.SEMATTRS_MESSAGING_MESSAGE_ID=To,E.SEMATTRS_MESSAGING_CONVERSATION_ID=yo,E.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=xo,E.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=wo,E.SEMATTRS_MESSAGING_OPERATION=Ao,E.SEMATTRS_MESSAGING_CONSUMER_ID=Do,E.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=Ro,E.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=Io,E.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=Co,E.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=Oo,E.SEMATTRS_MESSAGING_KAFKA_PARTITION=No,E.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=ko,E.SEMATTRS_RPC_SYSTEM=Po,E.SEMATTRS_RPC_SERVICE=Mo,E.SEMATTRS_RPC_METHOD=Lo,E.SEMATTRS_RPC_GRPC_STATUS_CODE=Uo,E.SEMATTRS_RPC_JSONRPC_VERSION=Fo,E.SEMATTRS_RPC_JSONRPC_REQUEST_ID=$o,E.SEMATTRS_RPC_JSONRPC_ERROR_CODE=Bo,E.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=jo,E.SEMATTRS_MESSAGE_TYPE=Vo,E.SEMATTRS_MESSAGE_ID=zo,E.SEMATTRS_MESSAGE_COMPRESSED_SIZE=Go,E.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=qo,E.SemanticAttributes=(0,t.createConstMap)([e,n,r,i,s,o,a,c,u,l,p,d,f,m,h,g,_,S,v,T,y,b,x,D,k,U,C,L,j,N,H,O,M,Q,de,_e,oe,I,F,z,q,X,J,se,Se,Ue,ce,Ae,ke,nt,ye,Fe,V,W,re,ue,ie,xe,St,Lt,qe,te,ht,An,nn,rn,He,we,st,Kt,sn,_r,Zt,on,vr,Hn,Er,Wn,zr,Zs,Xs,Js,Qs,eo,to,no,ro,io,so,oo,ao,co,uo,lo,po,fo,mo,ho,go,_o,vo,Eo,So,bo,To,yo,xo,wo,Ao,Do,Ro,Io,Co,Oo,No,ko,Po,Mo,Lo,Uo,Fo,$o,Bo,jo,Vo,zo,Go,qo]);const Ho="other_sql",Wo="mssql",Yo="mysql",Ko="oracle",ub="db2",lb="postgresql",pb="redshift",db="hive",fb="cloudscape",mb="hsqldb",hb="progress",gb="maxdb",_b="hanadb",vb="ingres",Eb="firstsql",Sb="edb",bb="cache",Tb="adabas",yb="firebird",xb="derby",wb="filemaker",Ab="informix",Db="instantdb",Rb="interbase",Ib="mariadb",Cb="netezza",Ob="pervasive",Nb="pointbase",kb="sqlite",Pb="sybase",Mb="teradata",Lb="vertica",Ub="h2",Fb="coldfusion",$b="cassandra",Bb="hbase",jb="mongodb",Vb="redis",zb="couchbase",Gb="couchdb",qb="cosmosdb",Hb="dynamodb",Wb="neo4j",Yb="geode",Kb="elasticsearch",Zb="memcached",Xb="cockroachdb";E.DBSYSTEMVALUES_OTHER_SQL=Ho,E.DBSYSTEMVALUES_MSSQL=Wo,E.DBSYSTEMVALUES_MYSQL=Yo,E.DBSYSTEMVALUES_ORACLE=Ko,E.DBSYSTEMVALUES_DB2=ub,E.DBSYSTEMVALUES_POSTGRESQL=lb,E.DBSYSTEMVALUES_REDSHIFT=pb,E.DBSYSTEMVALUES_HIVE=db,E.DBSYSTEMVALUES_CLOUDSCAPE=fb,E.DBSYSTEMVALUES_HSQLDB=mb,E.DBSYSTEMVALUES_PROGRESS=hb,E.DBSYSTEMVALUES_MAXDB=gb,E.DBSYSTEMVALUES_HANADB=_b,E.DBSYSTEMVALUES_INGRES=vb,E.DBSYSTEMVALUES_FIRSTSQL=Eb,E.DBSYSTEMVALUES_EDB=Sb,E.DBSYSTEMVALUES_CACHE=bb,E.DBSYSTEMVALUES_ADABAS=Tb,E.DBSYSTEMVALUES_FIREBIRD=yb,E.DBSYSTEMVALUES_DERBY=xb,E.DBSYSTEMVALUES_FILEMAKER=wb,E.DBSYSTEMVALUES_INFORMIX=Ab,E.DBSYSTEMVALUES_INSTANTDB=Db,E.DBSYSTEMVALUES_INTERBASE=Rb,E.DBSYSTEMVALUES_MARIADB=Ib,E.DBSYSTEMVALUES_NETEZZA=Cb,E.DBSYSTEMVALUES_PERVASIVE=Ob,E.DBSYSTEMVALUES_POINTBASE=Nb,E.DBSYSTEMVALUES_SQLITE=kb,E.DBSYSTEMVALUES_SYBASE=Pb,E.DBSYSTEMVALUES_TERADATA=Mb,E.DBSYSTEMVALUES_VERTICA=Lb,E.DBSYSTEMVALUES_H2=Ub,E.DBSYSTEMVALUES_COLDFUSION=Fb,E.DBSYSTEMVALUES_CASSANDRA=$b,E.DBSYSTEMVALUES_HBASE=Bb,E.DBSYSTEMVALUES_MONGODB=jb,E.DBSYSTEMVALUES_REDIS=Vb,E.DBSYSTEMVALUES_COUCHBASE=zb,E.DBSYSTEMVALUES_COUCHDB=Gb,E.DBSYSTEMVALUES_COSMOSDB=qb,E.DBSYSTEMVALUES_DYNAMODB=Hb,E.DBSYSTEMVALUES_NEO4J=Wb,E.DBSYSTEMVALUES_GEODE=Yb,E.DBSYSTEMVALUES_ELASTICSEARCH=Kb,E.DBSYSTEMVALUES_MEMCACHED=Zb,E.DBSYSTEMVALUES_COCKROACHDB=Xb,E.DbSystemValues=(0,t.createConstMap)([Ho,Wo,Yo,Ko,ub,lb,pb,db,fb,mb,hb,gb,_b,vb,Eb,Sb,bb,Tb,yb,xb,wb,Ab,Db,Rb,Ib,Cb,Ob,Nb,kb,Pb,Mb,Lb,Ub,Fb,$b,Bb,jb,Vb,zb,Gb,qb,Hb,Wb,Yb,Kb,Zb,Xb]);const Jb="all",Qb="each_quorum",eT="quorum",tT="local_quorum",nT="one",rT="two",iT="three",sT="local_one",oT="any",aT="serial",cT="local_serial";E.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=Jb,E.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=Qb,E.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=eT,E.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=tT,E.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=nT,E.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=rT,E.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=iT,E.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=sT,E.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=oT,E.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=aT,E.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=cT,E.DbCassandraConsistencyLevelValues=(0,t.createConstMap)([Jb,Qb,eT,tT,nT,rT,iT,sT,oT,aT,cT]);const uT="datasource",lT="http",pT="pubsub",dT="timer",fT="other";E.FAASTRIGGERVALUES_DATASOURCE=uT,E.FAASTRIGGERVALUES_HTTP=lT,E.FAASTRIGGERVALUES_PUBSUB=pT,E.FAASTRIGGERVALUES_TIMER=dT,E.FAASTRIGGERVALUES_OTHER=fT,E.FaasTriggerValues=(0,t.createConstMap)([uT,lT,pT,dT,fT]);const mT="insert",hT="edit",gT="delete";E.FAASDOCUMENTOPERATIONVALUES_INSERT=mT,E.FAASDOCUMENTOPERATIONVALUES_EDIT=hT,E.FAASDOCUMENTOPERATIONVALUES_DELETE=gT,E.FaasDocumentOperationValues=(0,t.createConstMap)([mT,hT,gT]);const _T="alibaba_cloud",vT="aws",ET="azure",ST="gcp";E.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=_T,E.FAASINVOKEDPROVIDERVALUES_AWS=vT,E.FAASINVOKEDPROVIDERVALUES_AZURE=ET,E.FAASINVOKEDPROVIDERVALUES_GCP=ST,E.FaasInvokedProviderValues=(0,t.createConstMap)([_T,vT,ET,ST]);const bT="ip_tcp",TT="ip_udp",yT="ip",xT="unix",wT="pipe",AT="inproc",DT="other";E.NETTRANSPORTVALUES_IP_TCP=bT,E.NETTRANSPORTVALUES_IP_UDP=TT,E.NETTRANSPORTVALUES_IP=yT,E.NETTRANSPORTVALUES_UNIX=xT,E.NETTRANSPORTVALUES_PIPE=wT,E.NETTRANSPORTVALUES_INPROC=AT,E.NETTRANSPORTVALUES_OTHER=DT,E.NetTransportValues=(0,t.createConstMap)([bT,TT,yT,xT,wT,AT,DT]);const RT="wifi",IT="wired",CT="cell",OT="unavailable",NT="unknown";E.NETHOSTCONNECTIONTYPEVALUES_WIFI=RT,E.NETHOSTCONNECTIONTYPEVALUES_WIRED=IT,E.NETHOSTCONNECTIONTYPEVALUES_CELL=CT,E.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=OT,E.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=NT,E.NetHostConnectionTypeValues=(0,t.createConstMap)([RT,IT,CT,OT,NT]);const kT="gprs",PT="edge",MT="umts",LT="cdma",UT="evdo_0",FT="evdo_a",$T="cdma2000_1xrtt",BT="hsdpa",jT="hsupa",VT="hspa",zT="iden",GT="evdo_b",qT="lte",HT="ehrpd",WT="hspap",YT="gsm",KT="td_scdma",ZT="iwlan",XT="nr",JT="nrnsa",QT="lte_ca";E.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=kT,E.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=PT,E.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=MT,E.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=LT,E.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=UT,E.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=FT,E.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=$T,E.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=BT,E.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=jT,E.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=VT,E.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=zT,E.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=GT,E.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=qT,E.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=HT,E.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=WT,E.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=YT,E.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=KT,E.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=ZT,E.NETHOSTCONNECTIONSUBTYPEVALUES_NR=XT,E.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=JT,E.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=QT,E.NetHostConnectionSubtypeValues=(0,t.createConstMap)([kT,PT,MT,LT,UT,FT,$T,BT,jT,VT,zT,GT,qT,HT,WT,YT,KT,ZT,XT,JT,QT]);const ey="1.0",ty="1.1",ny="2.0",ry="SPDY",iy="QUIC";E.HTTPFLAVORVALUES_HTTP_1_0=ey,E.HTTPFLAVORVALUES_HTTP_1_1=ty,E.HTTPFLAVORVALUES_HTTP_2_0=ny,E.HTTPFLAVORVALUES_SPDY=ry,E.HTTPFLAVORVALUES_QUIC=iy,E.HttpFlavorValues={HTTP_1_0:ey,HTTP_1_1:ty,HTTP_2_0:ny,SPDY:ry,QUIC:iy};const sy="queue",oy="topic";E.MESSAGINGDESTINATIONKINDVALUES_QUEUE=sy,E.MESSAGINGDESTINATIONKINDVALUES_TOPIC=oy,E.MessagingDestinationKindValues=(0,t.createConstMap)([sy,oy]);const ay="receive",cy="process";E.MESSAGINGOPERATIONVALUES_RECEIVE=ay,E.MESSAGINGOPERATIONVALUES_PROCESS=cy,E.MessagingOperationValues=(0,t.createConstMap)([ay,cy]);const uy=0,ly=1,py=2,dy=3,fy=4,my=5,hy=6,gy=7,_y=8,vy=9,Ey=10,Sy=11,by=12,Ty=13,yy=14,xy=15,wy=16;E.RPCGRPCSTATUSCODEVALUES_OK=uy,E.RPCGRPCSTATUSCODEVALUES_CANCELLED=ly,E.RPCGRPCSTATUSCODEVALUES_UNKNOWN=py,E.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=dy,E.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=fy,E.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=my,E.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=hy,E.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=gy,E.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=_y,E.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=vy,E.RPCGRPCSTATUSCODEVALUES_ABORTED=Ey,E.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=Sy,E.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=by,E.RPCGRPCSTATUSCODEVALUES_INTERNAL=Ty,E.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=yy,E.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=xy,E.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=wy,E.RpcGrpcStatusCodeValues={OK:uy,CANCELLED:ly,UNKNOWN:py,INVALID_ARGUMENT:dy,DEADLINE_EXCEEDED:fy,NOT_FOUND:my,ALREADY_EXISTS:hy,PERMISSION_DENIED:gy,RESOURCE_EXHAUSTED:_y,FAILED_PRECONDITION:vy,ABORTED:Ey,OUT_OF_RANGE:Sy,UNIMPLEMENTED:by,INTERNAL:Ty,UNAVAILABLE:yy,DATA_LOSS:xy,UNAUTHENTICATED:wy};const Ay="SENT",Dy="RECEIVED";return E.MESSAGETYPEVALUES_SENT=Ay,E.MESSAGETYPEVALUES_RECEIVED=Dy,E.MessageTypeValues=(0,t.createConstMap)([Ay,Dy]),E}var EI;function eJ(){return EI||(EI=1,(function(t){var e=ui&&ui.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=ui&&ui.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(QX(),t)})(ui)),ui}var li={},w={},SI;function tJ(){if(SI)return w;SI=1,Object.defineProperty(w,"__esModule",{value:!0}),w.SEMRESATTRS_K8S_STATEFULSET_NAME=w.SEMRESATTRS_K8S_STATEFULSET_UID=w.SEMRESATTRS_K8S_DEPLOYMENT_NAME=w.SEMRESATTRS_K8S_DEPLOYMENT_UID=w.SEMRESATTRS_K8S_REPLICASET_NAME=w.SEMRESATTRS_K8S_REPLICASET_UID=w.SEMRESATTRS_K8S_CONTAINER_NAME=w.SEMRESATTRS_K8S_POD_NAME=w.SEMRESATTRS_K8S_POD_UID=w.SEMRESATTRS_K8S_NAMESPACE_NAME=w.SEMRESATTRS_K8S_NODE_UID=w.SEMRESATTRS_K8S_NODE_NAME=w.SEMRESATTRS_K8S_CLUSTER_NAME=w.SEMRESATTRS_HOST_IMAGE_VERSION=w.SEMRESATTRS_HOST_IMAGE_ID=w.SEMRESATTRS_HOST_IMAGE_NAME=w.SEMRESATTRS_HOST_ARCH=w.SEMRESATTRS_HOST_TYPE=w.SEMRESATTRS_HOST_NAME=w.SEMRESATTRS_HOST_ID=w.SEMRESATTRS_FAAS_MAX_MEMORY=w.SEMRESATTRS_FAAS_INSTANCE=w.SEMRESATTRS_FAAS_VERSION=w.SEMRESATTRS_FAAS_ID=w.SEMRESATTRS_FAAS_NAME=w.SEMRESATTRS_DEVICE_MODEL_NAME=w.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=w.SEMRESATTRS_DEVICE_ID=w.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=w.SEMRESATTRS_CONTAINER_IMAGE_TAG=w.SEMRESATTRS_CONTAINER_IMAGE_NAME=w.SEMRESATTRS_CONTAINER_RUNTIME=w.SEMRESATTRS_CONTAINER_ID=w.SEMRESATTRS_CONTAINER_NAME=w.SEMRESATTRS_AWS_LOG_STREAM_ARNS=w.SEMRESATTRS_AWS_LOG_STREAM_NAMES=w.SEMRESATTRS_AWS_LOG_GROUP_ARNS=w.SEMRESATTRS_AWS_LOG_GROUP_NAMES=w.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=w.SEMRESATTRS_AWS_ECS_TASK_REVISION=w.SEMRESATTRS_AWS_ECS_TASK_FAMILY=w.SEMRESATTRS_AWS_ECS_TASK_ARN=w.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=w.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=w.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=w.SEMRESATTRS_CLOUD_PLATFORM=w.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=w.SEMRESATTRS_CLOUD_REGION=w.SEMRESATTRS_CLOUD_ACCOUNT_ID=w.SEMRESATTRS_CLOUD_PROVIDER=void 0,w.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=w.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=w.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=w.CLOUDPLATFORMVALUES_AZURE_AKS=w.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=w.CLOUDPLATFORMVALUES_AZURE_VM=w.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=w.CLOUDPLATFORMVALUES_AWS_LAMBDA=w.CLOUDPLATFORMVALUES_AWS_EKS=w.CLOUDPLATFORMVALUES_AWS_ECS=w.CLOUDPLATFORMVALUES_AWS_EC2=w.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=w.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=w.CloudProviderValues=w.CLOUDPROVIDERVALUES_GCP=w.CLOUDPROVIDERVALUES_AZURE=w.CLOUDPROVIDERVALUES_AWS=w.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=w.SemanticResourceAttributes=w.SEMRESATTRS_WEBENGINE_DESCRIPTION=w.SEMRESATTRS_WEBENGINE_VERSION=w.SEMRESATTRS_WEBENGINE_NAME=w.SEMRESATTRS_TELEMETRY_AUTO_VERSION=w.SEMRESATTRS_TELEMETRY_SDK_VERSION=w.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=w.SEMRESATTRS_TELEMETRY_SDK_NAME=w.SEMRESATTRS_SERVICE_VERSION=w.SEMRESATTRS_SERVICE_INSTANCE_ID=w.SEMRESATTRS_SERVICE_NAMESPACE=w.SEMRESATTRS_SERVICE_NAME=w.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=w.SEMRESATTRS_PROCESS_RUNTIME_VERSION=w.SEMRESATTRS_PROCESS_RUNTIME_NAME=w.SEMRESATTRS_PROCESS_OWNER=w.SEMRESATTRS_PROCESS_COMMAND_ARGS=w.SEMRESATTRS_PROCESS_COMMAND_LINE=w.SEMRESATTRS_PROCESS_COMMAND=w.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=w.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=w.SEMRESATTRS_PROCESS_PID=w.SEMRESATTRS_OS_VERSION=w.SEMRESATTRS_OS_NAME=w.SEMRESATTRS_OS_DESCRIPTION=w.SEMRESATTRS_OS_TYPE=w.SEMRESATTRS_K8S_CRONJOB_NAME=w.SEMRESATTRS_K8S_CRONJOB_UID=w.SEMRESATTRS_K8S_JOB_NAME=w.SEMRESATTRS_K8S_JOB_UID=w.SEMRESATTRS_K8S_DAEMONSET_NAME=w.SEMRESATTRS_K8S_DAEMONSET_UID=void 0,w.TelemetrySdkLanguageValues=w.TELEMETRYSDKLANGUAGEVALUES_WEBJS=w.TELEMETRYSDKLANGUAGEVALUES_RUBY=w.TELEMETRYSDKLANGUAGEVALUES_PYTHON=w.TELEMETRYSDKLANGUAGEVALUES_PHP=w.TELEMETRYSDKLANGUAGEVALUES_NODEJS=w.TELEMETRYSDKLANGUAGEVALUES_JAVA=w.TELEMETRYSDKLANGUAGEVALUES_GO=w.TELEMETRYSDKLANGUAGEVALUES_ERLANG=w.TELEMETRYSDKLANGUAGEVALUES_DOTNET=w.TELEMETRYSDKLANGUAGEVALUES_CPP=w.OsTypeValues=w.OSTYPEVALUES_Z_OS=w.OSTYPEVALUES_SOLARIS=w.OSTYPEVALUES_AIX=w.OSTYPEVALUES_HPUX=w.OSTYPEVALUES_DRAGONFLYBSD=w.OSTYPEVALUES_OPENBSD=w.OSTYPEVALUES_NETBSD=w.OSTYPEVALUES_FREEBSD=w.OSTYPEVALUES_DARWIN=w.OSTYPEVALUES_LINUX=w.OSTYPEVALUES_WINDOWS=w.HostArchValues=w.HOSTARCHVALUES_X86=w.HOSTARCHVALUES_PPC64=w.HOSTARCHVALUES_PPC32=w.HOSTARCHVALUES_IA64=w.HOSTARCHVALUES_ARM64=w.HOSTARCHVALUES_ARM32=w.HOSTARCHVALUES_AMD64=w.AwsEcsLaunchtypeValues=w.AWSECSLAUNCHTYPEVALUES_FARGATE=w.AWSECSLAUNCHTYPEVALUES_EC2=w.CloudPlatformValues=w.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=w.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=w.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=w.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;const t=ZF(),e="cloud.provider",n="cloud.account.id",r="cloud.region",i="cloud.availability_zone",s="cloud.platform",o="aws.ecs.container.arn",a="aws.ecs.cluster.arn",c="aws.ecs.launchtype",u="aws.ecs.task.arn",l="aws.ecs.task.family",p="aws.ecs.task.revision",d="aws.eks.cluster.arn",f="aws.log.group.names",m="aws.log.group.arns",h="aws.log.stream.names",g="aws.log.stream.arns",_="container.name",S="container.id",v="container.runtime",T="container.image.name",y="container.image.tag",b="deployment.environment",x="device.id",D="device.model.identifier",k="device.model.name",U="faas.name",C="faas.id",L="faas.version",j="faas.instance",N="faas.max_memory",H="host.id",O="host.name",M="host.type",Q="host.arch",de="host.image.name",_e="host.image.id",oe="host.image.version",I="k8s.cluster.name",F="k8s.node.name",z="k8s.node.uid",q="k8s.namespace.name",X="k8s.pod.uid",J="k8s.pod.name",se="k8s.container.name",Se="k8s.replicaset.uid",Ue="k8s.replicaset.name",ce="k8s.deployment.uid",Ae="k8s.deployment.name",ke="k8s.statefulset.uid",nt="k8s.statefulset.name",ye="k8s.daemonset.uid",Fe="k8s.daemonset.name",V="k8s.job.uid",W="k8s.job.name",re="k8s.cronjob.uid",ue="k8s.cronjob.name",ie="os.type",xe="os.description",St="os.name",Lt="os.version",qe="process.pid",te="process.executable.name",ht="process.executable.path",An="process.command",nn="process.command_line",rn="process.command_args",He="process.owner",we="process.runtime.name",st="process.runtime.version",Kt="process.runtime.description",sn="service.name",_r="service.namespace",Zt="service.instance.id",on="service.version",vr="telemetry.sdk.name",Hn="telemetry.sdk.language",Er="telemetry.sdk.version",Wn="telemetry.auto.version",zr="webengine.name",Zs="webengine.version",Xs="webengine.description";w.SEMRESATTRS_CLOUD_PROVIDER=e,w.SEMRESATTRS_CLOUD_ACCOUNT_ID=n,w.SEMRESATTRS_CLOUD_REGION=r,w.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=i,w.SEMRESATTRS_CLOUD_PLATFORM=s,w.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=o,w.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=a,w.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=c,w.SEMRESATTRS_AWS_ECS_TASK_ARN=u,w.SEMRESATTRS_AWS_ECS_TASK_FAMILY=l,w.SEMRESATTRS_AWS_ECS_TASK_REVISION=p,w.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=d,w.SEMRESATTRS_AWS_LOG_GROUP_NAMES=f,w.SEMRESATTRS_AWS_LOG_GROUP_ARNS=m,w.SEMRESATTRS_AWS_LOG_STREAM_NAMES=h,w.SEMRESATTRS_AWS_LOG_STREAM_ARNS=g,w.SEMRESATTRS_CONTAINER_NAME=_,w.SEMRESATTRS_CONTAINER_ID=S,w.SEMRESATTRS_CONTAINER_RUNTIME=v,w.SEMRESATTRS_CONTAINER_IMAGE_NAME=T,w.SEMRESATTRS_CONTAINER_IMAGE_TAG=y,w.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=b,w.SEMRESATTRS_DEVICE_ID=x,w.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=D,w.SEMRESATTRS_DEVICE_MODEL_NAME=k,w.SEMRESATTRS_FAAS_NAME=U,w.SEMRESATTRS_FAAS_ID=C,w.SEMRESATTRS_FAAS_VERSION=L,w.SEMRESATTRS_FAAS_INSTANCE=j,w.SEMRESATTRS_FAAS_MAX_MEMORY=N,w.SEMRESATTRS_HOST_ID=H,w.SEMRESATTRS_HOST_NAME=O,w.SEMRESATTRS_HOST_TYPE=M,w.SEMRESATTRS_HOST_ARCH=Q,w.SEMRESATTRS_HOST_IMAGE_NAME=de,w.SEMRESATTRS_HOST_IMAGE_ID=_e,w.SEMRESATTRS_HOST_IMAGE_VERSION=oe,w.SEMRESATTRS_K8S_CLUSTER_NAME=I,w.SEMRESATTRS_K8S_NODE_NAME=F,w.SEMRESATTRS_K8S_NODE_UID=z,w.SEMRESATTRS_K8S_NAMESPACE_NAME=q,w.SEMRESATTRS_K8S_POD_UID=X,w.SEMRESATTRS_K8S_POD_NAME=J,w.SEMRESATTRS_K8S_CONTAINER_NAME=se,w.SEMRESATTRS_K8S_REPLICASET_UID=Se,w.SEMRESATTRS_K8S_REPLICASET_NAME=Ue,w.SEMRESATTRS_K8S_DEPLOYMENT_UID=ce,w.SEMRESATTRS_K8S_DEPLOYMENT_NAME=Ae,w.SEMRESATTRS_K8S_STATEFULSET_UID=ke,w.SEMRESATTRS_K8S_STATEFULSET_NAME=nt,w.SEMRESATTRS_K8S_DAEMONSET_UID=ye,w.SEMRESATTRS_K8S_DAEMONSET_NAME=Fe,w.SEMRESATTRS_K8S_JOB_UID=V,w.SEMRESATTRS_K8S_JOB_NAME=W,w.SEMRESATTRS_K8S_CRONJOB_UID=re,w.SEMRESATTRS_K8S_CRONJOB_NAME=ue,w.SEMRESATTRS_OS_TYPE=ie,w.SEMRESATTRS_OS_DESCRIPTION=xe,w.SEMRESATTRS_OS_NAME=St,w.SEMRESATTRS_OS_VERSION=Lt,w.SEMRESATTRS_PROCESS_PID=qe,w.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=te,w.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=ht,w.SEMRESATTRS_PROCESS_COMMAND=An,w.SEMRESATTRS_PROCESS_COMMAND_LINE=nn,w.SEMRESATTRS_PROCESS_COMMAND_ARGS=rn,w.SEMRESATTRS_PROCESS_OWNER=He,w.SEMRESATTRS_PROCESS_RUNTIME_NAME=we,w.SEMRESATTRS_PROCESS_RUNTIME_VERSION=st,w.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=Kt,w.SEMRESATTRS_SERVICE_NAME=sn,w.SEMRESATTRS_SERVICE_NAMESPACE=_r,w.SEMRESATTRS_SERVICE_INSTANCE_ID=Zt,w.SEMRESATTRS_SERVICE_VERSION=on,w.SEMRESATTRS_TELEMETRY_SDK_NAME=vr,w.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=Hn,w.SEMRESATTRS_TELEMETRY_SDK_VERSION=Er,w.SEMRESATTRS_TELEMETRY_AUTO_VERSION=Wn,w.SEMRESATTRS_WEBENGINE_NAME=zr,w.SEMRESATTRS_WEBENGINE_VERSION=Zs,w.SEMRESATTRS_WEBENGINE_DESCRIPTION=Xs,w.SemanticResourceAttributes=(0,t.createConstMap)([e,n,r,i,s,o,a,c,u,l,p,d,f,m,h,g,_,S,v,T,y,b,x,D,k,U,C,L,j,N,H,O,M,Q,de,_e,oe,I,F,z,q,X,J,se,Se,Ue,ce,Ae,ke,nt,ye,Fe,V,W,re,ue,ie,xe,St,Lt,qe,te,ht,An,nn,rn,He,we,st,Kt,sn,_r,Zt,on,vr,Hn,Er,Wn,zr,Zs,Xs]);const Js="alibaba_cloud",Qs="aws",eo="azure",to="gcp";w.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=Js,w.CLOUDPROVIDERVALUES_AWS=Qs,w.CLOUDPROVIDERVALUES_AZURE=eo,w.CLOUDPROVIDERVALUES_GCP=to,w.CloudProviderValues=(0,t.createConstMap)([Js,Qs,eo,to]);const no="alibaba_cloud_ecs",ro="alibaba_cloud_fc",io="aws_ec2",so="aws_ecs",oo="aws_eks",ao="aws_lambda",co="aws_elastic_beanstalk",uo="azure_vm",lo="azure_container_instances",po="azure_aks",fo="azure_functions",mo="azure_app_service",ho="gcp_compute_engine",go="gcp_cloud_run",_o="gcp_kubernetes_engine",vo="gcp_cloud_functions",Eo="gcp_app_engine";w.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=no,w.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=ro,w.CLOUDPLATFORMVALUES_AWS_EC2=io,w.CLOUDPLATFORMVALUES_AWS_ECS=so,w.CLOUDPLATFORMVALUES_AWS_EKS=oo,w.CLOUDPLATFORMVALUES_AWS_LAMBDA=ao,w.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=co,w.CLOUDPLATFORMVALUES_AZURE_VM=uo,w.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=lo,w.CLOUDPLATFORMVALUES_AZURE_AKS=po,w.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=fo,w.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=mo,w.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=ho,w.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=go,w.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=_o,w.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=vo,w.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=Eo,w.CloudPlatformValues=(0,t.createConstMap)([no,ro,io,so,oo,ao,co,uo,lo,po,fo,mo,ho,go,_o,vo,Eo]);const So="ec2",bo="fargate";w.AWSECSLAUNCHTYPEVALUES_EC2=So,w.AWSECSLAUNCHTYPEVALUES_FARGATE=bo,w.AwsEcsLaunchtypeValues=(0,t.createConstMap)([So,bo]);const To="amd64",yo="arm32",xo="arm64",wo="ia64",Ao="ppc32",Do="ppc64",Ro="x86";w.HOSTARCHVALUES_AMD64=To,w.HOSTARCHVALUES_ARM32=yo,w.HOSTARCHVALUES_ARM64=xo,w.HOSTARCHVALUES_IA64=wo,w.HOSTARCHVALUES_PPC32=Ao,w.HOSTARCHVALUES_PPC64=Do,w.HOSTARCHVALUES_X86=Ro,w.HostArchValues=(0,t.createConstMap)([To,yo,xo,wo,Ao,Do,Ro]);const Io="windows",Co="linux",Oo="darwin",No="freebsd",ko="netbsd",Po="openbsd",Mo="dragonflybsd",Lo="hpux",Uo="aix",Fo="solaris",$o="z_os";w.OSTYPEVALUES_WINDOWS=Io,w.OSTYPEVALUES_LINUX=Co,w.OSTYPEVALUES_DARWIN=Oo,w.OSTYPEVALUES_FREEBSD=No,w.OSTYPEVALUES_NETBSD=ko,w.OSTYPEVALUES_OPENBSD=Po,w.OSTYPEVALUES_DRAGONFLYBSD=Mo,w.OSTYPEVALUES_HPUX=Lo,w.OSTYPEVALUES_AIX=Uo,w.OSTYPEVALUES_SOLARIS=Fo,w.OSTYPEVALUES_Z_OS=$o,w.OsTypeValues=(0,t.createConstMap)([Io,Co,Oo,No,ko,Po,Mo,Lo,Uo,Fo,$o]);const Bo="cpp",jo="dotnet",Vo="erlang",zo="go",Go="java",qo="nodejs",Ho="php",Wo="python",Yo="ruby",Ko="webjs";return w.TELEMETRYSDKLANGUAGEVALUES_CPP=Bo,w.TELEMETRYSDKLANGUAGEVALUES_DOTNET=jo,w.TELEMETRYSDKLANGUAGEVALUES_ERLANG=Vo,w.TELEMETRYSDKLANGUAGEVALUES_GO=zo,w.TELEMETRYSDKLANGUAGEVALUES_JAVA=Go,w.TELEMETRYSDKLANGUAGEVALUES_NODEJS=qo,w.TELEMETRYSDKLANGUAGEVALUES_PHP=Ho,w.TELEMETRYSDKLANGUAGEVALUES_PYTHON=Wo,w.TELEMETRYSDKLANGUAGEVALUES_RUBY=Yo,w.TELEMETRYSDKLANGUAGEVALUES_WEBJS=Ko,w.TelemetrySdkLanguageValues=(0,t.createConstMap)([Bo,jo,Vo,zo,Go,qo,Ho,Wo,Yo,Ko]),w}var bI;function nJ(){return bI||(bI=1,(function(t){var e=li&&li.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=li&&li.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(tJ(),t)})(li)),li}var A={},TI;function rJ(){if(TI)return A;TI=1,Object.defineProperty(A,"__esModule",{value:!0}),A.ATTR_EXCEPTION_TYPE=A.ATTR_EXCEPTION_STACKTRACE=A.ATTR_EXCEPTION_MESSAGE=A.ATTR_EXCEPTION_ESCAPED=A.ERROR_TYPE_VALUE_OTHER=A.ATTR_ERROR_TYPE=A.DOTNET_GC_HEAP_GENERATION_VALUE_POH=A.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=A.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=A.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=A.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=A.ATTR_DOTNET_GC_HEAP_GENERATION=A.DB_SYSTEM_NAME_VALUE_POSTGRESQL=A.DB_SYSTEM_NAME_VALUE_MYSQL=A.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=A.DB_SYSTEM_NAME_VALUE_MARIADB=A.ATTR_DB_SYSTEM_NAME=A.ATTR_DB_STORED_PROCEDURE_NAME=A.ATTR_DB_RESPONSE_STATUS_CODE=A.ATTR_DB_QUERY_TEXT=A.ATTR_DB_QUERY_SUMMARY=A.ATTR_DB_OPERATION_NAME=A.ATTR_DB_OPERATION_BATCH_SIZE=A.ATTR_DB_NAMESPACE=A.ATTR_DB_COLLECTION_NAME=A.ATTR_CODE_STACKTRACE=A.ATTR_CODE_LINE_NUMBER=A.ATTR_CODE_FUNCTION_NAME=A.ATTR_CODE_FILE_PATH=A.ATTR_CODE_COLUMN_NUMBER=A.ATTR_CLIENT_PORT=A.ATTR_CLIENT_ADDRESS=A.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED=A.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=A.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=A.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=A.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=A.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=A.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=A.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=A.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=A.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0,A.OTEL_STATUS_CODE_VALUE_ERROR=A.ATTR_OTEL_STATUS_CODE=A.ATTR_OTEL_SCOPE_VERSION=A.ATTR_OTEL_SCOPE_NAME=A.NETWORK_TYPE_VALUE_IPV6=A.NETWORK_TYPE_VALUE_IPV4=A.ATTR_NETWORK_TYPE=A.NETWORK_TRANSPORT_VALUE_UNIX=A.NETWORK_TRANSPORT_VALUE_UDP=A.NETWORK_TRANSPORT_VALUE_TCP=A.NETWORK_TRANSPORT_VALUE_QUIC=A.NETWORK_TRANSPORT_VALUE_PIPE=A.ATTR_NETWORK_TRANSPORT=A.ATTR_NETWORK_PROTOCOL_VERSION=A.ATTR_NETWORK_PROTOCOL_NAME=A.ATTR_NETWORK_PEER_PORT=A.ATTR_NETWORK_PEER_ADDRESS=A.ATTR_NETWORK_LOCAL_PORT=A.ATTR_NETWORK_LOCAL_ADDRESS=A.JVM_THREAD_STATE_VALUE_WAITING=A.JVM_THREAD_STATE_VALUE_TIMED_WAITING=A.JVM_THREAD_STATE_VALUE_TERMINATED=A.JVM_THREAD_STATE_VALUE_RUNNABLE=A.JVM_THREAD_STATE_VALUE_NEW=A.JVM_THREAD_STATE_VALUE_BLOCKED=A.ATTR_JVM_THREAD_STATE=A.ATTR_JVM_THREAD_DAEMON=A.JVM_MEMORY_TYPE_VALUE_NON_HEAP=A.JVM_MEMORY_TYPE_VALUE_HEAP=A.ATTR_JVM_MEMORY_TYPE=A.ATTR_JVM_MEMORY_POOL_NAME=A.ATTR_JVM_GC_NAME=A.ATTR_JVM_GC_ACTION=A.ATTR_HTTP_ROUTE=A.ATTR_HTTP_RESPONSE_STATUS_CODE=A.ATTR_HTTP_RESPONSE_HEADER=A.ATTR_HTTP_REQUEST_RESEND_COUNT=A.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=A.HTTP_REQUEST_METHOD_VALUE_TRACE=A.HTTP_REQUEST_METHOD_VALUE_PUT=A.HTTP_REQUEST_METHOD_VALUE_POST=A.HTTP_REQUEST_METHOD_VALUE_PATCH=A.HTTP_REQUEST_METHOD_VALUE_OPTIONS=A.HTTP_REQUEST_METHOD_VALUE_HEAD=A.HTTP_REQUEST_METHOD_VALUE_GET=A.HTTP_REQUEST_METHOD_VALUE_DELETE=A.HTTP_REQUEST_METHOD_VALUE_CONNECT=A.HTTP_REQUEST_METHOD_VALUE_OTHER=A.ATTR_HTTP_REQUEST_METHOD=A.ATTR_HTTP_REQUEST_HEADER=void 0,A.ATTR_USER_AGENT_ORIGINAL=A.ATTR_URL_SCHEME=A.ATTR_URL_QUERY=A.ATTR_URL_PATH=A.ATTR_URL_FULL=A.ATTR_URL_FRAGMENT=A.ATTR_TELEMETRY_SDK_VERSION=A.ATTR_TELEMETRY_SDK_NAME=A.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=A.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=A.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=A.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=A.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=A.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=A.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=A.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=A.TELEMETRY_SDK_LANGUAGE_VALUE_GO=A.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=A.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=A.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=A.ATTR_TELEMETRY_SDK_LANGUAGE=A.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=A.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=A.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=A.ATTR_SIGNALR_TRANSPORT=A.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=A.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=A.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=A.ATTR_SIGNALR_CONNECTION_STATUS=A.ATTR_SERVICE_VERSION=A.ATTR_SERVICE_NAME=A.ATTR_SERVER_PORT=A.ATTR_SERVER_ADDRESS=A.ATTR_OTEL_STATUS_DESCRIPTION=A.OTEL_STATUS_CODE_VALUE_OK=void 0,A.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result",A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted",A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled",A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped",A.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled",A.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type",A.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy",A.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result",A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired",A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter",A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter",A.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled",A.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled",A.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback",A.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status",A.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure",A.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success",A.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED="aspnetcore.user.is_authenticated",A.ATTR_CLIENT_ADDRESS="client.address",A.ATTR_CLIENT_PORT="client.port",A.ATTR_CODE_COLUMN_NUMBER="code.column.number",A.ATTR_CODE_FILE_PATH="code.file.path",A.ATTR_CODE_FUNCTION_NAME="code.function.name",A.ATTR_CODE_LINE_NUMBER="code.line.number",A.ATTR_CODE_STACKTRACE="code.stacktrace",A.ATTR_DB_COLLECTION_NAME="db.collection.name",A.ATTR_DB_NAMESPACE="db.namespace",A.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size",A.ATTR_DB_OPERATION_NAME="db.operation.name",A.ATTR_DB_QUERY_SUMMARY="db.query.summary",A.ATTR_DB_QUERY_TEXT="db.query.text",A.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code",A.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name",A.ATTR_DB_SYSTEM_NAME="db.system.name",A.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb",A.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server",A.DB_SYSTEM_NAME_VALUE_MYSQL="mysql",A.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql",A.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation",A.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0",A.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1",A.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2",A.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh",A.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh",A.ATTR_ERROR_TYPE="error.type",A.ERROR_TYPE_VALUE_OTHER="_OTHER",A.ATTR_EXCEPTION_ESCAPED="exception.escaped",A.ATTR_EXCEPTION_MESSAGE="exception.message",A.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace",A.ATTR_EXCEPTION_TYPE="exception.type";const t=n=>`http.request.header.${n}`;A.ATTR_HTTP_REQUEST_HEADER=t,A.ATTR_HTTP_REQUEST_METHOD="http.request.method",A.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER",A.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT",A.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE",A.HTTP_REQUEST_METHOD_VALUE_GET="GET",A.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD",A.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS",A.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH",A.HTTP_REQUEST_METHOD_VALUE_POST="POST",A.HTTP_REQUEST_METHOD_VALUE_PUT="PUT",A.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE",A.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original",A.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";const e=n=>`http.response.header.${n}`;return A.ATTR_HTTP_RESPONSE_HEADER=e,A.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code",A.ATTR_HTTP_ROUTE="http.route",A.ATTR_JVM_GC_ACTION="jvm.gc.action",A.ATTR_JVM_GC_NAME="jvm.gc.name",A.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name",A.ATTR_JVM_MEMORY_TYPE="jvm.memory.type",A.JVM_MEMORY_TYPE_VALUE_HEAP="heap",A.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap",A.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon",A.ATTR_JVM_THREAD_STATE="jvm.thread.state",A.JVM_THREAD_STATE_VALUE_BLOCKED="blocked",A.JVM_THREAD_STATE_VALUE_NEW="new",A.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable",A.JVM_THREAD_STATE_VALUE_TERMINATED="terminated",A.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting",A.JVM_THREAD_STATE_VALUE_WAITING="waiting",A.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address",A.ATTR_NETWORK_LOCAL_PORT="network.local.port",A.ATTR_NETWORK_PEER_ADDRESS="network.peer.address",A.ATTR_NETWORK_PEER_PORT="network.peer.port",A.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name",A.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version",A.ATTR_NETWORK_TRANSPORT="network.transport",A.NETWORK_TRANSPORT_VALUE_PIPE="pipe",A.NETWORK_TRANSPORT_VALUE_QUIC="quic",A.NETWORK_TRANSPORT_VALUE_TCP="tcp",A.NETWORK_TRANSPORT_VALUE_UDP="udp",A.NETWORK_TRANSPORT_VALUE_UNIX="unix",A.ATTR_NETWORK_TYPE="network.type",A.NETWORK_TYPE_VALUE_IPV4="ipv4",A.NETWORK_TYPE_VALUE_IPV6="ipv6",A.ATTR_OTEL_SCOPE_NAME="otel.scope.name",A.ATTR_OTEL_SCOPE_VERSION="otel.scope.version",A.ATTR_OTEL_STATUS_CODE="otel.status_code",A.OTEL_STATUS_CODE_VALUE_ERROR="ERROR",A.OTEL_STATUS_CODE_VALUE_OK="OK",A.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description",A.ATTR_SERVER_ADDRESS="server.address",A.ATTR_SERVER_PORT="server.port",A.ATTR_SERVICE_NAME="service.name",A.ATTR_SERVICE_VERSION="service.version",A.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status",A.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown",A.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure",A.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout",A.ATTR_SIGNALR_TRANSPORT="signalr.transport",A.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling",A.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events",A.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets",A.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language",A.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp",A.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet",A.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang",A.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go",A.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java",A.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs",A.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php",A.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python",A.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby",A.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust",A.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift",A.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs",A.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name",A.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version",A.ATTR_URL_FRAGMENT="url.fragment",A.ATTR_URL_FULL="url.full",A.ATTR_URL_PATH="url.path",A.ATTR_URL_QUERY="url.query",A.ATTR_URL_SCHEME="url.scheme",A.ATTR_USER_AGENT_ORIGINAL="user_agent.original",A}var Z={},yI;function iJ(){return yI||(yI=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=Z.METRIC_KESTREL_UPGRADED_CONNECTIONS=Z.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=Z.METRIC_KESTREL_REJECTED_CONNECTIONS=Z.METRIC_KESTREL_QUEUED_REQUESTS=Z.METRIC_KESTREL_QUEUED_CONNECTIONS=Z.METRIC_KESTREL_CONNECTION_DURATION=Z.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=Z.METRIC_KESTREL_ACTIVE_CONNECTIONS=Z.METRIC_JVM_THREAD_COUNT=Z.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=Z.METRIC_JVM_MEMORY_USED=Z.METRIC_JVM_MEMORY_LIMIT=Z.METRIC_JVM_MEMORY_COMMITTED=Z.METRIC_JVM_GC_DURATION=Z.METRIC_JVM_CPU_TIME=Z.METRIC_JVM_CPU_RECENT_UTILIZATION=Z.METRIC_JVM_CPU_COUNT=Z.METRIC_JVM_CLASS_UNLOADED=Z.METRIC_JVM_CLASS_LOADED=Z.METRIC_JVM_CLASS_COUNT=Z.METRIC_HTTP_SERVER_REQUEST_DURATION=Z.METRIC_HTTP_CLIENT_REQUEST_DURATION=Z.METRIC_DOTNET_TIMER_COUNT=Z.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=Z.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=Z.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=Z.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=Z.METRIC_DOTNET_PROCESS_CPU_TIME=Z.METRIC_DOTNET_PROCESS_CPU_COUNT=Z.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=Z.METRIC_DOTNET_JIT_COMPILED_METHODS=Z.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=Z.METRIC_DOTNET_JIT_COMPILATION_TIME=Z.METRIC_DOTNET_GC_PAUSE_TIME=Z.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=Z.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=Z.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=Z.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=Z.METRIC_DOTNET_GC_COLLECTIONS=Z.METRIC_DOTNET_EXCEPTIONS=Z.METRIC_DOTNET_ASSEMBLY_COUNT=Z.METRIC_DB_CLIENT_OPERATION_DURATION=Z.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=Z.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=Z.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=Z.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=Z.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=Z.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=Z.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0,Z.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0,Z.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions",Z.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases",Z.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests",Z.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue",Z.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration",Z.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests",Z.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts",Z.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration",Z.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count",Z.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions",Z.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections",Z.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated",Z.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size",Z.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size",Z.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size",Z.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time",Z.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time",Z.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size",Z.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods",Z.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions",Z.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count",Z.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time",Z.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set",Z.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length",Z.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count",Z.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count",Z.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count",Z.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration",Z.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration",Z.METRIC_JVM_CLASS_COUNT="jvm.class.count",Z.METRIC_JVM_CLASS_LOADED="jvm.class.loaded",Z.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded",Z.METRIC_JVM_CPU_COUNT="jvm.cpu.count",Z.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization",Z.METRIC_JVM_CPU_TIME="jvm.cpu.time",Z.METRIC_JVM_GC_DURATION="jvm.gc.duration",Z.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed",Z.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit",Z.METRIC_JVM_MEMORY_USED="jvm.memory.used",Z.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc",Z.METRIC_JVM_THREAD_COUNT="jvm.thread.count",Z.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections",Z.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes",Z.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration",Z.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections",Z.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests",Z.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections",Z.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration",Z.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections",Z.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections",Z.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"),Z}var Pa={},xI;function sJ(){return xI||(xI=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.EVENT_EXCEPTION=void 0,Pa.EVENT_EXCEPTION="exception"),Pa}var wI;function XF(){return wI||(wI=1,(function(t){var e=ci&&ci.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=ci&&ci.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(eJ(),t),n(nJ(),t),n(rJ(),t),n(iJ(),t),n(sJ(),t)})(ci)),ci}var fe=XF();const oJ="process.runtime.name",Xu={[fe.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[oJ]:"node",[fe.ATTR_TELEMETRY_SDK_LANGUAGE]:fe.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[fe.ATTR_TELEMETRY_SDK_VERSION]:JX},JF=9,aJ=6,cJ=Math.pow(10,aJ),Rl=Math.pow(10,JF);function sr(t){const e=t/1e3,n=Math.trunc(e),r=Math.round(t%1e3*cJ);return[n,r]}function Cp(){let t=wi.timeOrigin;if(typeof t!="number"){const e=wi;t=e.timing&&e.timing.fetchStart}return t}function nS(t){const e=sr(Cp()),n=sr(typeof t=="number"?t:wi.now());return rS(e,n)}function uJ(t){if(Op(t))return t;if(typeof t=="number")return t<Cp()?nS(t):sr(t);if(t instanceof Date)return sr(t.getTime());throw TypeError("Invalid input type")}function QF(t,e){let n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=Rl),[n,r]}function lJ(t){const e=JF,n=`${"0".repeat(e)}${t[1]}Z`,r=n.substring(n.length-e-1);return new Date(t[0]*1e3).toISOString().replace("000Z",r)}function pJ(t){return t[0]*Rl+t[1]}function dJ(t){return t[0]*1e3+t[1]/1e6}function fJ(t){return t[0]*1e6+t[1]/1e3}function Op(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function t_(t){return Op(t)||typeof t=="number"||t instanceof Date}function rS(t,e){const n=[t[0]+e[0],t[1]+e[1]];return n[1]>=Rl&&(n[1]-=Rl,n[0]+=1),n}function mJ(t){typeof t!="number"&&t.unref()}var n_;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(n_||(n_={}));class hJ{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,r)=>n.concat(r),[])))}inject(e,n,r){for(const i of this._propagators)try{i.inject(e,n,r)}catch(s){$.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,n,r){return this._propagators.reduce((i,s)=>{try{return s.extract(i,n,r)}catch(o){$.diag.warn(`Failed to extract with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}}const r_="[_0-9a-z-*/]",gJ=`[a-z]${r_}{0,255}`,_J=`[a-z0-9]${r_}{0,240}@[a-z]${r_}{0,13}`,vJ=new RegExp(`^(?:${gJ}|${_J})$`),EJ=/^[ -~]{0,255}[!-~]$/,SJ=/,|=/;function bJ(t){return vJ.test(t)}function TJ(t){return EJ.test(t)&&!SJ.test(t)}const AI=32,yJ=512,DI=",",RI="=";class Vs{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,n){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,n),r}unset(e){const n=this._clone();return n._internalState.delete(e),n}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,n)=>(e.push(n+RI+this.get(n)),e),[]).join(DI)}_parse(e){e.length>yJ||(this._internalState=e.split(DI).reverse().reduce((n,r)=>{const i=r.trim(),s=i.indexOf(RI);if(s!==-1){const o=i.slice(0,s),a=i.slice(s+1,r.length);bJ(o)&&TJ(a)&&n.set(o,a)}return n},new Map),this._internalState.size>AI&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,AI))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new Vs;return e._internalState=new Map(this._internalState),e}}const Ju="traceparent",Qu="tracestate",xJ="00",wJ="(?!ff)[\\da-f]{2}",AJ="(?![0]{32})[\\da-f]{32}",DJ="(?![0]{16})[\\da-f]{16}",RJ="[\\da-f]{2}",IJ=new RegExp(`^\\s?(${wJ})-(${AJ})-(${DJ})-(${RJ})(-.*)?\\s?$`);function e$(t){const e=IJ.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}class CJ{inject(e,n,r){const i=$.trace.getSpanContext(e);if(!i||Br(e)||!$.isSpanContextValid(i))return;const s=`${xJ}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||$.TraceFlags.NONE).toString(16)}`;r.set(n,Ju,s),i.traceState&&r.set(n,Qu,i.traceState.serialize())}extract(e,n,r){const i=r.get(n,Ju);if(!i)return e;const s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;const o=e$(s);if(!o)return e;o.isRemote=!0;const a=r.get(n,Qu);if(a){const c=Array.isArray(a)?a.join(","):a;o.traceState=new Vs(typeof c=="string"?c:void 0)}return $.trace.setSpanContext(e,o)}fields(){return[Ju,Qu]}}const iS=$.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");var i_;(function(t){t.HTTP="http"})(i_||(i_={}));function OJ(t,e){return t.setValue(iS,e)}function NJ(t){return t.deleteValue(iS)}function kJ(t){return t.getValue(iS)}const PJ="[object Object]",MJ="[object Null]",LJ="[object Undefined]",UJ=Function.prototype,t$=UJ.toString,FJ=t$.call(Object),$J=Object.getPrototypeOf,n$=Object.prototype,r$=n$.hasOwnProperty,_i=Symbol?Symbol.toStringTag:void 0,i$=n$.toString;function II(t){if(!BJ(t)||jJ(t)!==PJ)return!1;const e=$J(t);if(e===null)return!0;const n=r$.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&t$.call(n)===FJ}function BJ(t){return t!=null&&typeof t=="object"}function jJ(t){return t==null?t===void 0?LJ:MJ:_i&&_i in Object(t)?VJ(t):zJ(t)}function VJ(t){const e=r$.call(t,_i),n=t[_i];let r=!1;try{t[_i]=void 0,r=!0}catch{}const i=i$.call(t);return r&&(e?t[_i]=n:delete t[_i]),i}function zJ(t){return i$.call(t)}const GJ=20;function s$(...t){let e=t.shift();const n=new WeakMap;for(;t.length>0;)e=o$(e,t.shift(),0,n);return e}function qm(t){return Il(t)?t.slice():t}function o$(t,e,n=0,r){let i;if(!(n>GJ)){if(n++,el(t)||el(e)||a$(e))i=qm(e);else if(Il(t)){if(i=t.slice(),Il(e))for(let s=0,o=e.length;s<o;s++)i.push(qm(e[s]));else if(Ma(e)){const s=Object.keys(e);for(let o=0,a=s.length;o<a;o++){const c=s[o];i[c]=qm(e[c])}}}else if(Ma(t))if(Ma(e)){if(!qJ(t,e))return e;i=Object.assign({},t);const s=Object.keys(e);for(let o=0,a=s.length;o<a;o++){const c=s[o],u=e[c];if(el(u))typeof u>"u"?delete i[c]:i[c]=u;else{const l=i[c],p=u;if(CI(t,c,r)||CI(e,c,r))delete i[c];else{if(Ma(l)&&Ma(p)){const d=r.get(l)||[],f=r.get(p)||[];d.push({obj:t,key:c}),f.push({obj:e,key:c}),r.set(l,d),r.set(p,f)}i[c]=o$(i[c],u,n,r)}}}}else i=e;return i}}function CI(t,e,n){const r=n.get(t[e])||[];for(let i=0,s=r.length;i<s;i++){const o=r[i];if(o.key===e&&o.obj===t)return!0}return!1}function Il(t){return Array.isArray(t)}function a$(t){return typeof t=="function"}function Ma(t){return!el(t)&&!Il(t)&&!a$(t)&&typeof t=="object"}function el(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function qJ(t,e){return!(!II(t)||!II(e))}class Np extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Np.prototype)}}function HJ(t,e){let n;const r=new Promise(function(s,o){n=setTimeout(function(){o(new Np("Operation timed out."))},e)});return Promise.race([t,r]).then(i=>(clearTimeout(n),i),i=>{throw clearTimeout(n),i})}function c$(t,e){return typeof e=="string"?t===e:!!t.match(e)}function WJ(t,e){if(!e)return!1;for(const n of e)if(c$(t,n))return!0;return!1}class YJ{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class KJ{_callback;_that;_isCalled=!1;_deferred=new YJ;constructor(e,n){this._callback=e,this._that=n}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(n=>this._deferred.resolve(n),n=>this._deferred.reject(n))}catch(n){this._deferred.reject(n)}}return this._deferred.promise}}const OI={ALL:$.DiagLogLevel.ALL,VERBOSE:$.DiagLogLevel.VERBOSE,DEBUG:$.DiagLogLevel.DEBUG,INFO:$.DiagLogLevel.INFO,WARN:$.DiagLogLevel.WARN,ERROR:$.DiagLogLevel.ERROR,NONE:$.DiagLogLevel.NONE};function ZJ(t){if(t==null)return;const e=OI[t.toUpperCase()];return e??($.diag.warn(`Unknown log level "${t}", expected one of ${Object.keys(OI)}, using default`),$.DiagLogLevel.INFO)}function XJ(t,e){return new Promise(n=>{$.context.with(Ni($.context.active()),()=>{t.export(e,r=>{n(r)})})})}const JJ={_export:XJ},QJ=Object.freeze(Object.defineProperty({__proto__:null,AnchoredClock:zX,BindOnceFuture:KJ,CompositePropagator:hJ,get ExportResultCode(){return n_},get RPCType(){return i_},SDK_INFO:Xu,TRACE_PARENT_HEADER:Ju,TRACE_STATE_HEADER:Qu,TimeoutError:Np,TraceState:Vs,W3CBaggagePropagator:HF,W3CTraceContextPropagator:CJ,_globalThis:XX,addHrTimes:rS,callWithTimeout:HJ,deleteRPCMetadata:NJ,diagLogLevelFromString:ZJ,getBooleanFromEnv:KX,getNumberFromEnv:Nt,getRPCMetadata:kJ,getStringFromEnv:tS,getStringListFromEnv:ZX,getTimeOrigin:Cp,globalErrorHandler:eS,hrTime:nS,hrTimeDuration:QF,hrTimeToMicroseconds:fJ,hrTimeToMilliseconds:dJ,hrTimeToNanoseconds:pJ,hrTimeToTimeStamp:lJ,internal:JJ,isAttributeValue:QE,isTimeInput:t_,isTimeInputHrTime:Op,isTracingSuppressed:Br,isUrlIgnored:WJ,loggingErrorHandler:YF,merge:s$,millisToHrTime:sr,otperformance:wi,parseKeyPairsIntoRecord:VX,parseTraceParent:e$,sanitizeAttributes:sc,setGlobalErrorHandler:YX,setRPCMetadata:OJ,suppressTracing:Ni,timeInputToHrTime:uJ,unrefTimer:mJ,unsuppressTracing:MX,urlMatches:c$},Symbol.toStringTag,{value:"Module"})),eQ=yU(QJ);class u${emit(e){}}const tQ=new u$;class nQ{getLogger(e,n,r){return new u$}}const l$=new nQ;class rQ{constructor(e,n,r,i){this._provider=e,this.name=n,this.version=r,this.options=i}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;const e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):tQ}}class NI{getLogger(e,n,r){var i;return(i=this._getDelegateLogger(e,n,r))!==null&&i!==void 0?i:new rQ(this,e,n,r)}_getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:l$}_setDelegate(e){this._delegate=e}_getDelegateLogger(e,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getLogger(e,n,r)}}const iQ=typeof globalThis=="object"?globalThis:global,xu=Symbol.for("io.opentelemetry.js.api.logs"),La=iQ;function sQ(t,e,n){return r=>r===t?e:n}const kI=1;class sS{constructor(){this._proxyLoggerProvider=new NI}static getInstance(){return this._instance||(this._instance=new sS),this._instance}setGlobalLoggerProvider(e){return La[xu]?this.getLoggerProvider():(La[xu]=sQ(kI,e,l$),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,n;return(n=(e=La[xu])===null||e===void 0?void 0:e.call(La,kI))!==null&&n!==void 0?n:this._proxyLoggerProvider}getLogger(e,n,r){return this.getLoggerProvider().getLogger(e,n,r)}disable(){delete La[xu],this._proxyLoggerProvider=new NI}}const p$=sS.getInstance();function oQ(t,e,n,r){for(let i=0,s=t.length;i<s;i++){const o=t[i];e&&o.setTracerProvider(e),n&&o.setMeterProvider(n),r&&o.setLoggerProvider&&o.setLoggerProvider(r),o.getConfig().enabled||o.enable()}}function aQ(t){t.forEach(e=>e.disable())}function kp(t){const e=t.tracerProvider||$.trace.getTracerProvider(),n=t.meterProvider||$.metrics.getMeterProvider(),r=t.loggerProvider||p$.getLoggerProvider(),i=t.instrumentations?.flat()??[];return oQ(i,e,n,r),()=>{aQ(i)}}const d$=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,cQ=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,uQ={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};function lQ(t,e,n){if(!pQ(t))return $.diag.error(`Invalid version: ${t}`),!1;if(!e)return!0;e=e.replace(/([<>=~^]+)\s+/g,"$1");const r=hQ(t);if(!r)return!1;const i=[],s=f$(r,e,i,n);return s&&!n?.includePrerelease?fQ(r,i):s}function pQ(t){return typeof t=="string"&&d$.test(t)}function f$(t,e,n,r){if(e.includes("||")){const i=e.trim().split("||");for(const s of i)if(Hm(t,s,n,r))return!0;return!1}else if(e.includes(" - "))e=LQ(e,r);else if(e.includes(" ")){const i=e.trim().replace(/\s{2,}/g," ").split(" ");for(const s of i)if(!Hm(t,s,n,r))return!1;return!0}return Hm(t,e,n,r)}function Hm(t,e,n,r){if(e=mQ(e,r),e.includes(" "))return f$(t,e,n,r);{const i=gQ(e);return n.push(i),dQ(t,i)}}function dQ(t,e){if(e.invalid)return!1;if(!e.version||s_(e.version))return!0;let n=MI(t.versionSegments||[],e.versionSegments||[]);if(n===0){const r=t.prereleaseSegments||[],i=e.prereleaseSegments||[];!r.length&&!i.length?n=0:!r.length&&i.length?n=1:r.length&&!i.length?n=-1:n=MI(r,i)}return uQ[e.op]?.includes(n)}function fQ(t,e){return t.prerelease?e.some(n=>n.prerelease&&n.version===t.version):!0}function mQ(t,e){return t=t.trim(),t=PQ(t,e),t=kQ(t),t=MQ(t,e),t=t.trim(),t}function It(t){return!t||t.toLowerCase()==="x"||t==="*"}function hQ(t){const e=t.match(d$);if(!e){$.diag.error(`Invalid version: ${t}`);return}const n=e.groups.version,r=e.groups.prerelease,i=e.groups.build,s=n.split("."),o=r?.split(".");return{op:void 0,version:n,versionSegments:s,versionSegmentCount:s.length,prerelease:r,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:i}}function gQ(t){if(!t)return{};const e=t.match(cQ);if(!e)return $.diag.error(`Invalid range: ${t}`),{invalid:!0};let n=e.groups.op;const r=e.groups.version,i=e.groups.prerelease,s=e.groups.build,o=r.split("."),a=i?.split(".");return n==="=="&&(n="="),{op:n||"=",version:r,versionSegments:o,versionSegmentCount:o.length,prerelease:i,prereleaseSegments:a,prereleaseSegmentCount:a?a.length:0,build:s}}function s_(t){return t==="*"||t==="x"||t==="X"}function PI(t){const e=parseInt(t,10);return isNaN(e)?t:e}function _Q(t,e){if(typeof t==typeof e){if(typeof t=="number")return[t,e];if(typeof t=="string")return[t,e];throw new Error("Version segments can only be strings or numbers")}else return[String(t),String(e)]}function vQ(t,e){if(s_(t)||s_(e))return 0;const[n,r]=_Q(PI(t),PI(e));return n>r?1:n<r?-1:0}function MI(t,e){for(let n=0;n<Math.max(t.length,e.length);n++){const r=vQ(t[n]||"0",e[n]||"0");if(r!==0)return r}return 0}const m$="[a-zA-Z0-9-]",h$="0|[1-9]\\d*",EQ=`\\d*[a-zA-Z-]${m$}*`,SQ="((?:<|>)?=?)",LI=`(?:${h$}|${EQ})`,bQ=`(?:-(${LI}(?:\\.${LI})*))`,UI=`${m$}+`,TQ=`(?:\\+(${UI}(?:\\.${UI})*))`,Wm=`${h$}|x|X|\\*`,vc=`[v=\\s]*(${Wm})(?:\\.(${Wm})(?:\\.(${Wm})(?:${bQ})?${TQ}?)?)?`,yQ=`^${SQ}\\s*${vc}$`,xQ=new RegExp(yQ),wQ=`^\\s*(${vc})\\s+-\\s+(${vc})\\s*$`,AQ=new RegExp(wQ),DQ="(?:~>?)",RQ=`^${DQ}${vc}$`,IQ=new RegExp(RQ),CQ="(?:\\^)",OQ=`^${CQ}${vc}$`,NQ=new RegExp(OQ);function kQ(t){const e=IQ;return t.replace(e,(n,r,i,s,o)=>{let a;return It(r)?a="":It(i)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:It(s)?a=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:o?a=`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:a=`>=${r}.${i}.${s} <${r}.${+i+1}.0-0`,a})}function PQ(t,e){const n=NQ,r=e?.includePrerelease?"-0":"";return t.replace(n,(i,s,o,a,c)=>{let u;return It(s)?u="":It(o)?u=`>=${s}.0.0${r} <${+s+1}.0.0-0`:It(a)?s==="0"?u=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:c?s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`:s==="0"?o==="0"?u=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`,u})}function MQ(t,e){const n=xQ;return t.replace(n,(r,i,s,o,a,c)=>{const u=It(s),l=u||It(o),p=l||It(a),d=p;return i==="="&&d&&(i=""),c=e?.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&d?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(c="-0"),r=`${i+s}.${o}.${a}${c}`):l?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),r})}function LQ(t,e){const n=AQ;return t.replace(n,(r,i,s,o,a,c,u,l,p,d,f,m)=>(It(s)?i="":It(o)?i=`>=${s}.0.0${e?.includePrerelease?"-0":""}`:It(a)?i=`>=${s}.${o}.0${e?.includePrerelease?"-0":""}`:c?i=`>=${i}`:i=`>=${i}${e?.includePrerelease?"-0":""}`,It(p)?l="":It(d)?l=`<${+p+1}.0.0-0`:It(f)?l=`<${p}.${+d+1}.0-0`:m?l=`<=${p}.${d}.${f}-${m}`:e?.includePrerelease?l=`<${p}.${d}.${+f+1}-0`:l=`<=${l}`,`${i} ${l}`.trim()))}let Gt=console.error.bind(console);function Ua(t,e,n){const r=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}const Cl=(t,e,n)=>{if(!t||!t[e]){Gt("no original function "+String(e)+" to wrap");return}if(!n){Gt("no wrapper function"),Gt(new Error().stack);return}const r=t[e];if(typeof r!="function"||typeof n!="function"){Gt("original object and wrapper must be functions");return}const i=n(r,e);return Ua(i,"__original",r),Ua(i,"__unwrap",()=>{t[e]===i&&Ua(t,e,r)}),Ua(i,"__wrapped",!0),Ua(t,e,i),i},UQ=(t,e,n)=>{if(t)Array.isArray(t)||(t=[t]);else{Gt("must provide one or more modules to patch"),Gt(new Error().stack);return}if(!(e&&Array.isArray(e))){Gt("must provide one or more functions to wrap on modules");return}t.forEach(r=>{e.forEach(i=>{Cl(r,i,n)})})},oS=(t,e)=>{if(!t||!t[e]){Gt("no function to unwrap."),Gt(new Error().stack);return}const n=t[e];if(!n.__unwrap)Gt("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else{n.__unwrap();return}},FQ=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else{Gt("must provide one or more modules to patch"),Gt(new Error().stack);return}if(!(e&&Array.isArray(e))){Gt("must provide one or more functions to unwrap on modules");return}t.forEach(n=>{e.forEach(r=>{oS(n,r)})})};class $Q{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,n,r){this.instrumentationName=e,this.instrumentationVersion=n,this.setConfig(r),this._diag=$.diag.createComponentLogger({namespace:e}),this._tracer=$.trace.getTracer(e,n),this._meter=$.metrics.getMeter(e,n),this._logger=p$.getLogger(e,n),this._updateMetricInstruments()}_wrap=Cl;_unwrap=oS;_massWrap=UQ;_massUnwrap=FQ;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){const e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,n,r,i){if(e)try{e(r,i)}catch(s){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},s)}}}var wu={exports:{}},Ym,FI;function g$(){if(FI)return Ym;FI=1;var t=Ve.sep;return Ym=function(e){var n=e.split(t),r=n.lastIndexOf("node_modules");if(r!==-1&&n[r+1]){for(var i=n[r+1][0]==="@",s=i?n[r+1]+"/"+n[r+2]:n[r+1],o=i?3:2,a="",c=r+o-1,u=0;u<=c;u++)u===c?a+=n[u]:a+=n[u]+t;for(var l="",p=n.length-1,d=r+o;d<=p;d++)d===p?l+=n[d]:l+=n[d]+t;return{name:s,basedir:a,path:l}}},Ym}var $I;function BQ(){if($I)return wu.exports;$I=1;const t=Ve,e=xN,n=r1()("require-in-the-middle"),r=g$();wu.exports=c,wu.exports.Hook=c;let i,s;if(e.isBuiltin)s=e.isBuiltin;else if(e.builtinModules)s=l=>l.startsWith("node:")?!0:(i===void 0&&(i=new Set(e.builtinModules)),i.has(l));else throw new Error("'require-in-the-middle' requires Node.js >=v9.3.0 or >=v8.10.0");const o=/([/\\]index)?(\.js)?$/;class a{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(p,d){if(this._localCache.has(p))return!0;if(d)return!1;{const f=require.cache[p];return!!(f&&this._kRitmExports in f)}}get(p,d){const f=this._localCache.get(p);if(f!==void 0)return f;if(!d){const m=require.cache[p];return m&&m[this._kRitmExports]}}set(p,d,f){f?this._localCache.set(p,d):p in require.cache?require.cache[p][this._kRitmExports]=d:(n('non-core module is unexpectedly not in require.cache: "%s"',p),this._localCache.set(p,d))}}function c(l,p,d){if(!(this instanceof c))return new c(l,p,d);if(typeof l=="function"?(d=l,l=null,p=null):typeof p=="function"&&(d=p,p=null),typeof e._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof e._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at https://github.com/nodejs/require-in-the-middle/issues",process.version);return}this._cache=new a,this._unhooked=!1,this._origRequire=e.prototype.require;const f=this,m=new Set,h=p?p.internals===!0:!1,g=Array.isArray(l);n("registering require hook"),this._require=e.prototype.require=function(S){return f._unhooked===!0?(n("ignoring require call - module is soft-unhooked"),f._origRequire.apply(this,arguments)):_.call(this,arguments,!1)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(S){return f._unhooked===!0?(n("ignoring process.getBuiltinModule call - module is soft-unhooked"),f._origGetBuiltinModule.apply(this,arguments)):_.call(this,arguments,!0)});function _(S,v){const T=S[0],y=s(T);let b;if(y){if(b=T,T.startsWith("node:")){const L=T.slice(5);s(L)&&(b=L)}}else{if(v)return n("call to process.getBuiltinModule with unknown built-in id"),f._origGetBuiltinModule.apply(this,S);try{b=e._resolveFilename(T,this)}catch(L){return n('Module._resolveFilename("%s") threw %j, calling original Module.require',T,L.message),f._origRequire.apply(this,S)}}let x,D;if(n("processing %s module require('%s'): %s",y===!0?"core":"non-core",T,b),f._cache.has(b,y)===!0)return n("returning already patched cached module: %s",b),f._cache.get(b,y);const k=m.has(b);k===!1&&m.add(b);const U=v?f._origGetBuiltinModule.apply(this,S):f._origRequire.apply(this,S);if(k===!0)return n("module is in the process of being patched already - ignoring: %s",b),U;if(m.delete(b),y===!0){if(g===!0&&l.includes(b)===!1)return n("ignoring core module not on whitelist: %s",b),U;x=b}else if(g===!0&&l.includes(b)){const L=t.parse(b);x=L.name,D=L.dir}else{const L=r(b);if(L===void 0)return n("could not parse filename: %s",b),U;x=L.name,D=L.basedir;const j=u(L);n("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",x,T,j,D);let N=!1;if(g){if(!T.startsWith(".")&&l.includes(T)&&(x=T,N=!0),!l.includes(x)&&!l.includes(j))return U;l.includes(j)&&j!==x&&(x=j,N=!0)}if(!N){let H;try{H=require.resolve(x,{paths:[D]})}catch{return n("could not resolve module: %s",x),f._cache.set(b,U,y),U}if(H!==b)if(h===!0)x=x+t.sep+t.relative(D,b),n("preparing to process require of internal file: %s",x);else return n("ignoring require of non-main module file: %s",H),f._cache.set(b,U,y),U}}f._cache.set(b,U,y),n("calling require hook: %s",x);const C=d(U,x,D);return f._cache.set(b,C,y),n("returning module: %s",x),C}}c.prototype.unhook=function(){this._unhooked=!0,this._require===e.prototype.require?(e.prototype.require=this._origRequire,n("require unhook successful")):n("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,n("process.getBuiltinModule unhook successful")):n("process.getBuiltinModule unhook unsuccessful"))};function u(l){const p=t.sep!=="/"?l.path.split(t.sep).join("/"):l.path;return t.posix.join(l.name,p).replace(o,"")}return wu.exports}var _$=BQ();const Ol="/";class BI{hooks=[];children=new Map}class jQ{_trie=new BI;_counter=0;insert(e){let n=this._trie;for(const r of e.moduleName.split(Ol)){let i=n.children.get(r);i||(i=new BI,n.children.set(r,i)),n=i}n.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:n,fullOnly:r}={}){let i=this._trie;const s=[];let o=!0;for(const a of e.split(Ol)){const c=i.children.get(a);if(!c){o=!1;break}r||s.push(...c.hooks),i=c}return r&&o&&s.push(...i.hooks),s.length===0?[]:s.length===1?[s[0].hook]:(n&&s.sort((a,c)=>a.insertedId-c.insertedId),s.map(({hook:a})=>a))}}const VQ=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function");class Nl{_moduleNameTrie=new jQ;static _instance;constructor(){this._initialize()}_initialize(){new _$.Hook(null,{internals:!0},(e,n,r)=>{const i=zQ(n),s=this._moduleNameTrie.search(i,{maintainInsertionOrder:!0,fullOnly:r===void 0});for(const{onRequire:o}of s)e=o(e,n,r);return e})}register(e,n){const r={moduleName:e,onRequire:n};return this._moduleNameTrie.insert(r),r}static getInstance(){return VQ?new Nl:this._instance=this._instance??new Nl}}function zQ(t){return gi.sep!==Ol?t.split(gi.sep).join(Ol):t}var pi={exports:{}},br={},jI;function GQ(){if(jI)return br;jI=1;const t=[],e=new WeakMap,n=new WeakMap,r=new Map,i=[],s={set(l,p,d){return e.get(l)[p](d)},get(l,p){if(p===Symbol.toStringTag)return"Module";const d=n.get(l)[p];if(typeof d=="function")return d()},defineProperty(l,p,d){if(!("value"in d))throw new Error("Getters/setters are not supported for exports property descriptors.");return e.get(l)[p](d.value)}};function o(l,p,d,f,m){r.set(l,m),e.set(p,d),n.set(p,f);const h=new Proxy(p,s);t.forEach(g=>g(l,h)),i.push([l,h])}let a=!1;function c(){return a}function u(l){a=l}return br.register=o,br.importHooks=t,br.specifiers=r,br.toHook=i,br.getExperimentalPatchInternals=c,br.setExperimentalPatchInternals=u,br}var VI;function qQ(){if(VI)return pi.exports;VI=1;const t=Ve,e=g$(),{fileURLToPath:n}=Ui,{MessageChannel:r}=Tg,{importHooks:i,specifiers:s,toHook:o,getExperimentalPatchInternals:a}=GQ();function c(m){i.push(m),o.forEach(([h,g])=>m(h,g))}function u(m){const h=i.indexOf(m);h>-1&&i.splice(h,1)}function l(m,h,g,_){const S=m(h,g,_);S&&S!==h&&(h.default=S)}let p;function d(){const{port1:m,port2:h}=new r;let g=0,_;p=y=>{g++,m.postMessage(y)},m.on("message",()=>{g--,_&&g<=0&&_()}).unref();function S(){const y=setInterval(()=>{},1e3),b=new Promise(x=>{_=x}).then(()=>{clearInterval(y)});return g===0&&_(),b}const v=h;return{registerOptions:{data:{addHookMessagePort:v,include:[]},transferList:[v]},addHookMessagePort:v,waitForAllMessagesAcknowledged:S}}function f(m,h,g){if(!(this instanceof f))return new f(m,h,g);typeof m=="function"?(g=m,m=null,h=null):typeof h=="function"&&(g=h,h=null);const _=h?h.internals===!0:!1;p&&Array.isArray(m)&&p(m),this._iitmHook=(S,v)=>{const T=S,y=S.startsWith("node:");let b;if(y)S=S.replace(/^node:/,"");else{if(S.startsWith("file://"))try{S=n(S)}catch{}const x=e(S);x&&(S=x.name,b=x.basedir)}if(m){for(const x of m)if(x===S){if(b){if(_)S=S+t.sep+t.relative(b,n(T));else if(!a()&&!b.endsWith(s.get(T)))continue}l(g,v,S,b)}}else l(g,v,S,b)},c(this._iitmHook)}return f.prototype.unhook=function(){u(this._iitmHook)},pi.exports=f,pi.exports.Hook=f,pi.exports.addHook=c,pi.exports.removeHook=u,pi.exports.createAddHookMessageChannel=d,pi.exports}var HQ=qQ();function WQ(t,e,n){let r,i;try{i=t()}catch(s){r=s}finally{if(e(r,i),r&&!n)throw r;return i}}async function YQ(t,e,n){let r,i;try{i=await t()}catch(s){r=s}finally{if(await e(r,i),r&&!n)throw r;return i}}function v$(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}class E$ extends $Q{_modules;_hooks=[];_requireInTheMiddleSingleton=Nl.getInstance();_enabled=!1;constructor(e,n,r){super(e,n,r);let i=this.init();i&&!Array.isArray(i)&&(i=[i]),this._modules=i||[],this._config.enabled&&this.enable()}_wrap=(e,n,r)=>{if(v$(e[n])&&this._unwrap(e,n),Es.types.isProxy(e)){const i=Cl(Object.assign({},e),n,r);return Object.defineProperty(e,n,{value:i}),i}else return Cl(e,n,r)};_unwrap=(e,n)=>Es.types.isProxy(e)?Object.defineProperty(e,n,{value:e[n]}):oS(e,n);_massWrap=(e,n,r)=>{if(e)Array.isArray(e)||(e=[e]);else{$.diag.error("must provide one or more modules to patch");return}if(!(n&&Array.isArray(n))){$.diag.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{n.forEach(s=>{this._wrap(i,s,r)})})};_massUnwrap=(e,n)=>{if(e)Array.isArray(e)||(e=[e]);else{$.diag.error("must provide one or more modules to patch");return}if(!(n&&Array.isArray(n))){$.diag.error("must provide one or more functions to wrap on modules");return}e.forEach(r=>{n.forEach(i=>{this._unwrap(r,i)})})};_warnOnPreloadedModules(){this._modules.forEach(e=>{const{name:n}=e;try{const r=require.resolve(n);require.cache[r]&&this._diag.warn(`Module ${n} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${n}`)}catch{}})}_extractPackageVersion(e){try{const n=Qe.readFileSync(gi.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(n).version;return typeof r=="string"?r:void 0}catch{$.diag.warn("Failed extracting version",e)}}_onRequire(e,n,r,i){if(!i)return typeof e.patch=="function"&&(e.moduleExports=n,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(n)):n;const s=this._extractPackageVersion(i);if(e.moduleVersion=s,e.name===r)return zI(e.supportedVersions,s,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=n,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:i}),e.patch(n,e.moduleVersion)):n;const o=e.files??[],a=gi.normalize(r);return o.filter(u=>u.name===a).filter(u=>zI(u.supportedVersions,s,e.includePrerelease)).reduce((u,l)=>(l.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:l.name,baseDir:i}),l.patch(u,e.moduleVersion)):u),n)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(const e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(const n of e.files)n.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:n.name}),n.patch(n.moduleExports,e.moduleVersion))}return}this._warnOnPreloadedModules();for(const e of this._modules){const n=(o,a,c)=>{if(!c&&gi.isAbsolute(a)){const u=gi.parse(a);a=u.name,c=u.dir}return this._onRequire(e,o,a,c)},r=(o,a,c)=>this._onRequire(e,o,a,c),i=gi.isAbsolute(e.name)?new _$.Hook([e.name],{internals:!0},r):this._requireInTheMiddleSingleton.register(e.name,r);this._hooks.push(i);const s=new HQ.Hook([e.name],{internals:!1},n);this._hooks.push(s)}}}disable(){if(this._enabled){this._enabled=!1;for(const e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(const n of e.files)n.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:n.name}),n.unpatch(n.moduleExports,e.moduleVersion))}}}isEnabled(){return this._enabled}}function zI(t,e,n){return typeof e>"u"?t.includes("*"):t.some(r=>lQ(e,r,{includePrerelease:n}))}class KQ{name;supportedVersions;patch;unpatch;files;constructor(e,n,r,i,s){this.name=e,this.supportedVersions=n,this.patch=r,this.unpatch=i,this.files=s||[]}}class ZQ{supportedVersions;patch;unpatch;name;constructor(e,n,r,i){this.supportedVersions=n,this.patch=r,this.unpatch=i,this.name=Ve.normalize(e)}}var hs;(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE"})(hs||(hs={}));function XQ(t,e){let n=hs.OLD;const r=e?.split(",").map(i=>i.trim()).filter(i=>i!=="");for(const i of r??[])if(i.toLowerCase()===t+"/dup"){n=hs.DUPLICATE;break}else i.toLowerCase()===t&&(n=hs.STABLE);return n}const JQ=Object.freeze(Object.defineProperty({__proto__:null,InstrumentationBase:E$,InstrumentationNodeModuleDefinition:KQ,InstrumentationNodeModuleFile:ZQ,get SemconvStability(){return hs},isWrapped:v$,registerInstrumentations:kp,safeExecuteInTheMiddle:WQ,safeExecuteInTheMiddleAsync:YQ,semconvStabilityFromStr:XQ},Symbol.toStringTag,{value:"Module"})),QQ=yU(JQ),ae=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pe=globalThis,En="10.29.0";function jr(){return zs(Pe),Pe}function zs(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||En,e[En]=e[En]||{}}function Gs(t,e,n=Pe){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[En]=r[En]||{};return i[t]||(i[t]=e())}const S$=["debug","info","warn","error","log","assert","trace"],eee="Sentry Logger ",kl={};function Ir(t){if(!("console"in Pe))return t();const e=Pe.console,n={},r=Object.keys(kl);r.forEach(i=>{const s=kl[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}function tee(){cS().enabled=!0}function nee(){cS().enabled=!1}function b$(){return cS().enabled}function ree(...t){aS("log",...t)}function iee(...t){aS("warn",...t)}function see(...t){aS("error",...t)}function aS(t,...e){ae&&b$()&&Ir(()=>{Pe.console[t](`${eee}[${t}]:`,...e)})}function cS(){return ae?Gs("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const G={enable:tee,disable:nee,isEnabled:b$,log:ree,warn:iee,error:see},T$=50,Cr="?",GI=/\(error: (.*)\)/,qI=/captureMessage|captureException/;function uS(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=GI.test(c)?c.replace(GI,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of e){const p=l(u);if(p){s.push(p);break}}if(s.length>=T$+i)break}}return lS(s.slice(i))}}function oee(t){return Array.isArray(t)?uS(...t):t}function lS(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Au(e).function||"")&&e.pop(),e.reverse(),qI.test(Au(e).function||"")&&(e.pop(),qI.test(Au(e).function||"")&&e.pop()),e.slice(0,T$).map(n=>({...n,filename:n.filename||Au(e).filename,function:n.function||Cr}))}function Au(t){return t[t.length-1]||{}}const Km="<anonymous>";function y$(t){try{return!t||typeof t!="function"?Km:t.name||Km}catch{return Km}}function x$(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const tl={},HI={};function pS(t,e){tl[t]=tl[t]||[],tl[t].push(e)}function dS(t,e){if(!HI[t]){HI[t]=!0;try{e()}catch(n){ae&&G.error(`Error while instrumenting ${t}`,n)}}}function fS(t,e){const n=t&&tl[t];if(n)for(const r of n)try{r(e)}catch(i){ae&&G.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${y$(r)}
Error:`,i)}}let Zm=null;function aee(t){const e="error";pS(e,t),dS(e,cee)}function cee(){Zm=Pe.onerror,Pe.onerror=function(t,e,n,r,i){return fS("error",{column:r,error:i,line:n,msg:t,url:e}),Zm?Zm.apply(this,arguments):!1},Pe.onerror.__SENTRY_INSTRUMENTED__=!0}let Xm=null;function uee(t){const e="unhandledrejection";pS(e,t),dS(e,lee)}function lee(){Xm=Pe.onunhandledrejection,Pe.onunhandledrejection=function(t){return fS("unhandledrejection",t),Xm?Xm.apply(this,arguments):!0},Pe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const w$=Object.prototype.toString;function A$(t){switch(w$.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ki(t,Error)}}function Pp(t,e){return w$.call(t)===`[object ${e}]`}function pee(t){return Pp(t,"ErrorEvent")}function Pl(t){return Pp(t,"String")}function Mp(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function D$(t){return t===null||Mp(t)||typeof t!="object"&&typeof t!="function"}function Ec(t){return Pp(t,"Object")}function dee(t){return typeof Event<"u"&&ki(t,Event)}function fee(t){return typeof Element<"u"&&ki(t,Element)}function mee(t){return Pp(t,"RegExp")}function qs(t){return!!(t?.then&&typeof t.then=="function")}function hee(t){return Ec(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ki(t,e){try{return t instanceof e}catch{return!1}}function R$(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}const gee=Pe,_ee=80;function vee(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let s=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||_ee;for(;n&&s++<r&&(u=Eee(n,l),!(u==="html"||s>1&&o+i.length*c+u.length>=p));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Eee(t,e){const n=t,r=[];if(!n?.tagName)return"";if(gee.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e?.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Pl(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function I$(t,e,n){if(!(e in t))return;const r=t[e];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&See(i,r);try{t[e]=i}catch{ae&&G.log(`Failed to replace method "${e}" in object`,t)}}function ur(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{ae&&G.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function See(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,ur(t,"__sentry_original__",e)}catch{}}function bee(t){return t.__sentry_original__}function C$(t){if(A$(t))return{message:t.message,name:t.name,stack:t.stack,...YI(t)};if(dee(t)){const e={type:t.type,target:WI(t.target),currentTarget:WI(t.currentTarget),...YI(t)};return typeof CustomEvent<"u"&&ki(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function WI(t){try{return fee(t)?vee(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function YI(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Tee(t){const e=Object.keys(C$(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function o_(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function yee(t,e){let n=t;const r=n.length;if(r<=150)return n;e>r&&(e=r);let i=Math.max(e-60,0);i<5&&(i=0);let s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function xee(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{R$(i)?n.push(x$(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function gs(t,e,n=!1){return Pl(t)?mee(e)?e.test(t):Pl(e)?n?t===e:t.includes(e):!1:!1}function Hs(t,e=[],n=!1){return e.some(r=>gs(t,r,n))}function wee(){const t=Pe;return t.crypto||t.msCrypto}let Jm;function Aee(){return Math.random()*16}function qt(t=wee()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return Jm||(Jm="10000000100040008000"+1e11),Jm.replace(/[018]/g,e=>(e^(Aee()&15)>>e/4).toString(16))}function O$(t){return t.exception?.values?.[0]}function ss(t){const{message:e,event_id:n}=t;if(e)return e;const r=O$(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Dee(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=""),s.type||(s.type="Error")}function mS(t,e){const n=O$(t);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...e},e&&"data"in e){const s={...i?.data,...e.data};n.mechanism.data=s}}const Ree=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function Qm(t){return parseInt(t||"",10)}function N$(t){const e=t.match(Ree)||[],n=Qm(e[1]),r=Qm(e[2]),i=Qm(e[3]);return{buildmetadata:e[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:e[4]}}function KI(t){if(Iee(t))return!0;try{ur(t,"__sentry_captured__",!0)}catch{}return!1}function Iee(t){try{return t.__sentry_captured__}catch{}}const k$=1e3;function Hc(){return Date.now()/k$}function Cee(){const{performance:t}=Pe;if(!t?.now||!t.timeOrigin)return Hc;const e=t.timeOrigin;return()=>(e+t.now())/k$}let ZI;function As(){return(ZI??(ZI=Cee()))()}function Lp(t){const e=As(),n={sid:qt(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Nee(n)};return t&&Or(n,t),n}function Or(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||As(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:qt()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Oee(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Or(t,n)}function Nee(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function Wc(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=Wc(r[i],e[i],n-1));return r}function Pi(){return qt()}function Ws(){return qt().substring(16)}const a_="_sentrySpan";function Ml(t,e){e?ur(t,a_,e):delete t[a_]}function Sc(t){return t[a_]}const kee=100;class yn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Pi(),sampleRand:Math.random()}}clone(){const e=new yn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Ml(e,Sc(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Or(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this.setTags({[e]:n})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,n){return this.setAttributes({[e]:n})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,r=n instanceof yn?n.getScopeData():Ec(n)?e:void 0,{tags:i,attributes:s,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:p}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),p&&(this._propagationContext=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ml(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Pi(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:kee;if(r<=0)return this;const i={timestamp:Hc(),...e,message:e.message?o_(e.message,2048):e.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Sc(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Wc(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n?.event_id||qt();if(!this._client)return ae&&G.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r?.event_id||qt();if(!this._client)return ae&&G.warn("No client configured on scope - will not capture message!"),i;const s=r?.syntheticException??new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n?.event_id||qt();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(ae&&G.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function hS(){return Gs("defaultCurrentScope",()=>new yn)}function gS(){return Gs("defaultIsolationScope",()=>new yn)}class Pee{constructor(e,n){let r;e?r=e:r=new yn;let i;n?i=n:i=new yn,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(i){throw this._popScope(),i}return qs(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ds(){const t=jr(),e=zs(t);return e.stack=e.stack||new Pee(hS(),gS())}function Mee(t){return Ds().withScope(t)}function Lee(t,e){const n=Ds();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function XI(t){return Ds().withScope(()=>t(Ds().getIsolationScope()))}function Uee(){return{withIsolationScope:XI,withScope:Mee,withSetScope:Lee,withSetIsolationScope:(t,e)=>XI(e),getCurrentScope:()=>Ds().getScope(),getIsolationScope:()=>Ds().getIsolationScope()}}function Fee(t){const e=jr(),n=zs(e);n.acs=t}function Ys(t){const e=zs(t);return e.acs?e.acs:Uee()}function tt(){const t=jr();return Ys(t).getCurrentScope()}function ut(){const t=jr();return Ys(t).getIsolationScope()}function Up(){return Gs("globalScope",()=>new yn)}function Fp(...t){const e=jr(),n=Ys(e);if(t.length===2){const[r,i]=t;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(t[0])}function Me(){return tt().getClient()}function _S(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=e,s={trace_id:n,span_id:i||Ws()};return r&&(s.parent_span_id=r),s}const xn="sentry.source",Rs="sentry.sample_rate",$ee="sentry.previous_trace_sample_rate",Fn="sentry.op",lr="sentry.origin",Bee="sentry.measurement_unit",jee="sentry.measurement_value",Is="sentry.custom_span_name",vS="sentry.profile_id",ES="sentry.exclusive_time",Vee=0,Ll=1,lt=2;function P$(t){if(t<400&&t>=100)return{code:Ll};if(t>=400&&t<500)switch(t){case 401:return{code:lt,message:"unauthenticated"};case 403:return{code:lt,message:"permission_denied"};case 404:return{code:lt,message:"not_found"};case 409:return{code:lt,message:"already_exists"};case 413:return{code:lt,message:"failed_precondition"};case 429:return{code:lt,message:"resource_exhausted"};case 499:return{code:lt,message:"cancelled"};default:return{code:lt,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:lt,message:"unimplemented"};case 503:return{code:lt,message:"unavailable"};case 504:return{code:lt,message:"deadline_exceeded"};default:return{code:lt,message:"internal_error"}}return{code:lt,message:"internal_error"}}function JI(t,e){t.setAttribute("http.response.status_code",e);const n=P$(e);n.message!=="unknown_error"&&t.setStatus(n)}const M$="_sentryScope",L$="_sentryIsolationScope";function zee(t){try{const e=Pe.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function Gee(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function U$(t,e,n){t&&(ur(t,L$,zee(n)),ur(t,M$,e))}function Cs(t){const e=t;return{scope:e[M$],isolationScope:Gee(e[L$])}}const SS="sentry-",qee=/^sentry-/,Hee=8192;function Yc(t){const e=Ul(t);if(!e)return;const n=Object.entries(e).reduce((r,[i,s])=>{if(i.match(qee)){const o=i.slice(SS.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function bS(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,i])=>(i&&(n[`${SS}${r}`]=i),n),{});return F$(e)}function Ul(t){if(!(!t||!Pl(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=QI(n);return Object.entries(r).forEach(([i,s])=>{e[i]=s}),e},{}):QI(t)}function QI(t){return t.split(",").map(e=>{const n=e.indexOf("=");if(n===-1)return[];const r=e.slice(0,n),i=e.slice(n+1);return[r,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}function F$(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${e},${s}`;return o.length>Hee?(ae&&G.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o},"")}const Wee=/^o(\d+)\./,Yee=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Kee(t){return t==="http"||t==="https"}function Hi(t,e=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Zee(t){const e=Yee.exec(t);if(!e){Ir(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,i="",s="",o="",a=""]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const p=u.match(/^\d+/);p&&(u=p[0])}return $$({host:s,pass:i,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function $$(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Xee(t){if(!ae)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(G.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Kee(r)?e&&isNaN(parseInt(e,10))?(G.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(G.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(G.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Jee(t){return t.match(Wee)?.[1]}function B$(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=Jee(n)),r}function Qee(t){const e=typeof t=="string"?Zee(t):$$(t);if(!(!e||!Xee(e)))return e}function Mi(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const j$=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ete(t){if(!t)return;const e=t.match(j$);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function tte(t,e){const n=ete(t),r=Yc(e);if(!n?.traceId)return{traceId:Pi(),sampleRand:Math.random()};const i=nte(n,r);r&&(r.sample_rand=i.toString());const{traceId:s,parentSpanId:o,parentSampled:a}=n;return{traceId:s,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:i}}function $p(t=Pi(),e=Ws(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function V$(t=Pi(),e=Ws(),n){return`00-${t}-${e}-${n?"01":"00"}`}function nte(t,e){const n=Mi(e?.sample_rand);if(n!==void 0)return n;const r=Mi(e?.sample_rate);return r&&t?.parentSampled!==void 0?t.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function rte(t,e){const n=B$(t);return e&&n&&e!==n?(G.log(`Won't continue trace because org IDs don't match (incoming baggage: ${e}, SDK options: ${n})`),!1):(t.getOptions().strictTraceContinuation||!1)&&(e&&!n||!e&&n)?(G.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${e}, Sentry client: ${n})`),!1):!0}const z$=0,TS=1;let eC=!1;function ite(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:c}=Et(t);return{parent_span_id:s,span_id:e,trace_id:n,data:r,op:i,status:o,origin:a,links:c}}function yS(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),i=r?e:Et(t).parent_span_id,s=Cs(t).scope,o=r?s?.getPropagationContext().propagationSpanId||Ws():e;return{parent_span_id:i,span_id:o,trace_id:n}}function ste(t){const{traceId:e,spanId:n}=t.spanContext(),r=Wi(t);return $p(e,n,r)}function ote(t){const{traceId:e,spanId:n}=t.spanContext(),r=Wi(t);return V$(e,n,r)}function Bp(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:e,trace_id:n,sampled:r===TS,attributes:s,...i}))}function Ln(t){return typeof t=="number"?tC(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?tC(t.getTime()):As()}function tC(t){return t>9999999999?t/1e3:t}function Et(t){if(cte(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(ate(t)){const{attributes:r,startTime:i,name:s,endTime:o,status:a,links:c}=t,u="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:Ln(i),timestamp:Ln(o)||void 0,status:jp(a),op:r[Fn],origin:r[lr],links:Bp(c)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function ate(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function cte(t){return typeof t.getSpanJSON=="function"}function Wi(t){const{traceFlags:e}=t.spanContext();return e===TS}function jp(t){if(!(!t||t.code===Vee))return t.code===Ll?"ok":t.message||"internal_error"}const oc="_sentryChildSpans",c_="_sentryRootSpan";function xS(t,e){const n=t[c_]||t;ur(e,c_,n),t[oc]?t[oc].add(e):ur(t,oc,new Set([e]))}function ute(t){const e=new Set;function n(r){if(!e.has(r)&&Wi(r)){e.add(r);const i=r[oc]?Array.from(r[oc]):[];for(const s of i)n(s)}}return n(t),Array.from(e)}function Un(t){return t[c_]||t}function wS(){const t=jr(),e=Ys(t);return e.getActiveSpan?e.getActiveSpan():Sc(tt())}function u_(){eC||(Ir(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),eC=!0)}let nC=!1;function lte(){if(nC)return;function t(){const e=wS(),n=e&&Un(e);if(n){const r="internal_error";ae&&G.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:lt,message:r})}}t.tag="sentry_tracingErrorCallback",nC=!0,aee(t),uee(t)}function Yi(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Me()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function rC(t){G.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function l_(t,e){if(!e?.length||!t.description)return!1;for(const n of e){if(dte(n)){if(gs(t.description,n))return ae&&rC(t),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?gs(t.description,n.name):!0,i=n.op?t.op&&gs(t.op,n.op):!0;if(r&&i)return ae&&rC(t),!0}return!1}function pte(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const i of t)i.parent_span_id===r&&(i.parent_span_id=n)}function dte(t){return typeof t=="string"||t instanceof RegExp}const AS="production",G$="_frozenDsc";function eh(t,e){ur(t,G$,e)}function q$(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},i={environment:n.environment||AS,release:n.release,public_key:r,trace_id:t,org_id:B$(e)};return e.emit("createDsc",i),i}function Kc(t,e){const n=e.getPropagationContext();return n.dsc||q$(n.traceId,t)}function en(t){const e=Me();if(!e)return{};const n=Un(t),r=Et(n),i=r.data,s=n.spanContext().traceState,o=s?.get("sentry.sample_rate")??i[Rs]??i[$ee];function a(m){return(typeof o=="number"||typeof o=="string")&&(m.sample_rate=`${o}`),m}const c=n[G$];if(c)return a(c);const u=s?.get("sentry.dsc"),l=u&&Yc(u);if(l)return a(l);const p=q$(t.spanContext().traceId,e),d=i[xn],f=r.description;return d!=="url"&&f&&(p.transaction=f),Yi()&&(p.sampled=String(Wi(n)),p.sample_rand=s?.get("sentry.sample_rand")??Cs(n).scope?.getPropagationContext().sampleRand.toString()),a(p),e.emit("createDsc",p,n),p}class Zc{constructor(e={}){this._traceId=e.traceId||Pi(),this._spanId=e.spanId||Ws()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:z$}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}function tr(t,e=100,n=1/0){try{return p_("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function H$(t,e=3,n=100*1024){const r=tr(t,e);return gte(r)>n?H$(t,e-1,n):r}function p_(t,e,n=1/0,r=1/0,i=_te()){const[s,o]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const a=fte(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return p_("",f,c-1,r,i)}catch{}const l=Array.isArray(e)?[]:{};let p=0;const d=C$(e);for(const f in d){if(!Object.prototype.hasOwnProperty.call(d,f))continue;if(p>=r){l[f]="[MaxProperties ~]";break}const m=d[f];l[f]=p_(f,m,c-1,r,i),p++}return o(e),l}function fte(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(R$(e))return x$(e);if(hee(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${y$(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=mte(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function mte(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function hte(t){return~-encodeURI(t).split(/%..|./).length}function gte(t){return hte(JSON.stringify(t))}function Bt(t,e){const n=e.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let r=t;try{r=decodeURI(t)}catch{}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${n}/*`,"ig"),"app:///")}function _te(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}function qn(t,e=[]){return[t,e]}function Fl(t,e){const[n,r]=t;return[n,[...r,e]]}function pr(t,e){const n=t[1];for(const r of n){const i=r[0].type;if(e(r,i))return!0}return!1}function iC(t,e){return pr(t,(n,r)=>e.includes(r))}function $l(t){const e=zs(Pe);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function vte(t){const e=zs(Pe);return e.decodePolyfill?e.decodePolyfill(t):new TextDecoder().decode(t)}function W$(t){const[e,n]=t;let r=JSON.stringify(e);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[$l(r),s]:r.push(typeof s=="string"?$l(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(tr(a))}i(c)}}return typeof r=="string"?r:Ete(r)}function Ete(t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function DS(t){let e=typeof t=="string"?$l(t):t;function n(o){const a=e.subarray(0,o);return e=e.subarray(o+1),a}function r(){let o=e.indexOf(10);return o<0&&(o=e.length),JSON.parse(vte(n(o)))}const i=r(),s=[];for(;e.length;){const o=r(),a=typeof o.length=="number"?o.length:void 0;s.push([o,a?n(a):r()])}return[i,s]}function Ste(t){return[{type:"span"},t]}function bte(t){const e=typeof t.data=="string"?$l(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const Tte={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function sC(t){return Tte[t]}function Y$(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function yte(t,e,n,r){const i=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Hi(r)},...i&&{trace:i}}}function xte(t,e){if(!e)return t;const n=t.sdk||{};return t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function wte(t,e,n,r){const i=Y$(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:Hi(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return qn(s,[o])}function Ate(t,e,n,r){const i=Y$(n),s=t.type&&t.type!=="replay_event"?t.type:"event";xte(t,n?.sdk);const o=yte(t,i,r,e);return delete t.sdkProcessingMetadata,qn(o,[[{type:s},t]])}function Dte(t,e){function n(f){return!!f.trace_id&&!!f.public_key}const r=en(t[0]),i=e?.getDsn(),s=e?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Hi(i)}},{beforeSendSpan:a,ignoreSpans:c}=e?.getOptions()||{},u=c?.length?t.filter(f=>!l_(Et(f),c)):t,l=t.length-u.length;l&&e?.recordDroppedEvent("before_send","span",l);const p=a?f=>{const m=Et(f),h=a(m);return h||(u_(),m)}:Et,d=[];for(const f of u){const m=p(f);m&&d.push(Ste(m))}return qn(o,d)}function K$(t){if(!ae)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Et(t),{spanId:i}=t.spanContext(),s=Wi(t),o=Un(t),a=o===t,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${e}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:p}=Et(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),p&&u.push(`root description: ${p}`)}G.log(`${c}
  ${u.join(`
  `)}`)}function Z$(t){if(!ae)return;const{description:e="< unknown name >",op:n="< unknown op >"}=Et(t),{spanId:r}=t.spanContext(),s=Un(t)===t,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${e}" with ID ${r}`;G.log(o)}function Bl(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},i=r[Bee],s=r[jee];typeof i=="string"&&typeof s=="number"&&(e[n.name]={value:s,unit:i})}),e}const oC=1e3;class RS{constructor(e={}){this._traceId=e.traceId||Pi(),this._spanId=e.spanId||Ws(),this._startTime=e.startTimestamp||As(),this._links=e.links,this._attributes={},this.setAttributes({[lr]:"manual",[Fn]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?TS:z$}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=Ln(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(xn,"custom"),this}end(e){this._endTime||(this._endTime=Ln(e),Z$(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Fn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:jp(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[lr],profile_id:this._attributes[vS],exclusive_time:this._attributes[ES],measurements:Bl(this._events),is_segment:this._isStandaloneSpan&&Un(this)===this||void 0,segment_id:this._isStandaloneSpan?Un(this).spanContext().spanId:void 0,links:Bp(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){ae&&G.log("[Tracing] Adding an event to span:",e);const i=aC(n)?n:r||As(),s=aC(n)?{}:n||{},o={name:e,time:Ln(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Me();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Un(this)))return;if(this._isStandaloneSpan){this._sampled?Ite(Dte([this],e)):(ae&&G.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Cs(this).scope||tt()).captureEvent(r)}_convertSpanToTransaction(){if(!cC(Et(this)))return;this._name||(ae&&G.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=Cs(this),r=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=ute(this).filter(l=>l!==this&&!Rte(l)).map(l=>Et(l)).filter(cC),o=this._attributes[xn];delete this._attributes[Is],s.forEach(l=>{delete l.data[Is]});const a={contexts:{trace:ite(this)},spans:s.length>oC?s.sort((l,p)=>l.start_timestamp-p.start_timestamp).slice(0,oC):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:en(this)},request:r,...o&&{transaction_info:{source:o}}},c=Bl(this._events);return c&&Object.keys(c).length&&(ae&&G.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function aC(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function cC(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function Rte(t){return t instanceof RS&&t.isStandaloneSpan()}function Ite(t){const e=Me();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function d_(t,e,n=()=>{},r=()=>{}){let i;try{i=t()}catch(s){throw e(s),n(),s}return Cte(i,e,n,r)}function Cte(t,e,n,r){return qs(t)?t.then(i=>(n(),r(i),i),i=>{throw e(i),n(),i}):(n(),r(t),t)}function X$(t,e,n){if(!Yi(t))return[!1];let r,i;typeof t.tracesSampler=="function"?(i=t.tracesSampler({...e,inheritOrSampleWith:a=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):a}),r=!0):e.parentSampled!==void 0?i=e.parentSampled:typeof t.tracesSampleRate<"u"&&(i=t.tracesSampleRate,r=!0);const s=Mi(i);if(s===void 0)return ae&&G.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!s)return ae&&G.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const o=n<s;return o||ae&&G.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,s,r]}const J$="__SENTRY_SUPPRESS_TRACING__";function Ote(t,e){const n=CS();if(n.startSpan)return n.startSpan(t,e);const r=eB(t),{forceTransaction:i,parentSpan:s,scope:o}=t,a=o?.clone();return Fp(a,()=>Pte(s)(()=>{const u=tt(),l=tB(u,s),d=t.onlyIfParent&&!l?new Zc:Q$({parentSpan:l,spanArguments:r,forceTransaction:i,scope:u});return Ml(u,d),d_(()=>e(d),()=>{const{status:f}=Et(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:lt,message:"internal_error"})},()=>{d.end()})}))}function Nte(t){const e=CS();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=eB(t),{forceTransaction:r,parentSpan:i}=t;return(t.scope?o=>Fp(t.scope,o):i!==void 0?o=>IS(i,o):o=>o())(()=>{const o=tt(),a=tB(o,i);return t.onlyIfParent&&!a?new Zc:Q$({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function IS(t,e){const n=CS();return n.withActiveSpan?n.withActiveSpan(t,e):Fp(r=>(Ml(r,t||void 0),e(r)))}function Q$({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!Yi()){const o=new Zc;if(n||!t){const a={sampled:"false",sample_rate:"0",transaction:e.name,...en(o)};eh(o,a)}return o}const i=ut();let s;if(t&&!n)s=kte(t,r,e),xS(t,s);else if(t){const o=en(t),{traceId:a,spanId:c}=t.spanContext(),u=Wi(t);s=uC({traceId:a,parentSpanId:c,...e},r,u),eh(s,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=uC({traceId:o,parentSpanId:c,...e},r,u),a&&eh(s,a)}return K$(s),U$(s,r,i),s}function eB(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=Ln(t.startTime),delete r.startTime,r}return n}function CS(){const t=jr();return Ys(t)}function uC(t,e,n){const r=Me(),i=r?.getOptions()||{},{name:s=""}=t,o={spanAttributes:{...t.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=e.getPropagationContext(),[l,p,d]=e.getScopeData().sdkProcessingMetadata[J$]?[!1]:X$(i,{name:s,parentSampled:a,attributes:c,parentSampleRate:Mi(u.dsc?.sample_rate)},u.sampleRand),f=new RS({...t,attributes:{[xn]:"custom",[Rs]:p!==void 0&&d?p:void 0,...c},sampled:l});return!l&&r&&(ae&&G.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function kte(t,e,n){const{spanId:r,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[J$]?!1:Wi(t),o=s?new RS({...n,parentSpanId:r,traceId:i,sampled:s}):new Zc({traceId:i});xS(t,o);const a=Me();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function tB(t,e){if(e)return e;if(e===null)return;const n=Sc(t);if(!n)return;const r=Me();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Un(n):n}function Pte(t){return t!==void 0?e=>IS(t,e):e=>e()}const th=0,lC=1,pC=2;function jl(t){return new bc(e=>{e(t)})}function OS(t){return new bc((e,n)=>{n(t)})}class bc{constructor(e){this._state=th,this._handlers=[],this._runExecutor(e)}then(e,n){return new bc((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new bc((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,e&&e()},o=>{s=!0,i=o,e&&e()}).then(()=>{if(s){r(i);return}n(i)})})}_executeHandlers(){if(this._state===th)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===lC&&n[1](this._value),this._state===pC&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=(s,o)=>{if(this._state===th){if(qs(o)){o.then(r,i);return}this._state=s,this._value=o,this._executeHandlers()}},r=s=>{n(lC,s)},i=s=>{n(pC,s)};try{e(r,i)}catch(s){i(s)}}}function Mte(t,e,n,r=0){try{const i=f_(e,n,t,r);return qs(i)?i:jl(i)}catch(i){return OS(i)}}function f_(t,e,n,r){const i=n[r];if(!t||!i)return t;const s=i({...t},e);return ae&&s===null&&G.log(`Event processor "${i.id||"?"}" dropped event`),qs(s)?s.then(o=>f_(o,e,n,r+1)):f_(s,e,n,r+1)}function nB(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;Lte(t,e),r&&$te(t,r),Bte(t,n),Ute(t,i),Fte(t,s)}function Os(t,e){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:p,propagationContext:d,transactionName:f,span:m}=e;Du(t,"extra",n),Du(t,"tags",r),Du(t,"user",i),Du(t,"contexts",s),t.sdkProcessingMetadata=Wc(t.sdkProcessingMetadata,a,2),o&&(t.level=o),f&&(t.transactionName=f),m&&(t.span=m),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...d}}function Du(t,e,n){t[e]=Wc(t[e],n,1)}function Lte(t,e){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(i).length&&(t.user={...i,...t.user}),Object.keys(s).length&&(t.contexts={...s,...t.contexts}),o&&(t.level=o),a&&t.type!=="transaction"&&(t.transaction=a)}function Ute(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function Fte(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function $te(t,e){t.contexts={trace:yS(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:en(e),...t.sdkProcessingMetadata};const n=Un(e),r=Et(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}function Bte(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let di,dC,fC,Tr;function jte(t){const e=Pe._sentryDebugIds,n=Pe._debugIds;if(!e&&!n)return{};const r=e?Object.keys(e):[],i=n?Object.keys(n):[];if(Tr&&r.length===dC&&i.length===fC)return Tr;dC=r.length,fC=i.length,Tr={},di||(di={});const s=(o,a)=>{for(const c of o){const u=a[c],l=di?.[c];if(l&&Tr&&u)Tr[l[0]]=u,di&&(di[c]=[l[0],u]);else if(u){const p=t(c);for(let d=p.length-1;d>=0;d--){const m=p[d]?.filename;if(m&&Tr&&di){Tr[m]=u,di[c]=[m,u];break}}}}};return e&&s(r,e),n&&s(i,n),Tr}function Vte(t,e,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||qt(),timestamp:e.timestamp||Hc()},u=n.integrations||t.integrations.map(g=>g.name);zte(c,t),Hte(c,u),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&Gte(c,t.stackParser);const l=Yte(r,n.captureContext);n.mechanism&&mS(c,n.mechanism);const p=i?i.getEventProcessors():[],d=Up().getScopeData();if(s){const g=s.getScopeData();Os(d,g)}if(l){const g=l.getScopeData();Os(d,g)}const f=[...n.attachments||[],...d.attachments];f.length&&(n.attachments=f),nB(c,d);const m=[...p,...d.eventProcessors];return Mte(m,c,n).then(g=>(g&&qte(g),typeof o=="number"&&o>0?Wte(g,o,a):g))}function zte(t,e){const{environment:n,release:r,dist:i,maxValueLength:s}=e;t.environment=t.environment||n||AS,!t.release&&r&&(t.release=r),!t.dist&&i&&(t.dist=i);const o=t.request;o?.url&&s&&(o.url=o_(o.url,s)),s&&t.exception?.values?.forEach(a=>{a.value&&(a.value=o_(a.value,s))})}function Gte(t,e){const n=jte(e);t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function qte(t){const e={};if(t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Hte(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Wte(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:tr(i.data,e,n)}}))},...t.user&&{user:tr(t.user,e,n)},...t.contexts&&{contexts:tr(t.contexts,e,n)},...t.extra&&{extra:tr(t.extra,e,n)}};return t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=tr(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(i=>({...i,...i.data&&{data:tr(i.data,e,n)}}))),t.contexts?.flags&&r.contexts&&(r.contexts.flags=tr(t.contexts.flags,3,n)),r}function Yte(t,e){if(!e)return t;const n=t?t.clone():new yn;return n.update(e),n}function Kte(t){if(t)return Zte(t)?{captureContext:t}:Jte(t)?{captureContext:t}:t}function Zte(t){return t instanceof yn||typeof t=="function"}const Xte=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Jte(t){return Object.keys(t).some(e=>Xte.includes(e))}function Vp(t,e){return tt().captureException(t,Kte(e))}function mC(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return tt().captureMessage(t,n,r)}function Xc(t,e){return tt().captureEvent(t,e)}function Qte(t,e){ut().setExtra(t,e)}function hC(t,e){ut().setTag(t,e)}function ene(t){ut().setUser(t)}async function tne(t){const e=Me();return e?e.flush(t):(ae&&G.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}function nne(){const t=Me();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function rne(t){const e=ut(),n=tt(),{userAgent:r}=Pe.navigator||{},i=Lp({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),s=e.getSession();return s?.status==="ok"&&Or(s,{status:"exited"}),NS(),e.setSession(i),i}function NS(){const t=ut(),n=tt().getSession()||t.getSession();n&&Oee(n),rB(),t.setSession()}function rB(){const t=ut(),e=Me(),n=t.getSession();n&&e&&e.captureSession(n)}function iB(t=!1){if(t){NS();return}rB()}const ine="7";function sne(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function one(t){return`${sne(t)}${t.projectId}/envelope/`}function ane(t,e){const n={sentry_version:ine};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}function cne(t,e,n){return e||`${one(t)}?${ane(t,n)}`}const gC=[];function une(t){const e={};return t.forEach(n=>{const{name:r}=n,i=e[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}function lne(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const i=n(e);r=Array.isArray(i)?i:[i]}else r=e;return une(r)}function pne(t,e){const n={};return e.forEach(r=>{r&&sB(t,r,n)}),n}function _C(t,e){for(const n of e)n?.afterAllSetup&&n.afterAllSetup(t)}function sB(t,e,n){if(n[e.name]){ae&&G.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,!gC.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),gC.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>r(i,s,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign((s,o)=>r(s,o,t),{id:e.name});t.addEventProcessor(i)}ae&&G.log(`Integration installed: ${e.name}`)}function oB(t,e){return e?Fp(e,()=>{const n=wS(),r=n?yS(n):_S(e);return[n?en(n):Kc(t,e),r]}):[void 0,void 0]}const dne={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function fne(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function mne(t,e,n,r){const i={};return e?.sdk&&(i.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(i.dsn=Hi(r)),qn(i,[fne(t)])}const hne=100;function gne(t){switch(typeof t){case"number":return Number.isInteger(t)?{value:t,type:"integer"}:{value:t,type:"double"};case"boolean":return{value:t,type:"boolean"};case"string":return{value:t,type:"string"};default:{let e="";try{e=JSON.stringify(t)??""}catch{}return{value:e,type:"string"}}}}function Rn(t,e,n,r=!0){n&&(!t[e]||r)&&(t[e]=n)}function aB(t,e){const n=PS(),r=cB(t);r===void 0?n.set(t,[e]):r.length>=hne?(kS(t,r),n.set(t,[e])):n.set(t,[...r,e])}function vC(t,e=tt(),n=aB){const r=e?.getClient()??Me();if(!r){ae&&G.warn("No client available to capture log.");return}const{release:i,environment:s,enableLogs:o=!1,beforeSendLog:a}=r.getOptions();if(!o){ae&&G.warn("logging option not enabled, log will not be captured.");return}const[,c]=oB(r,e),u={...t.attributes},{user:{id:l,email:p,username:d}}=_ne(e);Rn(u,"user.id",l,!1),Rn(u,"user.email",p,!1),Rn(u,"user.name",d,!1),Rn(u,"sentry.release",i),Rn(u,"sentry.environment",s);const{name:f,version:m}=r.getSdkMetadata()?.sdk??{};Rn(u,"sentry.sdk.name",f),Rn(u,"sentry.sdk.version",m);const h=r.getIntegrationByName("Replay"),g=h?.getReplayId(!0);Rn(u,"sentry.replay_id",g),g&&h?.getRecordingMode()==="buffer"&&Rn(u,"sentry._internal.replay_is_buffering",!0);const _=t.message;if(Mp(_)){const{__sentry_template_string__:U,__sentry_template_values__:C=[]}=_;C?.length&&(u["sentry.message.template"]=U),C.forEach((L,j)=>{u[`sentry.message.parameter.${j}`]=L})}const S=Sc(e);Rn(u,"sentry.trace.parent_span_id",S?.spanContext().spanId);const v={...t,attributes:u};r.emit("beforeCaptureLog",v);const T=a?Ir(()=>a(v)):v;if(!T){r.recordDroppedEvent("before_send","log_item",1),ae&&G.warn("beforeSendLog returned null, log will not be captured.");return}const{level:y,message:b,attributes:x={},severityNumber:D}=T,k={timestamp:As(),level:y,body:b,trace_id:c?.trace_id,severity_number:D??dne[y],attributes:Object.keys(x).reduce((U,C)=>(U[C]=gne(x[C]),U),{})};n(r,k),r.emit("afterCaptureLog",T)}function kS(t,e){const n=e??cB(t)??[];if(n.length===0)return;const r=t.getOptions(),i=mne(n,r._metadata,r.tunnel,t.getDsn());PS().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(i)}function cB(t){return PS().get(t)}function _ne(t){const e=Up().getScopeData();return Os(e,ut().getScopeData()),Os(e,t.getScopeData()),e}function PS(){return Gs("clientToLogBufferMap",()=>new WeakMap)}function vne(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function Ene(t,e,n,r){const i={};return e?.sdk&&(i.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(i.dsn=Hi(r)),qn(i,[vne(t)])}const Sne=1e3;function bne(t,e){const n=MS(),r=lB(t);r===void 0?n.set(t,[e]):r.length>=Sne?(uB(t,r),n.set(t,[e])):n.set(t,[...r,e])}function uB(t,e){const n=e??lB(t)??[];if(n.length===0)return;const r=t.getOptions(),i=Ene(n,r._metadata,r.tunnel,t.getDsn());MS().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(i)}function lB(t){return MS().get(t)}function MS(){return Gs("clientToMetricBufferMap",()=>new WeakMap)}const LS=Symbol.for("SentryBufferFullError");function pB(t=100){const e=new Set;function n(){return e.size<t}function r(o){e.delete(o)}function i(o){if(!n())return OS(LS);const a=o();return e.add(a),a.then(()=>r(a),()=>r(a)),a}function s(o){if(!e.size)return jl(!0);const a=Promise.allSettled(Array.from(e)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(c)}return{get $(){return Array.from(e)},add:i,drain:s}}const Tne=60*1e3;function dB(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?Tne:r-e}function yne(t,e){return t[e]||t.all||0}function xne(t,e,n=Date.now()){return yne(t,e)>n}function wne(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},s=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u,,,l]=a.split(":",5),p=parseInt(c,10),d=(isNaN(p)?60:p)*1e3;if(!u)i.all=r+d;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(i[f]=r+d):i[f]=r+d}else o?i.all=r+dB(o,r):e===429&&(i.all=r+60*1e3);return i}const fB=64;function Ane(t,e,n=pB(t.bufferSize||fB)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(pr(o,(p,d)=>{const f=sC(d);xne(r,f)?t.recordDroppedEvent("ratelimit_backoff",f):a.push(p)}),a.length===0)return Promise.resolve({});const c=qn(o[0],a),u=p=>{pr(c,(d,f)=>{t.recordDroppedEvent(p,sC(f))})},l=()=>e({body:W$(c)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&ae&&G.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=wne(r,p),p),p=>{throw u("network_error"),ae&&G.error("Encountered error running transport request:",p),p});return n.add(l).then(p=>p,p=>{if(p===LS)return ae&&G.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw p})}return{send:s,flush:i}}function Dne(t,e,n){const r=[{type:"client_report"},{timestamp:Hc(),discarded_events:t}];return qn(e?{dsn:e}:{},[r])}function mB(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function Rne(t){const{trace_id:e,parent_span_id:n,span_id:r,status:i,origin:s,data:o,op:a}=t.contexts?.trace??{};return{data:o??{},description:t.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:i,timestamp:t.timestamp,trace_id:e??"",origin:s,profile_id:o?.[vS],exclusive_time:o?.[ES],measurements:t.measurements,is_segment:!0}}function Ine(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[vS]:t.profile_id},...t.exclusive_time&&{[ES]:t.exclusive_time}}}},measurements:t.measurements}}const EC="Not capturing exception because it's already been captured.",SC="Discarded session because of missing or non-string release",hB=Symbol.for("SentryInternalError"),gB=Symbol.for("SentryDoNotSendEventError"),Cne=5e3;function nl(t){return{message:t,[hB]:!0}}function nh(t){return{message:t,[gB]:!0}}function bC(t){return!!t&&typeof t=="object"&&hB in t}function TC(t){return!!t&&typeof t=="object"&&gB in t}function yC(t,e,n,r,i){let s=0,o,a=!1;t.on(n,()=>{s=0,clearTimeout(o),a=!1}),t.on(e,c=>{s+=r(c),s>=8e5?i(t):a||(a=!0,o=setTimeout(()=>{i(t)},Cne))}),t.on("flush",()=>{i(t)})}class One{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=pB(e.transportOptions?.bufferSize??fB),e.dsn?this._dsn=Qee(e.dsn):ae&&G.warn("No DSN provided, client will not send events."),this._dsn){const r=cne(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&yC(this,"afterCaptureLog","flushLogs",Mne,kS),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&yC(this,"afterCaptureMetric","flushMetrics",Pne,uB)}captureException(e,n,r){const i=qt();if(KI(e))return ae&&G.log(EC),i;const s={event_id:i,...n};return this._process(()=>this.eventFromException(e,s).then(o=>this._captureEvent(o,s,r)).then(o=>o),"error"),s.event_id}captureMessage(e,n,r,i){const s={event_id:qt(),...r},o=Mp(e)?e:String(e),a=D$(e),c=a?this.eventFromMessage(o,n,s):this.eventFromException(e,s);return this._process(()=>c.then(u=>this._captureEvent(u,s,i)),a?"unknown":"error"),s.event_id}captureEvent(e,n,r){const i=qt();if(n?.originalException&&KI(n.originalException))return ae&&G.log(EC),i;const s={event_id:i,...n},o=e.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=xC(e.type);return this._process(()=>this._captureEvent(e,s,a||r,c),u),s.event_id}captureSession(e){this.sendSession(e),Or(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(e),i=await n.flush(e);return r&&i}async close(e){const n=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];sB(this,e,this._integrations),n||_C(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=Ate(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Fl(r,bte(i));this.sendEnvelope(r).then(i=>this.emit("afterSendEvent",e,i))}sendSession(e){const{release:n,environment:r=AS}=this._options;if("aggregates"in e){const s=e.attrs||{};if(!s.release&&!n){ae&&G.warn(SC);return}s.release=s.release||n,s.environment=s.environment||r,e.attrs=s}else{if(!e.release&&!n){ae&&G.warn(SC);return}e.release=e.release||n,e.environment=e.environment||r}this.emit("beforeSendSession",e);const i=wte(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(e,n,r=1){if(this._options.sendClientReports){const i=`${e}:${n}`;ae&&G.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,n){const r=this._hooks[e]=this._hooks[e]||new Set,i=(...s)=>n(...s);return r.add(i),()=>{r.delete(i)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(i=>i(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(n){return ae&&G.error("Error while sending envelope:",n),{}}return ae&&G.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=pne(this,e),_C(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",i=!1;const s=n.exception?.values;if(s){i=!0,r=!1;for(const c of s)if(c.mechanism?.handled===!1){r=!0;break}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(Or(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}async _isClientDoneProcessing(e){let n=0;for(;!e||n<e;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,i){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",e,n),e.type||i.setLastEventId(e.event_id||n.event_id),Vte(s,e,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:_S(r),...a.contexts};const c=Kc(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(e,n={},r=tt(),i=ut()){return ae&&m_(e)&&G.log(`Captured error event \`${mB(e)[0]||"<unknown>"}\``),this._processEvent(e,n,r,i).then(s=>s.event_id,s=>{ae&&(TC(s)?G.log(s.message):bC(s)?G.warn(s.message):G.warn(s))})}_processEvent(e,n,r,i){const s=this.getOptions(),{sampleRate:o}=s,a=_B(e),c=m_(e),l=`before send for type \`${e.type||"error"}\``,p=typeof o>"u"?void 0:Mi(o);if(c&&typeof p=="number"&&Math.random()>p)return this.recordDroppedEvent("sample_rate","error"),OS(nh(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const d=xC(e.type);return this._prepareEvent(e,n,r,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",d),nh("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const h=kne(this,s,f,n);return Nne(h,l)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",d),a){const _=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",_)}throw nh(`${l} returned \`null\`, will not send event.`)}const m=r.getSession()||i.getSession();if(c&&m&&this._updateSessionFromEvent(m,f),a){const g=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,_=f.spans?f.spans.length:0,S=g-_;S>0&&this.recordDroppedEvent("before_send","span",S)}const h=f.transaction_info;if(a&&h&&f.transaction!==e.transaction){const g="custom";f.transaction_info={...h,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw TC(f)||bC(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),nl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e,n){this._numProcessing++,this._promiseBuffer.add(e).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===LS&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){ae&&G.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ae&&G.log("No outcomes to send");return}if(!this._dsn){ae&&G.log("No dsn provided, will not send outcomes");return}ae&&G.log("Sending outcomes:",e);const n=Dne(e,this._options.tunnel&&Hi(this._dsn));this.sendEnvelope(n)}}function xC(t){return t==="replay_event"?"replay":t||"error"}function Nne(t,e){const n=`${e} must return \`null\` or a valid event.`;if(qs(t))return t.then(r=>{if(!Ec(r)&&r!==null)throw nl(n);return r},r=>{throw nl(`${e} rejected with ${r}`)});if(!Ec(t)&&t!==null)throw nl(n);return t}function kne(t,e,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o,ignoreSpans:a}=e;let c=n;if(m_(c)&&i)return i(c,r);if(_B(c)){if(o||a){const u=Rne(c);if(a?.length&&l_(u,a))return null;if(o){const l=o(u);l?c=Wc(n,Ine(l)):u_()}if(c.spans){const l=[],p=c.spans;for(const f of p){if(a?.length&&l_(f,a)){pte(p,f);continue}if(o){const m=o(f);m?l.push(m):(u_(),l.push(f))}else l.push(f)}const d=c.spans.length-l.length;d&&t.recordDroppedEvent("before_send","span",d),c.spans=l}}if(s){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(c,r)}}return c}function m_(t){return t.type===void 0}function _B(t){return t.type==="transaction"}function Pne(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+vB(t.attributes)}function Mne(t){let e=0;return t.message&&(e+=t.message.length*2),e+vB(t.attributes)}function vB(t){if(!t)return 0;let e=0;return Object.values(t).forEach(n=>{Array.isArray(n)?e+=n.length*wC(n[0]):D$(n)?e+=wC(n):e+=100}),e}function wC(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function Lne(t,e,n,r,i){const s={sent_at:new Date().toISOString()};n?.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(s.dsn=Hi(i)),e&&(s.trace=e);const o=Une(t);return qn(s,[o])}function Une(t){return[{type:"check_in"},t]}function Fne(t){const e=t._metadata?.sdk,n=e?.name&&e?.version?`${e?.name}/${e?.version}`:void 0;t.transportOptions={...t.transportOptions,headers:{...n&&{"user-agent":n},...t.transportOptions?.headers}}}function EB(t,e){return t(e.stack||"",1)}function SB(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=EB(t,e);return r.length&&(n.stacktrace={frames:r}),n}function $ne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}function Bne(t){if("name"in t&&typeof t.name=="string"){let r=`'${t.name}' captured as exception`;return"message"in t&&typeof t.message=="string"&&(r+=` with message '${t.message}'`),r}else if("message"in t&&typeof t.message=="string")return t.message;const e=Tee(t);if(pee(t))return`Event \`ErrorEvent\` captured as exception with message \`${t.message}\``;const n=jne(t);return`${n&&n!=="Object"?`'${n}'`:"Object"} captured as exception with keys: ${e}`}function jne(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Vne(t,e,n,r){if(A$(n))return[n,void 0];if(e.synthetic=!0,Ec(n)){const s=t?.getOptions().normalizeDepth,o={__serialized__:H$(n,s)},a=$ne(n);if(a)return[a,o];const c=Bne(n),u=r?.syntheticException||new Error(c);return u.message=c,[u,o]}const i=r?.syntheticException||new Error(n);return i.message=`${n}`,[i,void 0]}function zne(t,e,n,r){const s=r?.data&&r.data.mechanism||{handled:!0,type:"generic"},[o,a]=Vne(t,s,n,r),c={exception:{values:[SB(e,o)]}};return a&&(c.extra=a),Dee(c),mS(c,s),{...c,event_id:r?.event_id}}function Gne(t,e,n="info",r,i){const s={event_id:r?.event_id,level:n};if(i&&r?.syntheticException){const o=EB(t,r.syntheticException);o.length&&(s.exception={values:[{value:e,stacktrace:{frames:o}}]},mS(s,{synthetic:!0}))}if(Mp(e)){const{__sentry_template_string__:o,__sentry_template_values__:a}=e;return s.logentry={message:o,params:a},s}return s.message=e,s}class qne extends One{constructor(e){lte(),Fne(e),super(e),this._setUpMetricsProcessing()}eventFromException(e,n){const r=zne(this,this._options.stackParser,e,n);return r.level="error",jl(r)}eventFromMessage(e,n="info",r){return jl(Gne(this._options.stackParser,e,n,r,this._options.attachStacktrace))}captureException(e,n,r){return AC(n),super.captureException(e,n,r)}captureEvent(e,n,r){return!e.type&&e.exception?.values&&e.exception.values.length>0&&AC(n),super.captureEvent(e,n,r)}captureCheckIn(e,n,r){const i="checkInId"in e&&e.checkInId?e.checkInId:qt();if(!this._isEnabled())return ae&&G.warn("SDK not enabled, will not capture check-in."),i;const s=this.getOptions(),{release:o,environment:a,tunnel:c}=s,u={check_in_id:i,monitor_slug:e.monitorSlug,status:e.status,release:o,environment:a};"duration"in e&&(u.duration=e.duration),n&&(u.monitor_config={schedule:n.schedule,checkin_margin:n.checkinMargin,max_runtime:n.maxRuntime,timezone:n.timezone,failure_issue_threshold:n.failureIssueThreshold,recovery_threshold:n.recoveryThreshold});const[l,p]=oB(this,r);p&&(u.contexts={trace:p});const d=Lne(u,l,this.getSdkMetadata(),c,this.getDsn());return ae&&G.log("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(d),i}_prepareEvent(e,n,r,i){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:e.contexts?.runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,n,r,i)}_setUpMetricsProcessing(){this.on("processMetric",e=>{this._options.serverName&&(e.attributes={"server.address":this._options.serverName,...e.attributes})})}}function AC(t){const e=ut().getScopeData().sdkProcessingMetadata.requestSession;if(e){const n=t?.mechanism?.handled??!0;n&&e.status!=="crashed"?e.status="errored":n||(e.status="crashed")}}const rh=100,ih=5e3,Hne=36e5;function Wne(t){function e(...n){ae&&G.log("[Offline]:",...n)}return n=>{const r=t(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const i=n.createStore(n);let s=ih,o;function a(p,d,f){return iC(p,["client_report"])?!1:n.shouldStore?n.shouldStore(p,d,f):!0}function c(p){o&&clearTimeout(o),o=setTimeout(async()=>{o=void 0;const d=await i.shift();d&&(e("Attempting to send previously queued event"),d[0].sent_at=new Date().toISOString(),l(d,!0).catch(f=>{e("Failed to retry sending",f)}))},p),typeof o!="number"&&o.unref&&o.unref()}function u(){o||(c(s),s=Math.min(s*2,Hne))}async function l(p,d=!1){if(!d&&iC(p,["replay_event","replay_recording"]))return await i.push(p),c(rh),{};try{if(n.shouldSend&&await n.shouldSend(p)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const f=await r.send(p);let m=rh;if(f){if(f.headers?.["retry-after"])m=dB(f.headers["retry-after"]);else if(f.headers?.["x-sentry-rate-limits"])m=6e4;else if((f.statusCode||0)>=400)return f}return c(m),s=ih,f}catch(f){if(await a(p,f,s))return d?await i.unshift(p):await i.push(p),u(),e("Error sending. Event queued.",f),{};throw f}}return n.flushAtStartup&&u(),{send:l,flush:p=>(p===void 0&&(s=ih,c(rh)),r.flush(p))}}}const Yne=new Set;function Kne(){Yne.clear(),ae&&G.log("Cleared AI provider skip registrations")}function US(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function DC(t){return t.split(/[?#]/,1)[0]}function FS(t){const{protocol:e,host:n,path:r}=t,i=n?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${e?`${e}://`:""}${i}${r}`}function Zne(t,...e){const n=new String(String.raw(t,...e));return n.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=e,n}const ac=Zne;function Xne(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function Jne(t,e,n=[e],r="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:En})),version:En}),t._metadata=i}function bB(t={}){const e=t.client||Me();if(!nne()||!e)return{};const n=jr(),r=Ys(n);if(r.getTraceData)return r.getTraceData(t);const i=t.scope||tt(),s=t.span||wS(),o=s?ste(s):Qne(i),a=s?en(s):Kc(e,i),c=bS(a);if(!j$.test(o))return G.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};if(t.propagateTraceparent){const p=s?ote(s):ere(i);p&&(l.traceparent=p)}return l}function Qne(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return $p(e,r,n)}function ere(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return V$(e,r,n)}function tre(t,e,n){let r,i,s;const o=Math.max(n.maxWait,e),a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=t(),r}function u(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function l(){return i!==void 0||s!==void 0?c():r}function p(){return i&&clearTimeout(i),i=a(c,e),o&&s===void 0&&(s=a(c,o)),r}return p.cancel=u,p.flush=l,p}const nre=100;function $n(t,e){const n=Me(),r=ut();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=nre}=n.getOptions();if(s<=0)return;const a={timestamp:Hc(),...t},c=i?Ir(()=>i(a,e)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,e),r.addBreadcrumb(c,s))}let RC;const rre="FunctionToString",IC=new WeakMap,ire=(()=>({name:rre,setupOnce(){RC=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=bee(this),n=IC.has(Me())&&e!==void 0?e:this;return RC.apply(n,t)}}catch{}},setup(t){IC.set(t,!0)}})),sre=ire,ore=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],are="EventFilters",cre=(t={})=>{let e;return{name:are,setup(n){const r=n.getOptions();e=CC(t,r)},processEvent(n,r,i){if(!e){const s=i.getOptions();e=CC(t,s)}return ure(n,e)?null:n}}};function CC(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:ore],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function ure(t,e){if(t.type){if(t.type==="transaction"&&pre(t,e.ignoreTransactions))return ae&&G.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ss(t)}`),!0}else{if(lre(t,e.ignoreErrors))return ae&&G.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ss(t)}`),!0;if(hre(t))return ae&&G.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ss(t)}`),!0;if(dre(t,e.denyUrls))return ae&&G.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ss(t)}.
Url: ${Vl(t)}`),!0;if(!fre(t,e.allowUrls))return ae&&G.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ss(t)}.
Url: ${Vl(t)}`),!0}return!1}function lre(t,e){return e?.length?mB(t).some(n=>Hs(n,e)):!1}function pre(t,e){if(!e?.length)return!1;const n=t.transaction;return n?Hs(n,e):!1}function dre(t,e){if(!e?.length)return!1;const n=Vl(t);return n?Hs(n,e):!1}function fre(t,e){if(!e?.length)return!0;const n=Vl(t);return n?Hs(n,e):!0}function mre(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Vl(t){try{const n=[...t.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?mre(n):null}catch{return ae&&G.error(`Cannot extract url for event ${ss(t)}`),null}}function hre(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function gre(t,e,n,r,i,s){if(!i.exception?.values||!s||!ki(s.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=h_(t,e,r,s.originalException,n,i.exception.values,o,0))}function h_(t,e,n,r,i,s,o,a){if(s.length>=n+1)return s;let c=[...s];if(ki(r[i],Error)){OC(o,a);const u=t(e,r[i]),l=c.length;NC(u,i,l,a),c=h_(t,e,n,r[i],i,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(ki(u,Error)){OC(o,a);const p=t(e,u),d=c.length;NC(p,`errors[${l}]`,d,a),c=h_(t,e,n,u,i,[p,...c],p,d)}}),c}function OC(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function NC(t,e,n,r){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}const _re="cause",vre=5,Ere="LinkedErrors",Sre=((t={})=>{const e=t.limit||vre,n=t.key||_re;return{name:Ere,preprocessEvent(r,i,s){const o=s.getOptions();gre(SB,o.stackParser,n,e,r,i)}}}),bre=Sre;function Tre(t){const e="console";pS(e,t),dS(e,yre)}function yre(){"console"in Pe&&S$.forEach(function(t){t in Pe.console&&I$(Pe.console,t,function(e){return kl[t]=e,function(...n){fS("console",{args:n,level:t}),kl[t]?.apply(Pe.console,n)}})})}function xre(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}function wre(t,e){let n=0;for(let r=t.length-1;r>=0;r--){const i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}const Are=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function TB(t){const e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,n=Are.exec(e);return n?n.slice(1):[]}function kC(...t){let e="",n=!1;for(let r=t.length-1;r>=-1&&!n;r--){const i=r>=0?t[r]:"/";i&&(e=`${i}/${e}`,n=i.charAt(0)==="/")}return e=wre(e.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+e||"."}function PC(t){let e=0;for(;e<t.length&&t[e]==="";e++);let n=t.length-1;for(;n>=0&&t[n]==="";n--);return e>n?[]:t.slice(e,n-e+1)}function Dre(t,e){t=kC(t).slice(1),e=kC(e).slice(1);const n=PC(t.split("/")),r=PC(e.split("/")),i=Math.min(n.length,r.length);let s=i;for(let a=0;a<i;a++)if(n[a]!==r[a]){s=a;break}let o=[];for(let a=s;a<n.length;a++)o.push("..");return o=o.concat(r.slice(s)),o.join("/")}function Rre(t){const e=TB(t),n=e[0]||"";let r=e[1];return!n&&!r?".":(r&&(r=r.slice(0,r.length-1)),n+r)}function Ire(t,e){return TB(t)[2]||""}const Cre="RewriteFrames",Ore=(t={})=>{const e=t.root,n=t.prefix||"app:///",r="window"in Pe&&!!Pe.window,i=t.iteratee||Nre({isBrowser:r,root:e,prefix:n});function s(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:o(c.stacktrace)}}))}}}catch{return a}}function o(a){return{...a,frames:a?.frames?.map(c=>i(c))}}return{name:Cre,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=s(c)),c}}};function Nre({isBrowser:t,root:e,prefix:n}){return r=>{if(!r.filename)return r;const i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(t){if(e){const o=r.filename;o.indexOf(e)===0&&(r.filename=o.replace(e,n))}}else if(i||s){const o=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=e?Dre(e,o):Ire(o);r.filename=`${n}${a}`}return r}}const kre="Console",Pre=(t={})=>{const e=new Set(t.levels||S$);return{name:kre,setup(n){Tre(({args:r,level:i})=>{Me()!==n||!e.has(i)||Mre(i,r)})}}};function Mre(t,e){const n={category:"console",data:{arguments:e,logger:"console"},level:xre(t),message:MC(e)};if(t==="assert")if(e[0]===!1){const r=e.slice(1);n.message=r.length>0?`Assertion failed: ${MC(r)}`:"Assertion failed",n.data.arguments=r}else return;$n(n,{input:e,level:t})}function MC(t){return"util"in Pe&&typeof Pe.util.format=="function"?Pe.util.format(...t):xee(t," ")}function yB(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}function xB(t,e=!1){return!(e||t&&!t.startsWith("/")&&!t.match(/^[A-Z]:/)&&!t.startsWith(".")&&!t.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&t!==void 0&&!t.includes("node_modules/")}function Lre(t){const e=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/,r=/at (?:async )?(.+?) \(data:(.*?),/;return i=>{const s=i.match(r);if(s)return{filename:`<data:${s[2]}>`,function:s[1]};const o=i.match(n);if(o){let a,c,u,l,p;if(o[1]){u=o[1];let m=u.lastIndexOf(".");if(u[m-1]==="."&&m--,m>0){a=u.slice(0,m),c=u.slice(m+1);const h=a.indexOf(".Module");h>0&&(u=u.slice(h+1),a=a.slice(0,h))}l=void 0}c&&(l=a,p=c),c==="<anonymous>"&&(p=void 0,u=void 0),u===void 0&&(p=p||Cr,u=l?`${l}.${p}`:p);let d=o[2]?.startsWith("file://")?o[2].slice(7):o[2];const f=o[5]==="native";return d?.match(/\/[A-Z]:/)&&(d=d.slice(1)),!d&&o[5]&&!f&&(d=o[5]),{filename:d?decodeURI(d):void 0,module:t?t(d):void 0,function:u,lineno:LC(o[3]),colno:LC(o[4]),in_app:xB(d||"",f)}}if(i.match(e))return{filename:i}}}function wB(t){return[90,Lre(t)]}function LC(t){return parseInt(t||"",10)||void 0}function Ure(t,e,n,r){const i=t();let s=!1,o=!0;return setInterval(()=>{const a=i.getTimeMs();s===!1&&a>e+n&&(s=!0,o&&r()),a<e+n&&(s=!1)},20),{poll:()=>{i.reset()},enabled:a=>{o=a}}}function Fre(t,e,n){const r=e?e.replace(/^file:\/\//,""):void 0,i=t.location.columnNumber?t.location.columnNumber+1:void 0,s=t.location.lineNumber?t.location.lineNumber+1:void 0;return{filename:r,module:n(r),function:t.functionName||Cr,colno:i,lineno:s,in_app:r?xB(r):void 0}}class Nr{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){const n=this._cache.get(e);if(n!==void 0)return this._cache.delete(e),this._cache.set(e,n),n}set(e,n){if(this._cache.size>=this._maxSize){const r=this._cache.keys().next().value;this._cache.delete(r)}this._cache.set(e,n)}remove(e){const n=this._cache.get(e);return n&&this._cache.delete(e),n}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const e=[];return this._cache.forEach(n=>e.push(n)),e}}function $S(t,...e){const[n,r,i,s]=e;if(Array.isArray(r)){const o={...i};o["sentry.message.template"]=n,r.forEach((c,u)=>{o[`sentry.message.parameter.${u}`]=c});const a=Pr.format(n,...r);vC({level:t,message:a,attributes:o},s?.scope)}else vC({level:t,message:n,attributes:r},i?.scope??s?.scope)}function BS(...t){$S("info",...t)}function AB(...t){$S("warn",...t)}function DB(...t){$S("error",...t)}const zl={};function RB(t,e,n){return n?Bre(t,e,n):$re(t,e)}function $re(t,e){return Object.assign(n=>{const r=zl[t];if(r)return n&&r.setConfig(n),r;const i=e(n);return zl[t]=i,kp({instrumentations:[i]}),i},{id:t})}function Bre(t,e,n){return Object.assign(r=>{const i=n(r),s=zl[t];if(s)return s.setConfig(i),s;const o=new e(i);return zl[t]=o,kp({instrumentations:[o]}),o},{id:t})}const ar=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function jre(){return`unknown_service:${process.argv0}`}const Ja=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";class Gl{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,n){const r=new Gl({},n);return r._rawAttributes=UC(e),r._asyncAttributesPending=e.filter(([i,s])=>Ja(s)).length>0,r}constructor(e,n){const r=e.attributes??{};this._rawAttributes=Object.entries(r).map(([i,s])=>(Ja(s)&&(this._asyncAttributesPending=!0),[i,s])),this._rawAttributes=UC(this._rawAttributes),this._schemaUrl=Vre(n?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){const[n,r]=this._rawAttributes[e];this._rawAttributes[e]=[n,Ja(r)?await r:r]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&$.diag.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;const e={};for(const[n,r]of this._rawAttributes){if(Ja(r)){$.diag.debug(`Unsettled resource attribute ${n} skipped`);continue}r!=null&&(e[n]??=r)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;const n=zre(this,e),r=n?{schemaUrl:n}:void 0;return Gl.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],r)}}function IB(t,e){return Gl.FromAttributeList(Object.entries(t),e)}function CB(){return IB({[fe.ATTR_SERVICE_NAME]:jre(),[fe.ATTR_TELEMETRY_SDK_LANGUAGE]:Xu[fe.ATTR_TELEMETRY_SDK_LANGUAGE],[fe.ATTR_TELEMETRY_SDK_NAME]:Xu[fe.ATTR_TELEMETRY_SDK_NAME],[fe.ATTR_TELEMETRY_SDK_VERSION]:Xu[fe.ATTR_TELEMETRY_SDK_VERSION]})}function UC(t){return t.map(([e,n])=>Ja(n)?[e,n.catch(r=>{$.diag.debug("promise rejection for resource attribute: %s - %s",e,r)})]:[e,n])}function Vre(t){if(typeof t=="string"||t===void 0)return t;$.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t)}function zre(t,e){const n=t?.schemaUrl,r=e?.schemaUrl,i=n===void 0||n==="",s=r===void 0||r==="";if(i)return r;if(s||n===r)return n;$.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',n,r)}const Gre="exception";class qre{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:$.SpanStatusCode.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){const n=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=wi.now(),this._performanceOffset=n-(this._performanceStartTime+Cp()),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??n),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,n){if(n==null||this._isSpanEnded())return this;if(e.length===0)return $.diag.warn(`Invalid attribute key: ${e}`),this;if(!QE(n))return $.diag.warn(`Invalid attribute value set for key: ${e}`),this;const{attributeCountLimit:r}=this._spanLimits;return r!==void 0&&Object.keys(this.attributes).length>=r&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(n),this)}setAttributes(e){for(const[n,r]of Object.entries(e))this.setAttribute(n,r);return this}addEvent(e,n,r){if(this._isSpanEnded())return this;const{eventCountLimit:i}=this._spanLimits;if(i===0)return $.diag.warn("No events allowed."),this._droppedEventsCount++,this;i!==void 0&&this.events.length>=i&&(this._droppedEventsCount===0&&$.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),t_(n)&&(t_(r)||(r=n),n=void 0);const s=sc(n);return this.events.push({name:e,attributes:s,time:this._getTime(r),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status={...e},this.status.message!=null&&typeof e.message!="string"&&($.diag.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){$.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=QF(this.startTime,this.endTime),this._duration[0]<0&&($.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&$.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=wi.now())return nS(e+this._performanceOffset);if(typeof e=="number")return sr(e);if(e instanceof Date)return sr(e.getTime());if(Op(e))return e;if(this._startTimeProvided)return sr(Date.now());const n=wi.now()-this._performanceStartTime;return rS(this.startTime,sr(n))}isRecording(){return this._ended===!1}recordException(e,n){const r={};typeof e=="string"?r[fe.ATTR_EXCEPTION_MESSAGE]=e:e&&(e.code?r[fe.ATTR_EXCEPTION_TYPE]=e.code.toString():e.name&&(r[fe.ATTR_EXCEPTION_TYPE]=e.name),e.message&&(r[fe.ATTR_EXCEPTION_MESSAGE]=e.message),e.stack&&(r[fe.ATTR_EXCEPTION_STACKTRACE]=e.stack)),r[fe.ATTR_EXCEPTION_TYPE]||r[fe.ATTR_EXCEPTION_MESSAGE]?this.addEvent(Gre,r,n):$.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){const e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);$.diag.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,n){return e.length<=n?e:e.substring(0,n)}_truncateToSize(e){const n=this._attributeValueLengthLimit;return n<=0?($.diag.warn(`Attribute value limit must be positive, got ${n}`),e):typeof e=="string"?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map(r=>typeof r=="string"?this._truncateToLimitUtil(r,n):r):e}}var Vt;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Vt||(Vt={}));class ql{shouldSample(){return{decision:Vt.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class _s{shouldSample(){return{decision:Vt.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}class Ru{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(eS(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new _s),this._remoteParentSampled=e.remoteParentSampled??new _s,this._remoteParentNotSampled=e.remoteParentNotSampled??new ql,this._localParentSampled=e.localParentSampled??new _s,this._localParentNotSampled=e.localParentNotSampled??new ql}shouldSample(e,n,r,i,s,o){const a=$.trace.getSpanContext(e);return!a||!$.isSpanContextValid(a)?this._root.shouldSample(e,n,r,i,s,o):a.isRemote?a.traceFlags&$.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,i,s,o):this._remoteParentNotSampled.shouldSample(e,n,r,i,s,o):a.traceFlags&$.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,n,r,i,s,o):this._localParentNotSampled.shouldSample(e,n,r,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class FC{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,n){return{decision:$.isValidTraceId(n)&&this._accumulate(n)<this._upperBound?Vt.RECORD_AND_SAMPLED:Vt.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let n=0;for(let r=0;r<e.length/8;r++){const i=r*8,s=parseInt(e.slice(i,i+8),16);n=(n^s)>>>0}return n}}var On;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(On||(On={}));const Iu=1;function OB(){return{sampler:NB(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:Nt("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:Nt("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:Nt("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:Nt("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:Nt("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:Nt("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:Nt("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:Nt("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function NB(){const t=tS("OTEL_TRACES_SAMPLER")??On.ParentBasedAlwaysOn;switch(t){case On.AlwaysOn:return new _s;case On.AlwaysOff:return new ql;case On.ParentBasedAlwaysOn:return new Ru({root:new _s});case On.ParentBasedAlwaysOff:return new Ru({root:new ql});case On.TraceIdRatio:return new FC($C());case On.ParentBasedTraceIdRatio:return new Ru({root:new FC($C())});default:return $.diag.error(`OTEL_TRACES_SAMPLER value "${t}" invalid, defaulting to "${On.ParentBasedAlwaysOn}".`),new Ru({root:new _s})}}function $C(){const t=Nt("OTEL_TRACES_SAMPLER_ARG");return t==null?($.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Iu}.`),Iu):t<0||t>1?($.diag.error(`OTEL_TRACES_SAMPLER_ARG=${t} was given, but it is out of range ([0..1]), defaulting to ${Iu}.`),Iu):t}const Hre=128,Wre=1/0;function Yre(t){const e={sampler:NB()},n=OB(),r=Object.assign({},n,e,t);return r.generalLimits=Object.assign({},n.generalLimits,t.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,t.spanLimits||{}),r}function Kre(t){const e=Object.assign({},t.spanLimits);return e.attributeCountLimit=t.spanLimits?.attributeCountLimit??t.generalLimits?.attributeCountLimit??Nt("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??Nt("OTEL_ATTRIBUTE_COUNT_LIMIT")??Hre,e.attributeValueLengthLimit=t.spanLimits?.attributeValueLengthLimit??t.generalLimits?.attributeValueLengthLimit??Nt("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??Nt("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??Wre,Object.assign({},t,{spanLimits:e})}const Zre=8,kB=16;class Xre{generateTraceId=BC(kB);generateSpanId=BC(Zre)}const Cu=Buffer.allocUnsafe(kB);function BC(t){return function(){for(let n=0;n<t/4;n++)Cu.writeUInt32BE(Math.random()*2**32>>>0,n*4);for(let n=0;n<t&&!(Cu[n]>0);n++)n===t-1&&(Cu[t-1]=1);return Cu.toString("hex",0,t)}}class Jre{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,n,r,i){const s=Yre(n);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=n.idGenerator||new Xre,this._resource=r,this._spanProcessor=i,this.instrumentationScope=e}startSpan(e,n={},r=$.context.active()){n.root&&(r=$.trace.deleteSpan(r));const i=$.trace.getSpan(r);if(Br(r))return $.diag.debug("Instrumentation suppressed, returning Noop Span"),$.trace.wrapSpanContext($.INVALID_SPAN_CONTEXT);const s=i?.spanContext(),o=this._idGenerator.generateSpanId();let a,c,u;!s||!$.trace.isSpanContextValid(s)?c=this._idGenerator.generateTraceId():(c=s.traceId,u=s.traceState,a=s);const l=n.kind??$.SpanKind.INTERNAL,p=(n.links??[]).map(S=>({context:S.context,attributes:sc(S.attributes)})),d=sc(n.attributes),f=this._sampler.shouldSample(r,c,e,l,d,p);u=f.traceState??u;const m=f.decision===$.SamplingDecision.RECORD_AND_SAMPLED?$.TraceFlags.SAMPLED:$.TraceFlags.NONE,h={traceId:c,spanId:o,traceFlags:m,traceState:u};if(f.decision===$.SamplingDecision.NOT_RECORD)return $.diag.debug("Recording is off, propagating context in a non-recording span"),$.trace.wrapSpanContext(h);const g=sc(Object.assign(d,f.attributes));return new qre({resource:this._resource,scope:this.instrumentationScope,context:r,spanContext:h,name:e,kind:l,links:p,parentSpanContext:a,attributes:g,startTime:n.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,n,r,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=n:arguments.length===3?(s=n,a=r):(s=n,o=r,a=i);const c=o??$.context.active(),u=this.startSpan(e,s,c),l=$.trace.setSpan(c,u);return $.context.with(l,a,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class Qre{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){const e=[];for(const n of this._spanProcessors)e.push(n.forceFlush());return new Promise(n=>{Promise.all(e).then(()=>{n()}).catch(r=>{eS(r||new Error("MultiSpanProcessor: forceFlush failed")),n()})})}onStart(e,n){for(const r of this._spanProcessors)r.onStart(e,n)}onEnd(e){for(const n of this._spanProcessors)n.onEnd(e)}shutdown(){const e=[];for(const n of this._spanProcessors)e.push(n.shutdown());return new Promise((n,r)=>{Promise.all(e).then(()=>{n()},r)})}}var vi;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(vi||(vi={}));class eie{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){const n=s$({},OB(),Kre(e));this._resource=n.resource??CB(),this._config=Object.assign({},n,{resource:this._resource});const r=[];e.spanProcessors?.length&&r.push(...e.spanProcessors),this._activeSpanProcessor=new Qre(r)}getTracer(e,n,r){const i=`${e}@${n||""}:${r?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new Jre({name:e,version:n,schemaUrl:r?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(i)}forceFlush(){const e=this._config.forceFlushTimeoutMillis,n=this._activeSpanProcessor._spanProcessors.map(r=>new Promise(i=>{let s;const o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${e} ms`)),s=vi.timeout},e);r.forceFlush().then(()=>{clearTimeout(o),s!==vi.timeout&&(s=vi.resolved,i(s))}).catch(a=>{clearTimeout(o),s=vi.error,i(a)})}));return new Promise((r,i)=>{Promise.all(n).then(s=>{const o=s.filter(a=>a!==vi.resolved);o.length>0?i(o):r()}).catch(s=>i([s]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}const jS="sentry.parentIsRemote",tie="sentry.graphql.operation";function VS(t){if("parentSpanId"in t)return t.parentSpanId;if("parentSpanContext"in t)return t.parentSpanContext?.spanId}function zS(t){const e=t;return!!e.attributes&&typeof e.attributes=="object"}function nie(t){return typeof t.kind=="number"}function rie(t){return!!t.status}function iie(t){return!!t.name}function sie(t){if(!zS(t))return{};const e=t.attributes[fe.ATTR_URL_FULL]||t.attributes[fe.SEMATTRS_HTTP_URL],n={url:e,"http.method":t.attributes[fe.ATTR_HTTP_REQUEST_METHOD]||t.attributes[fe.SEMATTRS_HTTP_METHOD]};!n["http.method"]&&n.url&&(n["http.method"]="GET");try{if(typeof e=="string"){const r=US(e);n.url=FS(r),r.search&&(n["http.query"]=r.search),r.hash&&(n["http.fragment"]=r.hash)}}catch{}return n}function oie(t){return nie(t)?t.kind:$.SpanKind.INTERNAL}const sh="sentry-trace",g_="baggage",GS="sentry.dsc",qS="sentry.sampled_not_recording",PB="sentry.url",aie="sentry.sample_rand",cie="sentry.sample_rate",MB=$.createContextKey("sentry_scopes"),__=$.createContextKey("sentry_fork_isolation_scope"),v_=$.createContextKey("sentry_fork_set_scope"),E_=$.createContextKey("sentry_fork_set_isolation_scope"),LB="_scopeContext";function Ks(t){return t.getValue(MB)}function UB(t,e){return t.setValue(MB,e)}function uie(t,e){ur(t,LB,e)}function Tc(t){return t[LB]}function yc(t){const{traceFlags:e,traceState:n}=t,r=n?n.get(qS)==="1":!1;if(e===$.TraceFlags.SAMPLED)return!0;if(r)return!1;const i=n?n.get(GS):void 0,s=i?Yc(i):void 0;if(s?.sampled==="true")return!0;if(s?.sampled==="false")return!1}function FB(t,e,n){const r=e[fe.ATTR_HTTP_REQUEST_METHOD]||e[fe.SEMATTRS_HTTP_METHOD];if(r)return die({attributes:e,name:t,kind:n},r);const i=e[fe.SEMATTRS_DB_SYSTEM],s=typeof e[Fn]=="string"&&e[Fn].startsWith("cache.");if(i&&!s)return pie({attributes:e,name:t});const o=e[xn]==="custom"?"custom":"route";if(e[fe.SEMATTRS_RPC_SERVICE])return{...cc(t,e,"route"),op:"rpc"};if(e[fe.SEMATTRS_MESSAGING_SYSTEM])return{...cc(t,e,o),op:"message"};const u=e[fe.SEMATTRS_FAAS_TRIGGER];return u?{...cc(t,e,o),op:u.toString()}:{op:void 0,description:t,source:"custom"}}function lie(t){const e=zS(t)?t.attributes:{},n=iie(t)?t.name:"<unknown>",r=oie(t);return FB(n,e,r)}function pie({attributes:t,name:e}){const n=t[Is];if(typeof n=="string")return{op:"db",description:n,source:t[xn]||"custom"};if(t[xn]==="custom")return{op:"db",description:e,source:"custom"};const r=t[fe.SEMATTRS_DB_STATEMENT];return{op:"db",description:r?r.toString():e,source:"task"}}function die({name:t,kind:e,attributes:n},r){const i=["http"];switch(e){case $.SpanKind.CLIENT:i.push("client");break;case $.SpanKind.SERVER:i.push("server");break}n["sentry.http.prefetch"]&&i.push("prefetch");const{urlPath:s,url:o,query:a,fragment:c,hasRoute:u}=mie(n,e);if(!s)return{...cc(t,n),op:i.join(".")};const l=n[tie],p=`${r} ${s}`,d=l?`${p} (${fie(l)})`:p,f=u||s==="/"?"route":"url",m={};o&&(m.url=o),a&&(m["http.query"]=a),c&&(m["http.fragment"]=c);const h=e===$.SpanKind.CLIENT||e===$.SpanKind.SERVER,_=!`${n[lr]||"manual"}`.startsWith("auto"),S=n[xn]==="custom",v=n[Is],T=!S&&v==null&&(h||!_),{description:y,source:b}=T?{description:d,source:f}:cc(t,n);return{op:i.join("."),description:y,source:b,data:m}}function fie(t){if(Array.isArray(t)){const e=t.slice().sort();return e.length<=5?e.join(", "):`${e.slice(0,5).join(", ")}, +${e.length-5}`}return`${t}`}function mie(t,e){const n=t[fe.SEMATTRS_HTTP_TARGET],r=t[fe.SEMATTRS_HTTP_URL]||t[fe.ATTR_URL_FULL],i=t[fe.ATTR_HTTP_ROUTE],s=typeof r=="string"?US(r):void 0,o=s?FS(s):void 0,a=s?.search||void 0,c=s?.hash||void 0;return typeof i=="string"?{urlPath:i,url:o,query:a,fragment:c,hasRoute:!0}:e===$.SpanKind.SERVER&&typeof n=="string"?{urlPath:DC(n),url:o,query:a,fragment:c,hasRoute:!1}:s?{urlPath:o,url:o,query:a,fragment:c,hasRoute:!1}:typeof n=="string"?{urlPath:DC(n),url:o,query:a,fragment:c,hasRoute:!1}:{urlPath:void 0,url:o,query:a,fragment:c,hasRoute:!1}}function cc(t,e,n="custom"){const r=e[xn]||n,i=e[Is];return i&&typeof i=="string"?{description:i,source:r}:{description:t,source:r}}function hie(){return $.trace.getActiveSpan()}const Bn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function $B({dsc:t,sampled:e}){const n=t?bS(t):void 0,r=new Vs,i=n?r.set(GS,n):r;return e===!1?i.set(qS,"1"):i}const gie=new Set;function zp(t){gie.add(t)}class _ie extends HF{constructor(){super(),zp("SentryPropagator"),this._urlMatchesTargetsMap=new Nr(100)}inject(e,n,r){if(Br(e)){Bn&&G.log("[Tracing] Not injecting trace data for url because tracing is suppressed.");return}const i=$.trace.getSpan(e),s=i&&Sie(i),o=Me()?.getOptions()?.tracePropagationTargets;if(!BB(s,o,this._urlMatchesTargetsMap)){Bn&&G.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",s);return}const a=Eie(n);let c=$.propagation.getBaggage(e)||$.propagation.createBaggage({});const{dynamicSamplingContext:u,traceId:l,spanId:p,sampled:d}=jB(e);if(a){const f=Ul(a);f&&Object.entries(f).forEach(([m,h])=>{c=c.setEntry(m,{value:h})})}u&&(c=Object.entries(u).reduce((f,[m,h])=>h?f.setEntry(`${SS}${m}`,{value:h}):f,c)),l&&l!==$.INVALID_TRACEID&&r.set(n,sh,$p(l,p,d)),super.inject($.propagation.setBaggage(e,c),n,r)}extract(e,n,r){const i=r.get(n,sh),s=r.get(n,g_),o=i?Array.isArray(i)?i[0]:i:void 0;return zB(VB(e,{sentryTrace:o,baggage:s}))}fields(){return[sh,g_]}}const jC="[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:";function BB(t,e,n){if(typeof t!="string"||!e)return!0;const r=n?.get(t);if(r!==void 0)return Bn&&!r&&G.log(jC,t),r;const i=Hs(t,e);return n?.set(t,i),Bn&&!i&&G.log(jC,t),i}function jB(t,e={}){const n=$.trace.getSpan(t);if(n?.spanContext().isRemote){const a=n.spanContext();return{dynamicSamplingContext:en(n),traceId:a.traceId,spanId:void 0,sampled:yc(a)}}if(n){const a=n.spanContext();return{dynamicSamplingContext:en(n),traceId:a.traceId,spanId:a.spanId,sampled:yc(a)}}const r=e.scope||Ks(t)?.scope||tt(),i=e.client||Me(),s=r.getPropagationContext();return{dynamicSamplingContext:i?Kc(i,r):void 0,traceId:s.traceId,spanId:s.propagationSpanId,sampled:s.sampled}}function VB(t,{sentryTrace:e,baggage:n}){const r=tte(e,n),{traceId:i,parentSpanId:s,sampled:o,dsc:a}=r,c=Me(),u=Yc(n);if(!s||c&&!rte(c,u?.org_id))return t;const l=bie({traceId:i,spanId:s,sampled:o,dsc:a});return $.trace.setSpanContext(t,l)}function vie(t,e,n){const r=zB(VB(t,e));return $.context.with(r,n)}function zB(t){const e=Ks(t),n={scope:e?e.scope:tt().clone(),isolationScope:e?e.isolationScope:ut()};return UB(t,n)}function Eie(t){try{const e=t[g_];return Array.isArray(e)?e.join(","):e}catch{return}}function Sie(t){const e=Et(t).data,n=e[fe.SEMATTRS_HTTP_URL]||e[fe.ATTR_URL_FULL];if(typeof n=="string")return n;const r=t.spanContext().traceState?.get(PB);if(r)return r}function bie({spanId:t,traceId:e,sampled:n,dsc:r}){const i=$B({dsc:r,sampled:n});return{traceId:e,spanId:t,isRemote:!0,traceFlags:n?$.TraceFlags.SAMPLED:$.TraceFlags.NONE,traceState:i}}function GB(t,e,n){const r=HB(),{name:i,parentSpan:s}=t;return KB(s)(()=>{const a=YB(t.scope,t.forceTransaction),u=t.onlyIfParent&&!$.trace.getSpan(a)?Ni(a):a,l=WB(t);if(!Yi()){const p=Br(u)?u:Ni(u);return $.context.with(p,()=>r.startActiveSpan(i,l,p,d=>$.context.with(a,()=>d_(()=>e(d),()=>{Et(d).status===void 0&&d.setStatus({code:$.SpanStatusCode.ERROR})},n?()=>d.end():void 0))))}return r.startActiveSpan(i,l,u,p=>d_(()=>e(p),()=>{Et(p).status===void 0&&p.setStatus({code:$.SpanStatusCode.ERROR})},n?()=>p.end():void 0))})}function Tie(t,e){return GB(t,e,!0)}function yie(t,e){return GB(t,n=>e(n,()=>n.end()),!1)}function xie(t){const e=HB(),{name:n,parentSpan:r}=t;return KB(r)(()=>{const s=YB(t.scope,t.forceTransaction);let a=t.onlyIfParent&&!$.trace.getSpan(s)?Ni(s):s;const c=WB(t);return Yi()||(a=Br(a)?a:Ni(a)),e.startSpan(n,c,a)})}function qB(t,e){const n=t?$.trace.setSpan($.context.active(),t):$.trace.deleteSpan($.context.active());return $.context.with(n,()=>e(tt()))}function HB(){return Me()?.tracer||$.trace.getTracer("@sentry/opentelemetry",En)}function WB(t){const{startTime:e,attributes:n,kind:r,op:i,links:s}=t,o=typeof e=="number"?wie(e):e;return{attributes:i?{[Fn]:i,...n}:n,kind:r,links:s,startTime:o}}function wie(t){return t<9999999999?t*1e3:t}function YB(t,e){const n=Aie(t),r=$.trace.getSpan(n);if(!r||!e)return n;const i=$.trace.deleteSpan(n),{spanId:s,traceId:o}=r.spanContext(),a=yc(r.spanContext()),c=Un(r),u=en(c),l=$B({dsc:u,sampled:a}),p={traceId:o,spanId:s,isRemote:!0,traceFlags:a?$.TraceFlags.SAMPLED:$.TraceFlags.NONE,traceState:l};return $.trace.setSpanContext(i,p)}function Aie(t){if(t){const e=Tc(t);if(e)return e}return $.context.active()}function Die(t,e){return vie($.context.active(),t,e)}function Rie(t,e){const n=Tc(e),r=n&&$.trace.getSpan(n),i=r?yS(r):_S(e);return[r?en(r):Kc(t,e),i]}function KB(t){return t!==void 0?e=>qB(t,e):e=>e()}function Iie(t){const e=Ni($.context.active());return $.context.with(e,t)}function Cie({span:t,scope:e,client:n}={}){let r=(e&&Tc(e))??$.context.active();if(t){const{scope:c}=Cs(t);r=c&&Tc(c)||$.trace.setSpan($.context.active(),t)}const{traceId:i,spanId:s,sampled:o,dynamicSamplingContext:a}=jB(r,{scope:e,client:n});return{"sentry-trace":$p(i,s,o),baggage:bS(a)}}function Oie(){function t(){const a=$.context.active(),c=Ks(a);return c||{scope:hS(),isolationScope:gS()}}function e(a){const c=$.context.active();return $.context.with(c,()=>a(s()))}function n(a,c){const u=Tc(a)||$.context.active();return $.context.with(u.setValue(v_,a),()=>c(a))}function r(a){const c=$.context.active();return $.context.with(c.setValue(__,!0),()=>a(o()))}function i(a,c){const u=$.context.active();return $.context.with(u.setValue(E_,a),()=>c(o()))}function s(){return t().scope}function o(){return t().isolationScope}Fee({withScope:e,withSetScope:n,withSetIsolationScope:i,withIsolationScope:r,getCurrentScope:s,getIsolationScope:o,startSpan:Tie,startSpanManual:yie,startInactiveSpan:xie,getActiveSpan:hie,suppressTracing:Iie,getTraceData:Cie,continueTrace:Die,withActiveSpan:qB})}function Nie(t){class e extends t{constructor(...r){super(...r),zp("SentryContextManager")}with(r,i,s,...o){const a=Ks(r),c=a?.scope||tt(),u=a?.isolationScope||ut(),l=r.getValue(__)===!0,p=r.getValue(v_),d=r.getValue(E_),f=p||c.clone(),m=d||(l?u.clone():u),_=UB(r,{scope:f,isolationScope:m}).deleteValue(__).deleteValue(v_).deleteValue(E_);return uie(f,_),super.with(_,i,s,...o)}}return e}function kie(t){const e=new Map;for(const n of t)Pie(e,n);return Array.from(e,function([n,r]){return r})}function ZB(t){return t.attributes[jS]===!0?void 0:VS(t)}function Pie(t,e){const n=e.spanContext().spanId,r=ZB(e);if(!r){S_(t,{id:n,span:e,children:[]});return}const i=Mie(t,r),s=S_(t,{id:n,span:e,parentNode:i,children:[]});i.children.push(s)}function Mie(t,e){const n=t.get(e);return n||S_(t,{id:e,children:[]})}function S_(t,e){const n=t.get(e.id);return n?.span?n:n&&!n.span?(n.span=e.span,n.parentNode=e.parentNode,n):(t.set(e.id,e),e)}const XB={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},Lie=t=>Object.values(XB).includes(t);function JB(t){const e=zS(t)?t.attributes:{},n=rie(t)?t.status:void 0;if(n){if(n.code===$.SpanStatusCode.OK)return{code:Ll};if(n.code===$.SpanStatusCode.ERROR){if(typeof n.message>"u"){const i=VC(e);if(i)return i}return n.message&&Lie(n.message)?{code:lt,message:n.message}:{code:lt,message:"internal_error"}}}const r=VC(e);return r||(n?.code===$.SpanStatusCode.UNSET?{code:Ll}:{code:lt,message:"unknown_error"})}function VC(t){const e=t[fe.ATTR_HTTP_RESPONSE_STATUS_CODE]||t[fe.SEMATTRS_HTTP_STATUS_CODE],n=t[fe.SEMATTRS_RPC_GRPC_STATUS_CODE],r=typeof e=="number"?e:typeof e=="string"?parseInt(e):void 0;if(typeof r=="number")return P$(r);if(typeof n=="string")return{code:lt,message:XB[n]||"unknown_error"}}const zC=1e3,GC=300;class Uie{constructor(e){this._finishedSpanBucketSize=e?.timeout||GC,this._finishedSpanBuckets=new Array(this._finishedSpanBucketSize).fill(void 0),this._lastCleanupTimestampInS=Math.floor(Date.now()/1e3),this._spansToBucketEntry=new WeakMap,this._sentSpans=new Map,this._debouncedFlush=tre(this.flush.bind(this),1,{maxWait:100})}export(e){const n=Math.floor(Date.now()/1e3);if(this._lastCleanupTimestampInS!==n){let o=0;this._finishedSpanBuckets.forEach((a,c)=>{a&&a.timestampInS<=n-this._finishedSpanBucketSize&&(o+=a.spans.size,this._finishedSpanBuckets[c]=void 0)}),o>0&&Bn&&G.log(`SpanExporter dropped ${o} spans because they were pending for more than ${this._finishedSpanBucketSize} seconds.`),this._lastCleanupTimestampInS=n}const r=n%this._finishedSpanBucketSize,i=this._finishedSpanBuckets[r]||{timestampInS:n,spans:new Set};this._finishedSpanBuckets[r]=i,i.spans.add(e),this._spansToBucketEntry.set(e,i);const s=ZB(e);(!s||this._sentSpans.has(s))&&this._debouncedFlush()}flush(){const e=this._finishedSpanBuckets.flatMap(o=>o?Array.from(o.spans):[]);this._flushSentSpanCache();const n=this._maybeSend(e),r=n.size,i=e.length-r;Bn&&G.log(`SpanExporter exported ${r} spans, ${i} spans are waiting for their parent spans to finish`);const s=Date.now()+GC*1e3;for(const o of n){this._sentSpans.set(o.spanContext().spanId,s);const a=this._spansToBucketEntry.get(o);a&&a.spans.delete(o)}this._debouncedFlush.cancel()}clear(){this._finishedSpanBuckets=this._finishedSpanBuckets.fill(void 0),this._sentSpans.clear(),this._debouncedFlush.cancel()}_maybeSend(e){const n=kie(e),r=new Set,i=this._getCompletedRootNodes(n);for(const s of i){const o=s.span;r.add(o);const a=$ie(o);if(s.parentNode&&this._sentSpans.has(s.parentNode.id)){const l=a.contexts?.trace?.data;l&&(l["sentry.parent_span_already_sent"]=!0)}const c=a.spans||[];for(const l of s.children)b_(l,c,r);a.spans=c.length>zC?c.sort((l,p)=>l.start_timestamp-p.start_timestamp).slice(0,zC):c;const u=Bl(o.events);u&&(a.measurements=u),Xc(a)}return r}_flushSentSpanCache(){const e=Date.now();for(const[n,r]of this._sentSpans.entries())r<=e&&this._sentSpans.delete(n)}_nodeIsCompletedRootNodeOrHasSentParent(e){return!!e.span&&(!e.parentNode||this._sentSpans.has(e.parentNode.id))}_getCompletedRootNodes(e){return e.filter(n=>this._nodeIsCompletedRootNodeOrHasSentParent(n))}}function Fie(t){const e=t.attributes,n=e[lr],r=e[Fn],i=e[xn];return{origin:n,op:r,source:i}}function $ie(t){const{op:e,description:n,data:r,origin:i="manual",source:s}=QB(t),o=Cs(t),a=t.attributes[Rs],c={[xn]:s,[Rs]:a,[Fn]:e,[lr]:i,...r,...ej(t.attributes)},{links:u}=t,{traceId:l,spanId:p}=t.spanContext(),d=VS(t),f=JB(t),m={parent_span_id:d,span_id:p,trace_id:l,data:c,origin:i,op:e,status:jp(f),links:Bp(u)},h=c[fe.ATTR_HTTP_RESPONSE_STATUS_CODE],g=typeof h=="number"?{response:{status_code:h}}:void 0;return{contexts:{trace:m,otel:{resource:t.resource.attributes},...g},spans:[],start_timestamp:Ln(t.startTime),timestamp:Ln(t.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:o.scope,capturedSpanIsolationScope:o.isolationScope,sampleRate:a,dynamicSamplingContext:en(t)},...s&&{transaction_info:{source:s}}}}function b_(t,e,n){const r=t.span;if(r&&n.add(r),!r){t.children.forEach(v=>{b_(v,e,n)});return}const s=r.spanContext().spanId,o=r.spanContext().traceId,a=VS(r),{attributes:c,startTime:u,endTime:l,links:p}=r,{op:d,description:f,data:m,origin:h="manual"}=QB(r),g={[lr]:h,[Fn]:d,...ej(c),...m},_=JB(r),S={span_id:s,trace_id:o,data:g,description:f,parent_span_id:a,start_timestamp:Ln(u),timestamp:Ln(l)||void 0,status:jp(_),op:d,origin:h,measurements:Bl(r.events),links:Bp(p)};e.push(S),t.children.forEach(v=>{b_(v,e,n)})}function QB(t){const{op:e,source:n,origin:r}=Fie(t),{op:i,description:s,source:o,data:a}=lie(t),c=e||i,u=n||o,l={...a,...Bie(t)};return{op:c,description:s,source:u,origin:r,data:l}}function ej(t){const e={...t};return delete e[Rs],delete e[jS],delete e[Is],e}function Bie(t){const e=t.attributes,n={};t.kind!==$.SpanKind.INTERNAL&&(n["otel.kind"]=$.SpanKind[t.kind]);const r=e[fe.SEMATTRS_HTTP_STATUS_CODE];r&&(n[fe.ATTR_HTTP_RESPONSE_STATUS_CODE]=r);const i=sie(t);return i.url&&(n.url=i.url),i["http.query"]&&(n["http.query"]=i["http.query"].slice(1)),i["http.fragment"]&&(n["http.fragment"]=i["http.fragment"].slice(1)),n}function jie(t,e){const n=$.trace.getSpan(e);let r=Ks(e);n&&!n.spanContext().isRemote&&xS(n,t),n?.spanContext().isRemote&&t.setAttribute(jS,!0),e===$.ROOT_CONTEXT&&(r={scope:hS(),isolationScope:gS()}),r&&U$(t,r.scope,r.isolationScope),K$(t),Me()?.emit("spanStart",t)}function Vie(t){Z$(t),Me()?.emit("spanEnd",t)}class zie{constructor(e){zp("SentrySpanProcessor"),this._exporter=new Uie(e)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(e,n){jie(e,n)}onEnd(e){Vie(e),this._exporter.export(e)}}class Gie{constructor(e){this._client=e,zp("SentrySampler")}shouldSample(e,n,r,i,s,o){const a=this._client.getOptions(),c=Wie(e),u=c?.spanContext();if(!Yi(a))return ts({decision:void 0,context:e,spanAttributes:s});const l=s[fe.SEMATTRS_HTTP_METHOD]||s[fe.ATTR_HTTP_REQUEST_METHOD];if(i===$.SpanKind.CLIENT&&l&&(!c||u?.isRemote))return ts({decision:void 0,context:e,spanAttributes:s});const p=c?qie(c,n,r):void 0;if(!(!c||u?.isRemote))return ts({decision:p?Vt.RECORD_AND_SAMPLED:Vt.NOT_RECORD,context:e,spanAttributes:s});const{description:f,data:m,op:h}=FB(r,s,i),g={...m,...s};h&&(g[Fn]=h);const _={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:g,spanName:f,parentSampled:p,parentContext:u},_),!_.decision)return ts({decision:void 0,context:e,spanAttributes:s});const{isolationScope:S}=Ks(e)??{},v=u?.traceState?u.traceState.get(GS):void 0,T=v?Yc(v):void 0,y=Mi(T?.sample_rand)??Math.random(),[b,x,D]=X$(a,{name:f,attributes:g,normalizedRequest:S?.getScopeData().sdkProcessingMetadata.normalizedRequest,parentSampled:p,parentSampleRate:Mi(T?.sample_rate)},y),k=`${l}`.toUpperCase();return k==="OPTIONS"||k==="HEAD"?(Bn&&G.log(`[Tracing] Not sampling span because HTTP method is '${k}' for ${r}`),ts({decision:Vt.NOT_RECORD,context:e,spanAttributes:s,sampleRand:y,downstreamTraceSampleRate:0})):(!b&&p===void 0&&(Bn&&G.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),this._client.recordDroppedEvent("sample_rate","transaction")),{...ts({decision:b?Vt.RECORD_AND_SAMPLED:Vt.NOT_RECORD,context:e,spanAttributes:s,sampleRand:y,downstreamTraceSampleRate:D?x:void 0}),attributes:{[Rs]:D?x:void 0}})}toString(){return"SentrySampler"}}function qie(t,e,n){const r=t.spanContext();if($.isSpanContextValid(r)&&r.traceId===e){if(r.isRemote){const s=yc(t.spanContext());return Bn&&G.log(`[Tracing] Inheriting remote parent's sampled decision for ${n}: ${s}`),s}const i=yc(r);return Bn&&G.log(`[Tracing] Inheriting parent's sampled decision for ${n}: ${i}`),i}}function ts({decision:t,context:e,spanAttributes:n,sampleRand:r,downstreamTraceSampleRate:i}){let s=Hie(e,n);return i!==void 0&&(s=s.set(cie,`${i}`)),r!==void 0&&(s=s.set(aie,`${r}`)),t==null?{decision:Vt.NOT_RECORD,traceState:s}:t===Vt.NOT_RECORD?{decision:t,traceState:s.set(qS,"1")}:{decision:t,traceState:s}}function Hie(t,e){let i=$.trace.getSpan(t)?.spanContext()?.traceState||new Vs;const s=e[fe.SEMATTRS_HTTP_URL]||e[fe.ATTR_URL_FULL];return s&&typeof s=="string"&&(i=i.set(PB,s)),i}function Wie(t){const e=$.trace.getSpan(t);return e&&$.isSpanContextValid(e.spanContext())?e:void 0}function qC(t,e){if(!t)return e;const n=Ul(t),r=Ul(e);if(!r)return t;const i={...n};return Object.entries(r).forEach(([s,o])=>{i[s]||(i[s]=o)}),F$(i)}const HS=N$(process.versions.node),T_=HS.major,Yie=HS.minor,Ou="sentry-trace",oh="baggage",HC=/baggage: (.*)\r\n/;class Kie extends E${constructor(e={}){super("@sentry/instrumentation-node-fetch",En,e),this._channelSubs=[],this._propagationDecisionMap=new Nr(100),this._ignoreOutgoingRequestsMap=new WeakMap}init(){}disable(){super.disable(),this._channelSubs.forEach(e=>e.unsubscribe()),this._channelSubs=[]}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this._subscribeToChannel("undici:request:create",this._onRequestCreated.bind(this)),this._subscribeToChannel("undici:request:headers",this._onResponseHeaders.bind(this)))}_onRequestCreated({request:e}){if(!(this.getConfig().enabled!==!1))return;const i=this._shouldIgnoreOutgoingRequest(e);if(this._ignoreOutgoingRequestsMap.set(e,i),i)return;const s=y_(e.origin,e.path),o=Me()?.getOptions().tracePropagationTargets,a=BB(s,o,this._propagationDecisionMap)?bB():void 0;if(!a)return;const{"sentry-trace":c,baggage:u}=a;if(Array.isArray(e.headers)){const l=e.headers;c&&!l.includes(Ou)&&l.push(Ou,c);const p=l.findIndex(d=>d===oh);if(u&&p===-1)l.push(oh,u);else if(u){const d=l[p+1],f=qC(d,u);f&&(l[p+1]=f)}}else{const l=e.headers;c&&!l.includes(`${Ou}:`)&&(e.headers+=`${Ou}: ${c}\r
`);const p=e.headers.match(HC)?.[1];if(u&&!p)e.headers+=`${oh}: ${u}\r
`;else if(u){const d=qC(p,u);d&&(e.headers=e.headers.replace(HC,`baggage: ${d}\r
`))}}}_onResponseHeaders({request:e,response:n}){const r=this.getConfig();if(!(r.enabled!==!1))return;const s=r.breadcrumbs,o=typeof s>"u"?!0:s,a=this._ignoreOutgoingRequestsMap.get(e);o&&!a&&Zie(e,n)}_subscribeToChannel(e,n){const r=T_>18||T_===18&&Yie>=19;let i;if(r)id.subscribe?.(e,n),i=()=>id.unsubscribe?.(e,n);else{const s=id.channel(e);s.subscribe(n),i=()=>s.unsubscribe(n)}this._channelSubs.push({name:e,unsubscribe:i})}_shouldIgnoreOutgoingRequest(e){if(Br($.context.active()))return!0;const n=y_(e.origin,e.path),r=this.getConfig().ignoreOutgoingRequests;return typeof r!="function"||!n?!1:r(n)}}function Zie(t,e){const n=Xie(t),r=e.statusCode,i=yB(r);$n({category:"http",data:{status_code:r,...n},type:"http",level:i},{event:"response",request:t,response:e})}function Xie(t){try{const e=y_(t.origin,t.path),n=US(e),r={url:FS(n),"http.method":t.method||"GET"};return n.search&&(r["http.query"]=n.search),n.hash&&(r["http.fragment"]=n.hash),r}catch{return{}}}function y_(t,e="/"){try{return new URL(e,t).toString()}catch{const n=`${t}`;return n.endsWith("/")&&e.startsWith("/")?`${n}${e.slice(1)}`:!n.endsWith("/")&&!e.startsWith("/")?`${n}/${e.slice(1)}`:`${n}${e}`}}const Jie=Pr.promisify(Y.readFile),Qie=Pr.promisify(Y.readdir),ese="Context",tse=((t={})=>{let e;const n={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0,...t};async function r(s){e===void 0&&(e=i());const o=rse(await e);return s.contexts={...s.contexts,app:{...o.app,...s.contexts?.app},os:{...o.os,...s.contexts?.os},device:{...o.device,...s.contexts?.device},culture:{...o.culture,...s.contexts?.culture},cloud_resource:{...o.cloud_resource,...s.contexts?.cloud_resource}},s}async function i(){const s={};if(n.os&&(s.os=await ise()),n.app&&(s.app=ose()),n.device&&(s.device=ase(n.device)),n.culture){const o=sse();o&&(s.culture=o)}return n.cloudResource&&(s.cloud_resource=fse()),s}return{name:ese,processEvent(s){return r(s)}}}),nse=tse;function rse(t){if(t.app?.app_memory&&(t.app.app_memory=process.memoryUsage().rss),t.app?.free_memory&&typeof process.availableMemory=="function"){const e=process.availableMemory?.();e!=null&&(t.app.free_memory=e)}return t.device?.free_memory&&(t.device.free_memory=kt.freemem()),t}async function ise(){const t=kt.platform();switch(t){case"darwin":return pse();case"linux":return dse();default:return{name:cse[t]||t,version:kt.release()}}}function sse(){try{if(typeof process.versions.icu!="string")return;const t=new Date(9e8);if(new Intl.DateTimeFormat("es",{month:"long"}).format(t)==="enero"){const n=Intl.DateTimeFormat().resolvedOptions();return{locale:n.locale,timezone:n.timeZone}}}catch{}}function ose(){const t=process.memoryUsage().rss,n={app_start_time:new Date(Date.now()-process.uptime()*1e3).toISOString(),app_memory:t};if(typeof process.availableMemory=="function"){const r=process.availableMemory?.();r!=null&&(n.free_memory=r)}return n}function ase(t){const e={};let n;try{n=kt.uptime()}catch{}if(typeof n=="number"&&(e.boot_time=new Date(Date.now()-n*1e3).toISOString()),e.arch=kt.arch(),(t===!0||t.memory)&&(e.memory_size=kt.totalmem(),e.free_memory=kt.freemem()),t===!0||t.cpu){const r=kt.cpus(),i=r?.[0];i&&(e.processor_count=r.length,e.cpu_description=i.model,e.processor_frequency=i.speed)}return e}const cse={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows",ohos:"OpenHarmony",android:"Android"},use=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],lse={alpine:t=>t,arch:t=>Nn(/distrib_release=(.*)/,t),centos:t=>Nn(/release ([^ ]+)/,t),debian:t=>t,fedora:t=>Nn(/release (..)/,t),mint:t=>Nn(/distrib_release=(.*)/,t),red:t=>Nn(/release ([^ ]+)/,t),suse:t=>Nn(/VERSION = (.*)\n/,t),ubuntu:t=>Nn(/distrib_release=(.*)/,t)};function Nn(t,e){const n=t.exec(e);return n?n[1]:void 0}async function pse(){const t={kernel_version:kt.release(),name:"Mac OS X",version:`10.${Number(kt.release().split(".")[0])-4}`};try{const e=await new Promise((n,r)=>{Ht.execFile("/usr/bin/sw_vers",(i,s)=>{if(i){r(i);return}n(s)})});t.name=Nn(/^ProductName:\s+(.*)$/m,e),t.version=Nn(/^ProductVersion:\s+(.*)$/m,e),t.build=Nn(/^BuildVersion:\s+(.*)$/m,e)}catch{}return t}function WC(t){return t.split(" ")[0].toLowerCase()}async function dse(){const t={kernel_version:kt.release(),name:"Linux"};try{const e=await Qie("/etc"),n=use.find(a=>e.includes(a.name));if(!n)return t;const r=B.join("/etc",n.name),i=(await Jie(r,{encoding:"utf-8"})).toLowerCase(),{distros:s}=n;t.name=s.find(a=>i.indexOf(WC(a))>=0)||s[0];const o=WC(t.name);t.version=lse[o]?.(i)}catch{}return t}function fse(){return process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0}const x_=new Nr(10),tj=new Nr(20),mse=7,hse="ContextLines",gse=1e3,_se=1e4;function vse(t,e,n){const r=t.get(e);return r===void 0?(t.set(e,n),n):r}function Ese(t){return!!(t.startsWith("node:")||t.endsWith(".min.js")||t.endsWith(".min.cjs")||t.endsWith(".min.mjs")||t.startsWith("data:"))}function Sse(t){return t.lineno!==void 0&&t.lineno>_se||t.colno!==void 0&&t.colno>gse}function bse(t,e){const n=x_.get(t);if(n===void 0)return!1;for(let r=e[0];r<=e[1];r++)if(n[r]===void 0)return!1;return!0}function Tse(t,e){if(!t.length)return[];let n=0;const r=t[0];if(typeof r!="number")return[];let i=KC(r,e);const s=[];for(;;){if(n===t.length-1){s.push(i);break}const o=t[n+1];if(typeof o!="number")break;o<=i[1]?i[1]=o+e:(s.push(i),i=KC(o,e)),n++}return s}function yse(t,e,n){return new Promise((r,i)=>{const s=Y.createReadStream(t),o=_2.createInterface({input:s});function a(){s.destroy(),r()}let c=0,u=0;const l=e[u];if(l===void 0){a();return}let p=l[0],d=l[1];function f(m){tj.set(t,1),ar&&G.error(`Failed to read file: ${t}. Error: ${m}`),o.close(),o.removeAllListeners(),a()}s.on("error",f),o.on("error",f),o.on("close",a),o.on("line",m=>{if(c++,!(c<p)&&(n[c]=yee(m,0),c>=d)){if(u===e.length-1){o.close(),o.removeAllListeners();return}u++;const h=e[u];if(h===void 0){o.close(),o.removeAllListeners();return}p=h[0],d=h[1]}})})}async function xse(t,e){const n={};if(e>0&&t.exception?.values){for(const s of t.exception.values)if(s.stacktrace?.frames?.length)for(let o=s.stacktrace.frames.length-1;o>=0;o--){const a=s.stacktrace.frames[o],c=a?.filename;if(!a||typeof c!="string"||typeof a.lineno!="number"||Ese(c)||Sse(a))continue;n[c]||(n[c]=[]),n[c].push(a.lineno)}}const r=Object.keys(n);if(r.length==0)return t;const i=[];for(const s of r){if(tj.get(s))continue;const o=n[s];if(!o)continue;o.sort((u,l)=>u-l);const a=Tse(o,e);if(a.every(u=>bse(s,u)))continue;const c=vse(x_,s,{});i.push(yse(s,a,c))}if(await Promise.all(i).catch(()=>{ar&&G.log("Failed to read one or more source files and resolve context lines")}),e>0&&t.exception?.values)for(const s of t.exception.values)s.stacktrace?.frames&&s.stacktrace.frames.length>0&&wse(s.stacktrace.frames,e,x_);return t}function wse(t,e,n){for(const r of t)if(r.filename&&r.context_line===void 0&&typeof r.lineno=="number"){const i=n.get(r.filename);if(i===void 0)continue;Ase(r.lineno,r,e,i)}}function YC(t){delete t.pre_context,delete t.context_line,delete t.post_context}function Ase(t,e,n,r){if(e.lineno===void 0||r===void 0){ar&&G.error("Cannot resolve context for frame with no lineno or file contents");return}e.pre_context=[];for(let s=nj(t,n);s<t;s++){const o=r[s];if(o===void 0){YC(e),ar&&G.error(`Could not find line ${s} in file ${e.filename}`);return}e.pre_context.push(o)}if(r[t]===void 0){YC(e),ar&&G.error(`Could not find line ${t} in file ${e.filename}`);return}e.context_line=r[t];const i=rj(t,n);e.post_context=[];for(let s=t+1;s<=i;s++){const o=r[s];if(o===void 0)break;e.post_context.push(o)}}function nj(t,e){return Math.max(1,t-e)}function rj(t,e){return t+e}function KC(t,e){return[nj(t,e),rj(t,e)]}const Dse=((t={})=>{const e=t.frameContextLines!==void 0?t.frameContextLines:mse;return{name:hse,processEvent(n){return xse(n,e)}}}),Rse=Dse;let Nu;async function ij(){if(Nu===void 0)try{Nu=!!(await import("node:inspector")).url()}catch{Nu=!1}return Nu}const ku="__SENTRY_ERROR_LOCAL_VARIABLES__";function Ise(t,e,n){let r=0,i=5,s=0;return setInterval(()=>{s===0?r>t&&(i*=2,n(i),i>86400&&(i=86400),s=i):(s-=1,s===0&&e()),r=0},1e3).unref(),()=>{r+=1}}function ZC(t){return t!==void 0&&(t.length===0||t==="?"||t==="<anonymous>")}function sj(t,e){return t===e||`Object.${t}`===e||t===`Object.${e}`||ZC(t)&&ZC(e)}const Cse="LyohIEBzZW50cnkvbm9kZS1jb3JlIDEwLjI5LjAgKDM1MjlkNDYpIHwgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdCAqLwppbXBvcnR7U2Vzc2lvbiBhcyBlfWZyb20ibm9kZTppbnNwZWN0b3IvcHJvbWlzZXMiO2ltcG9ydHt3b3JrZXJEYXRhIGFzIHR9ZnJvbSJub2RlOndvcmtlcl90aHJlYWRzIjtjb25zdCBuPWdsb2JhbFRoaXMsaT17fTtjb25zdCBvPSJfX1NFTlRSWV9FUlJPUl9MT0NBTF9WQVJJQUJMRVNfXyI7Y29uc3QgYT10O2Z1bmN0aW9uIHMoLi4uZSl7YS5kZWJ1ZyYmZnVuY3Rpb24oZSl7aWYoISgiY29uc29sZSJpbiBuKSlyZXR1cm4gZSgpO2NvbnN0IHQ9bi5jb25zb2xlLG89e30sYT1PYmplY3Qua2V5cyhpKTthLmZvckVhY2goZT0+e2NvbnN0IG49aVtlXTtvW2VdPXRbZV0sdFtlXT1ufSk7dHJ5e3JldHVybiBlKCl9ZmluYWxseXthLmZvckVhY2goZT0+e3RbZV09b1tlXX0pfX0oKCk9PmNvbnNvbGUubG9nKCJbTG9jYWxWYXJpYWJsZXMgV29ya2VyXSIsLi4uZSkpfWFzeW5jIGZ1bmN0aW9uIGMoZSx0LG4saSl7Y29uc3Qgbz1hd2FpdCBlLnBvc3QoIlJ1bnRpbWUuZ2V0UHJvcGVydGllcyIse29iamVjdElkOnQsb3duUHJvcGVydGllczohMH0pO2lbbl09by5yZXN1bHQuZmlsdGVyKGU9PiJsZW5ndGgiIT09ZS5uYW1lJiYhaXNOYU4ocGFyc2VJbnQoZS5uYW1lLDEwKSkpLnNvcnQoKGUsdCk9PnBhcnNlSW50KGUubmFtZSwxMCktcGFyc2VJbnQodC5uYW1lLDEwKSkubWFwKGU9PmUudmFsdWU/LnZhbHVlKX1hc3luYyBmdW5jdGlvbiByKGUsdCxuLGkpe2NvbnN0IG89YXdhaXQgZS5wb3N0KCJSdW50aW1lLmdldFByb3BlcnRpZXMiLHtvYmplY3RJZDp0LG93blByb3BlcnRpZXM6ITB9KTtpW25dPW8ucmVzdWx0Lm1hcChlPT5bZS5uYW1lLGUudmFsdWU/LnZhbHVlXSkucmVkdWNlKChlLFt0LG5dKT0+KGVbdF09bixlKSx7fSl9ZnVuY3Rpb24gdShlLHQpe2UudmFsdWUmJigidmFsdWUiaW4gZS52YWx1ZT92b2lkIDA9PT1lLnZhbHVlLnZhbHVlfHxudWxsPT09ZS52YWx1ZS52YWx1ZT90W2UubmFtZV09YDwke2UudmFsdWUudmFsdWV9PmA6dFtlLm5hbWVdPWUudmFsdWUudmFsdWU6ImRlc2NyaXB0aW9uImluIGUudmFsdWUmJiJmdW5jdGlvbiIhPT1lLnZhbHVlLnR5cGU/dFtlLm5hbWVdPWA8JHtlLnZhbHVlLmRlc2NyaXB0aW9ufT5gOiJ1bmRlZmluZWQiPT09ZS52YWx1ZS50eXBlJiYodFtlLm5hbWVdPSI8dW5kZWZpbmVkPiIpKX1hc3luYyBmdW5jdGlvbiBsKGUsdCl7Y29uc3Qgbj1hd2FpdCBlLnBvc3QoIlJ1bnRpbWUuZ2V0UHJvcGVydGllcyIse29iamVjdElkOnQsb3duUHJvcGVydGllczohMH0pLGk9e307Zm9yKGNvbnN0IHQgb2Ygbi5yZXN1bHQpaWYodC52YWx1ZT8ub2JqZWN0SWQmJiJBcnJheSI9PT10LnZhbHVlLmNsYXNzTmFtZSl7Y29uc3Qgbj10LnZhbHVlLm9iamVjdElkO2F3YWl0IGMoZSxuLHQubmFtZSxpKX1lbHNlIGlmKHQudmFsdWU/Lm9iamVjdElkJiYiT2JqZWN0Ij09PXQudmFsdWUuY2xhc3NOYW1lKXtjb25zdCBuPXQudmFsdWUub2JqZWN0SWQ7YXdhaXQgcihlLG4sdC5uYW1lLGkpfWVsc2UgdC52YWx1ZSYmdSh0LGkpO3JldHVybiBpfWxldCBmOyhhc3luYyBmdW5jdGlvbigpe2NvbnN0IHQ9bmV3IGU7dC5jb25uZWN0VG9NYWluVGhyZWFkKCkscygiQ29ubmVjdGVkIHRvIG1haW4gdGhyZWFkIik7bGV0IG49ITE7dC5vbigiRGVidWdnZXIucmVzdW1lZCIsKCk9PntuPSExfSksdC5vbigiRGVidWdnZXIucGF1c2VkIixlPT57bj0hMCxhc3luYyBmdW5jdGlvbihlLHtyZWFzb246dCxkYXRhOntvYmplY3RJZDpufSxjYWxsRnJhbWVzOml9KXtpZigiZXhjZXB0aW9uIiE9PXQmJiJwcm9taXNlUmVqZWN0aW9uIiE9PXQpcmV0dXJuO2lmKGY/LigpLG51bGw9PW4pcmV0dXJuO2NvbnN0IGE9W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0e3Njb3BlQ2hhaW46bixmdW5jdGlvbk5hbWU6byx0aGlzOnN9PWlbdF0sYz1uLmZpbmQoZT0+ImxvY2FsIj09PWUudHlwZSkscj0iZ2xvYmFsIiE9PXMuY2xhc3NOYW1lJiZzLmNsYXNzTmFtZT9gJHtzLmNsYXNzTmFtZX0uJHtvfWA6bztpZih2b2lkIDA9PT1jPy5vYmplY3Qub2JqZWN0SWQpYVt0XT17ZnVuY3Rpb246cn07ZWxzZXtjb25zdCBuPWF3YWl0IGwoZSxjLm9iamVjdC5vYmplY3RJZCk7YVt0XT17ZnVuY3Rpb246cix2YXJzOm59fX1hd2FpdCBlLnBvc3QoIlJ1bnRpbWUuY2FsbEZ1bmN0aW9uT24iLHtmdW5jdGlvbkRlY2xhcmF0aW9uOmBmdW5jdGlvbigpIHsgdGhpcy4ke299ID0gdGhpcy4ke299IHx8ICR7SlNPTi5zdHJpbmdpZnkoYSl9OyB9YCxzaWxlbnQ6ITAsb2JqZWN0SWQ6bn0pLGF3YWl0IGUucG9zdCgiUnVudGltZS5yZWxlYXNlT2JqZWN0Iix7b2JqZWN0SWQ6bn0pfSh0LGUucGFyYW1zKS50aGVuKGFzeW5jKCk9PntuJiZhd2FpdCB0LnBvc3QoIkRlYnVnZ2VyLnJlc3VtZSIpfSxhc3luYyBlPT57biYmYXdhaXQgdC5wb3N0KCJEZWJ1Z2dlci5yZXN1bWUiKX0pfSksYXdhaXQgdC5wb3N0KCJEZWJ1Z2dlci5lbmFibGUiKTtjb25zdCBpPSExIT09YS5jYXB0dXJlQWxsRXhjZXB0aW9ucztpZihhd2FpdCB0LnBvc3QoIkRlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zIix7c3RhdGU6aT8iYWxsIjoidW5jYXVnaHQifSksaSl7Y29uc3QgZT1hLm1heEV4Y2VwdGlvbnNQZXJTZWNvbmR8fDUwO2Y9ZnVuY3Rpb24oZSx0LG4pe2xldCBpPTAsbz01LGE9MDtyZXR1cm4gc2V0SW50ZXJ2YWwoKCk9PnswPT09YT9pPmUmJihvKj0yLG4obyksbz44NjQwMCYmKG89ODY0MDApLGE9byk6KGEtPTEsMD09PWEmJnQoKSksaT0wfSwxZTMpLnVucmVmKCksKCk9PntpKz0xfX0oZSxhc3luYygpPT57cygiUmF0ZS1saW1pdCBsaWZ0ZWQuIiksYXdhaXQgdC5wb3N0KCJEZWJ1Z2dlci5zZXRQYXVzZU9uRXhjZXB0aW9ucyIse3N0YXRlOiJhbGwifSl9LGFzeW5jIGU9PntzKGBSYXRlLWxpbWl0IGV4Y2VlZGVkLiBEaXNhYmxpbmcgY2FwdHVyaW5nIG9mIGNhdWdodCBleGNlcHRpb25zIGZvciAke2V9IHNlY29uZHMuYCksYXdhaXQgdC5wb3N0KCJEZWJ1Z2dlci5zZXRQYXVzZU9uRXhjZXB0aW9ucyIse3N0YXRlOiJ1bmNhdWdodCJ9KX0pfX0pKCkuY2F0Y2goZT0+e3MoIkZhaWxlZCB0byBzdGFydCBkZWJ1Z2dlciIsZSl9KSxzZXRJbnRlcnZhbCgoKT0+e30sMWU0KTs=";function XC(...t){G.log("[LocalVariables]",...t)}const Ose=((t={})=>{function e(s,o){const a=(s.stacktrace?.frames||[]).filter(c=>c.function!=="new Promise");for(let c=0;c<a.length;c++){const u=a.length-c-1,l=o[c],p=a[u];if(!p||!l)break;l.vars===void 0||p.in_app===!1&&t.includeOutOfAppFrames!==!0||!sj(p.function,l.function)||(p.vars=l.vars)}}function n(s,o){if(o.originalException&&typeof o.originalException=="object"&&ku in o.originalException&&Array.isArray(o.originalException[ku])){for(const a of s.exception?.values||[])e(a,o.originalException[ku]);o.originalException[ku]=void 0}return s}async function r(){const s=await import("node:inspector");s.url()||s.open(0)}function i(s){const o=new M_.Worker(new URL(`data:application/javascript;base64,${Cse}`),{workerData:s,execArgv:[],env:{...process.env,NODE_OPTIONS:void 0}});process.on("exit",()=>{o.terminate()}),o.once("error",a=>{XC("Worker error",a)}),o.once("exit",a=>{XC("Worker exit",a)}),o.unref()}return{name:"LocalVariablesAsync",async setup(s){if(!s.getOptions().includeLocalVariables)return;if(await ij()){G.warn("Local variables capture has been disabled because the debugger was already enabled");return}const a={...t,debug:G.isEnabled()};r().then(()=>{try{i(a)}catch(c){G.error("Failed to start worker",c)}},c=>{G.error("Failed to start inspector",c)})},processEvent(s,o){return n(s,o)}}});function oj(t){if(t!==void 0)return t.slice(-10).reduce((e,n)=>`${e},${n.function},${n.lineno},${n.colno}`,"")}function Nse(t,e){if(e!==void 0)return oj(t(e,1))}function aj(t){let e=[],n=!1;function r(o){e=[],!n&&(n=!0,t(o))}e.push(r);function i(o){e.push(o)}function s(o){const a=e.pop()||r;try{a(o)}catch{r(o)}}return{add:i,next:s}}class WS{constructor(e){this._session=e}static async create(e){if(e)return e;const n=await import("node:inspector");return new WS(new n.Session)}configureAndConnect(e,n){this._session.connect(),this._session.on("Debugger.paused",r=>{e(r,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:n?"all":"uncaught"})}setPauseOnExceptions(e){this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}getLocalVariables(e,n){this._getProperties(e,r=>{const{add:i,next:s}=aj(n);for(const o of r)if(o.value?.objectId&&o.value.className==="Array"){const a=o.value.objectId;i(c=>this._unrollArray(a,o.name,c,s))}else if(o.value?.objectId&&o.value.className==="Object"){const a=o.value.objectId;i(c=>this._unrollObject(a,o.name,c,s))}else o.value&&i(a=>this._unrollOther(o,a,s));s({})})}_getProperties(e,n){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},(r,i)=>{n(r?[]:i.result)})}_unrollArray(e,n,r,i){this._getProperties(e,s=>{r[n]=s.filter(o=>o.name!=="length"&&!isNaN(parseInt(o.name,10))).sort((o,a)=>parseInt(o.name,10)-parseInt(a.name,10)).map(o=>o.value?.value),i(r)})}_unrollObject(e,n,r,i){this._getProperties(e,s=>{r[n]=s.map(o=>[o.name,o.value?.value]).reduce((o,[a,c])=>(o[a]=c,o),{}),i(r)})}_unrollOther(e,n,r){e.value&&("value"in e.value?e.value.value===void 0||e.value.value===null?n[e.name]=`<${e.value.value}>`:n[e.name]=e.value.value:"description"in e.value&&e.value.type!=="function"?n[e.name]=`<${e.value.description}>`:e.value.type==="undefined"&&(n[e.name]="<undefined>")),r(n)}}const kse="LocalVariables",Pse=((t={},e)=>{const n=new Nr(20);let r,i=!1;function s(u){const l=oj(u.stacktrace?.frames);if(l===void 0)return;const p=n.remove(l);if(p===void 0)return;const d=(u.stacktrace?.frames||[]).filter(f=>f.function!=="new Promise");for(let f=0;f<d.length;f++){const m=d.length-f-1,h=p[f],g=d[m];if(!g||!h)break;h.vars===void 0||g.in_app===!1&&t.includeOutOfAppFrames!==!0||!sj(g.function,h.function)||(g.vars=h.vars)}}function o(u){for(const l of u.exception?.values||[])s(l);return u}let a;async function c(){const l=Me()?.getOptions();if(!l?.includeLocalVariables)return;if(T_<18){G.log("The `LocalVariables` integration is only supported on Node >= v18.");return}if(await ij()){G.warn("Local variables capture has been disabled because the debugger was already enabled");return}try{const d=await WS.create(e),f=(h,{params:{reason:g,data:_,callFrames:S}},v)=>{if(g!=="exception"&&g!=="promiseRejection"){v();return}r?.();const T=Nse(h,_.description);if(T==null){v();return}const{add:y,next:b}=aj(x=>{n.set(T,x),v()});for(let x=0;x<Math.min(S.length,5);x++){const{scopeChain:D,functionName:k,this:U}=S[x],C=D.find(j=>j.type==="local"),L=U.className==="global"||!U.className?k:`${U.className}.${k}`;if(C?.object.objectId===void 0)y(j=>{j[x]={function:L},b(j)});else{const j=C.object.objectId;y(N=>d.getLocalVariables(j,H=>{N[x]={function:L,vars:H},b(N)}))}}b([])},m=t.captureAllExceptions!==!1;if(d.configureAndConnect((h,g)=>f(l.stackParser,h,g),m),m){const h=t.maxExceptionsPerSecond||50;r=Ise(h,()=>{G.log("Local variables rate-limit lifted."),d.setPauseOnExceptions(!0)},g=>{G.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${g} seconds.`),d.setPauseOnExceptions(!1)})}i=!0}catch(d){G.log("The `LocalVariables` integration failed to start.",d)}}return{name:kse,setupOnce(){a=c()},async processEvent(u){return await a,i?o(u):u},_getCachedFramesCount(){return n.size},_getFirstCachedFrame(){return n.values()[0]}}}),Mse=Pse,Lse=(t={})=>HS.major<19?Mse(t):Ose(t),Use=2e3;function Fse(t){Ir(()=>{console.error(t)});const e=Me();if(e===void 0){ar&&G.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}const n=e.getOptions(),r=n?.shutdownTimeout&&n.shutdownTimeout>0?n.shutdownTimeout:Use;e.close(r).then(i=>{i||ar&&G.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},i=>{ar&&G.error(i)})}const $se="OnUnhandledRejection",Bse=[{name:"AI_NoOutputGeneratedError"}],jse=((t={})=>{const e={mode:t.mode??"warn",ignore:[...Bse,...t.ignore??[]]};return{name:$se,setup(n){global.process.on("unhandledRejection",Hse(n,e))}}}),Vse=jse;function zse(t){if(typeof t!="object"||t===null)return{name:"",message:String(t??"")};const e=t,n=typeof e.name=="string"?e.name:"",r=typeof e.message=="string"?e.message:String(t);return{name:n,message:r}}function Gse(t,e){const n=t.name===void 0||gs(e.name,t.name,!0),r=t.message===void 0||gs(e.message,t.message);return n&&r}function qse(t,e){const n=zse(e);return t.some(r=>Gse(r,n))}function Hse(t,e){return function(r,i){if(Me()!==t||qse(e.ignore??[],r))return;const s=e.mode==="strict"?"fatal":"error",o=r&&typeof r=="object"?r._sentry_active_span:void 0;(o?c=>IS(o,c):c=>c())(()=>{Vp(r,{originalException:i,captureContext:{extra:{unhandledPromiseRejection:!0},level:s},mechanism:{handled:!1,type:"auto.node.onunhandledrejection"}})}),Wse(r,e.mode)}}function Wse(t,e){const n="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";e==="warn"?Ir(()=>{console.warn(n),console.error(t&&typeof t=="object"&&"stack"in t?t.stack:t)}):e==="strict"&&(Ir(()=>{console.warn(n)}),Fse(t))}const Yse="ChildProcess",Kse=(t={})=>({name:Yse,setup(){Oy.channel("child_process").subscribe(e=>{e&&typeof e=="object"&&"process"in e&&Zse(e.process,t)}),Oy.channel("worker_threads").subscribe(e=>{e&&typeof e=="object"&&"worker"in e&&Xse(e.worker,t)})}});function Zse(t,e){let n=!1,r;t.on("spawn",()=>{if(t.spawnfile==="/usr/bin/sw_vers"){n=!0;return}r={spawnfile:t.spawnfile},e.includeChildProcessArgs&&(r.spawnargs=t.spawnargs)}).on("exit",i=>{n||(n=!0,i!==null&&i!==0&&$n({category:"child_process",message:`Child process exited with code '${i}'`,level:i===0?"info":"warning",data:r}))}).on("error",i=>{n||(n=!0,$n({category:"child_process",message:`Child process errored with '${i.message}'`,level:"error",data:r}))})}function Xse(t,e){let n;t.on("online",()=>{n=t.threadId}).on("error",r=>{e.captureWorkerErrors!==!1?Vp(r,{mechanism:{type:"auto.child_process.worker_thread",handled:!1,data:{threadId:String(n)}}}):$n({category:"worker_thread",message:`Worker thread errored with '${r.message}'`,level:"error",data:{threadId:n}})})}var ah={},Fa={},$a={},JC;function cj(){if(JC)return $a;JC=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.AbstractAsyncHooksContextManager=void 0;const t=Ps,e=["addListener","on","once","prependListener","prependOnceListener"];let n=class{bind(i,s){return s instanceof t.EventEmitter?this._bindEventEmitter(i,s):typeof s=="function"?this._bindFunction(i,s):s}_bindFunction(i,s){const o=this,a=function(...c){return o.with(i,()=>s.apply(this,c))};return Object.defineProperty(a,"length",{enumerable:!1,configurable:!0,writable:!1,value:s.length}),a}_bindEventEmitter(i,s){return this._getPatchMap(s)!==void 0||(this._createPatchMap(s),e.forEach(a=>{s[a]!==void 0&&(s[a]=this._patchAddListener(s,s[a],i))}),typeof s.removeListener=="function"&&(s.removeListener=this._patchRemoveListener(s,s.removeListener)),typeof s.off=="function"&&(s.off=this._patchRemoveListener(s,s.off)),typeof s.removeAllListeners=="function"&&(s.removeAllListeners=this._patchRemoveAllListeners(s,s.removeAllListeners))),s}_patchRemoveListener(i,s){const o=this;return function(a,c){const u=o._getPatchMap(i)?.[a];if(u===void 0)return s.call(this,a,c);const l=u.get(c);return s.call(this,a,l||c)}}_patchRemoveAllListeners(i,s){const o=this;return function(a){const c=o._getPatchMap(i);return c!==void 0&&(arguments.length===0?o._createPatchMap(i):c[a]!==void 0&&delete c[a]),s.apply(this,arguments)}}_patchAddListener(i,s,o){const a=this;return function(c,u){if(a._wrapped)return s.call(this,c,u);let l=a._getPatchMap(i);l===void 0&&(l=a._createPatchMap(i));let p=l[c];p===void 0&&(p=new WeakMap,l[c]=p);const d=a.bind(o,u);p.set(u,d),a._wrapped=!0;try{return s.call(this,c,d)}finally{a._wrapped=!1}}}_createPatchMap(i){const s=Object.create(null);return i[this._kOtListeners]=s,s}_getPatchMap(i){return i[this._kOtListeners]}_kOtListeners=Symbol("OtListeners");_wrapped=!1};return $a.AbstractAsyncHooksContextManager=n,$a}var QC;function Jse(){if(QC)return Fa;QC=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.AsyncHooksContextManager=void 0;const t=Ip(),e=TN,n=cj();let r=class extends n.AbstractAsyncHooksContextManager{_asyncHook;_contexts=new Map;_stack=[];constructor(){super(),this._asyncHook=e.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){return this._stack[this._stack.length-1]??t.ROOT_CONTEXT}with(s,o,a,...c){this._enterContext(s);try{return o.call(a,...c)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(s,o){if(o==="TIMERWRAP")return;const a=this._stack[this._stack.length-1];a!==void 0&&this._contexts.set(s,a)}_destroy(s){this._contexts.delete(s)}_before(s){const o=this._contexts.get(s);o!==void 0&&this._enterContext(o)}_after(){this._exitContext()}_enterContext(s){this._stack.push(s)}_exitContext(){this._stack.pop()}};return Fa.AsyncHooksContextManager=r,Fa}var Ba={},eO;function Qse(){if(eO)return Ba;eO=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.AsyncLocalStorageContextManager=void 0;const t=Ip(),e=TN,n=cj();let r=class extends n.AbstractAsyncHooksContextManager{_asyncLocalStorage;constructor(){super(),this._asyncLocalStorage=new e.AsyncLocalStorage}active(){return this._asyncLocalStorage.getStore()??t.ROOT_CONTEXT}with(s,o,a,...c){const u=a==null?o:o.bind(a);return this._asyncLocalStorage.run(s,u,...c)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};return Ba.AsyncLocalStorageContextManager=r,Ba}var tO;function eoe(){return tO||(tO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=t.AsyncHooksContextManager=void 0;var e=Jse();Object.defineProperty(t,"AsyncHooksContextManager",{enumerable:!0,get:function(){return e.AsyncHooksContextManager}});var n=Qse();Object.defineProperty(t,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return n.AsyncLocalStorageContextManager}})})(ah)),ah}var toe=eoe();const noe=Nie(toe.AsyncLocalStorageContextManager);function roe(){$.diag.disable(),$.diag.setLogger({error:G.error,warn:G.warn,info:G.log,debug:G.log,verbose:G.log},$.DiagLogLevel.DEBUG)}function nO(t){return t.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function YS(t=process.argv[1]?Rre(process.argv[1]):process.cwd(),e=B.sep==="\\"){const n=e?nO(t):t;return r=>{if(!r)return;const i=e?nO(r):r;let{dir:s,base:o,ext:a}=B.posix.parse(i);(a===".js"||a===".mjs"||a===".cjs")&&(o=o.slice(0,a.length*-1));const c=decodeURIComponent(o);s||(s=".");const u=s.lastIndexOf("/node_modules");if(u>-1)return`${s.slice(u+14).replace(/\//g,".")}:${c}`;if(s.startsWith(n)){const l=s.slice(n.length+1).replace(/\//g,".");return l?`${l}:${c}`:c}return c}}const ioe=6e4;class soe extends qne{constructor(e){const n=e.includeServerName===!1?void 0:e.serverName||global.process.env.SENTRY_NAME||kt.hostname(),r={...e,platform:"node",runtime:{name:"node",version:global.process.version},serverName:n};e.openTelemetryInstrumentations&&kp({instrumentations:e.openTelemetryInstrumentations}),Jne(r,"node"),G.log(`Initializing Sentry: process: ${process.pid}, thread: ${Tg.isMainThread?"main":`worker-${Tg.threadId}`}.`),super(r),this.getOptions().enableLogs&&(this._logOnExitFlushListener=()=>{kS(this)},n&&this.on("beforeCaptureLog",i=>{i.attributes={...i.attributes,"server.address":n}}),process.on("beforeExit",this._logOnExitFlushListener))}get tracer(){if(this._tracer)return this._tracer;const e="@sentry/node",n=En,r=$.trace.getTracer(e,n);return this._tracer=r,r}async flush(e){return await this.traceProvider?.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(e)}async close(e){this._clientReportInterval&&clearInterval(this._clientReportInterval),this._clientReportOnExitFlushListener&&process.off("beforeExit",this._clientReportOnExitFlushListener),this._logOnExitFlushListener&&process.off("beforeExit",this._logOnExitFlushListener);const n=await super.close(e);return this.traceProvider&&await this.traceProvider.shutdown(),n}startClientReportTracking(){const e=this.getOptions();e.sendClientReports&&(this._clientReportOnExitFlushListener=()=>{this._flushOutcomes()},this._clientReportInterval=setInterval(()=>{ar&&G.log("Flushing client reports based on interval."),this._flushOutcomes()},e.clientReportFlushInterval??ioe).unref(),process.on("beforeExit",this._clientReportOnExitFlushListener))}_setupIntegrations(){Kne(),super._setupIntegrations()}_getTraceInfoFromScope(e){return e?Rie(this,e):[void 0,void 0]}}var ch={},ja={},fi={},rO;function ooe(){return rO||(rO=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.PACKAGE_NAME=fi.PACKAGE_VERSION=void 0,fi.PACKAGE_VERSION="0.19.0",fi.PACKAGE_NAME="@opentelemetry/instrumentation-undici"),fi}var iO;function aoe(){if(iO)return ja;iO=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.UndiciInstrumentation=void 0;const t=yN,e=Ui,n=QQ,r=Ip(),i=eQ,s=XF(),o=ooe();class a extends n.InstrumentationBase{_recordFromReq=new WeakMap;constructor(u={}){super(o.PACKAGE_NAME,o.PACKAGE_VERSION,u)}init(){}disable(){super.disable(),this._channelSubs.forEach(u=>u.unsubscribe()),this._channelSubs.length=0}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this)))}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram(s.METRIC_HTTP_CLIENT_REQUEST_DURATION,{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:r.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}})}subscribeToChannel(u,l){const[p,d]=process.version.replace("v","").split(".").map(h=>Number(h)),f=p>18||p===18&&d>=19;let m;if(f)t.subscribe?.(u,l),m=()=>t.unsubscribe?.(u,l);else{const h=t.channel(u);h.subscribe(l),m=()=>h.unsubscribe(l)}this._channelSubs.push({name:u,unsubscribe:m})}parseRequestHeaders(u){const l=new Map;if(Array.isArray(u.headers))for(let p=0;p<u.headers.length;p+=2){const d=u.headers[p],f=u.headers[p+1];typeof d=="string"&&l.set(d.toLowerCase(),f)}else if(typeof u.headers=="string"){const p=u.headers.split(`\r
`);for(const d of p){if(!d)continue;const f=d.indexOf(":");if(f===-1)continue;const m=d.substring(0,f).toLowerCase(),h=d.substring(f+1).trim(),g=l.get(m);g&&Array.isArray(g)?g.push(h):g?l.set(m,[g,h]):l.set(m,h)}}return l}onRequestCreated({request:u}){const l=this.getConfig(),p=l.enabled!==!1;if((0,n.safeExecuteInTheMiddle)(()=>!p||u.method==="CONNECT"||l.ignoreRequestHook?.(u),N=>N&&this._diag.error("caught ignoreRequestHook error: ",N),!0))return;const f=(0,i.hrTime)();let m;try{m=new e.URL(u.path,u.origin)}catch(N){this._diag.warn("could not determine url.full:",N);return}const h=m.protocol.replace(":",""),g=this.getRequestMethod(u.method),_={[s.ATTR_HTTP_REQUEST_METHOD]:g,[s.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]:u.method,[s.ATTR_URL_FULL]:m.toString(),[s.ATTR_URL_PATH]:m.pathname,[s.ATTR_URL_QUERY]:m.search,[s.ATTR_URL_SCHEME]:h},S={https:"443",http:"80"},v=m.hostname,T=m.port||S[h];_[s.ATTR_SERVER_ADDRESS]=v,T&&!isNaN(Number(T))&&(_[s.ATTR_SERVER_PORT]=Number(T));const b=this.parseRequestHeaders(u).get("user-agent");if(b){const N=Array.isArray(b)?b[b.length-1]:b;_[s.ATTR_USER_AGENT_ORIGINAL]=N}const x=(0,n.safeExecuteInTheMiddle)(()=>l.startSpanHook?.(u),N=>N&&this._diag.error("caught startSpanHook error: ",N),!0);x&&Object.entries(x).forEach(([N,H])=>{_[N]=H});const D=r.context.active(),k=r.trace.getSpan(D);let U;l.requireParentforSpans&&(!k||!r.trace.isSpanContextValid(k.spanContext()))?U=r.trace.wrapSpanContext(r.INVALID_SPAN_CONTEXT):U=this.tracer.startSpan(g==="_OTHER"?"HTTP":g,{kind:r.SpanKind.CLIENT,attributes:_},D),(0,n.safeExecuteInTheMiddle)(()=>l.requestHook?.(U,u),N=>N&&this._diag.error("caught requestHook error: ",N),!0);const C=r.trace.setSpan(r.context.active(),U),L={};r.propagation.inject(C,L);const j=Object.entries(L);for(let N=0;N<j.length;N++){const[H,O]=j[N];typeof u.addHeader=="function"?u.addHeader(H,O):typeof u.headers=="string"?u.headers+=`${H}: ${O}\r
`:Array.isArray(u.headers)&&u.headers.push(H,O)}this._recordFromReq.set(u,{span:U,attributes:_,startTime:f})}onRequestHeaders({request:u,socket:l}){const p=this._recordFromReq.get(u);if(!p)return;const d=this.getConfig(),{span:f}=p,{remoteAddress:m,remotePort:h}=l,g={[s.ATTR_NETWORK_PEER_ADDRESS]:m,[s.ATTR_NETWORK_PEER_PORT]:h};if(d.headersToSpanAttributes?.requestHeaders){const _=new Set(d.headersToSpanAttributes.requestHeaders.map(v=>v.toLowerCase())),S=this.parseRequestHeaders(u);for(const[v,T]of S.entries())if(_.has(v)){const y=Array.isArray(T)?T.join(", "):T;g[`http.request.header.${v}`]=y}}f.setAttributes(g)}onResponseHeaders({request:u,response:l}){const p=this._recordFromReq.get(u);if(!p)return;const{span:d,attributes:f}=p,m={[s.ATTR_HTTP_RESPONSE_STATUS_CODE]:l.statusCode},h=this.getConfig();(0,n.safeExecuteInTheMiddle)(()=>h.responseHook?.(d,{request:u,response:l}),_=>_&&this._diag.error("caught responseHook error: ",_),!0);const g=new Set;h.headersToSpanAttributes?.responseHeaders&&h.headersToSpanAttributes?.responseHeaders.forEach(_=>g.add(_.toLowerCase()));for(let _=0;_<l.headers.length;_=_+2){const S=l.headers[_].toString().toLowerCase(),v=l.headers[_+1];if(g.has(S)&&(m[`http.response.header.${S}`]=v.toString()),S==="content-length"){const T=Number(v.toString());isNaN(T)||(m["http.response.header.content-length"]=T)}}d.setAttributes(m),d.setStatus({code:l.statusCode>=400?r.SpanStatusCode.ERROR:r.SpanStatusCode.UNSET}),p.attributes=Object.assign(f,m)}onDone({request:u}){const l=this._recordFromReq.get(u);if(!l)return;const{span:p,attributes:d,startTime:f}=l;p.end(),this._recordFromReq.delete(u),this.recordRequestDuration(d,f)}onError({request:u,error:l}){const p=this._recordFromReq.get(u);if(!p)return;const{span:d,attributes:f,startTime:m}=p;d.recordException(l),d.setStatus({code:r.SpanStatusCode.ERROR,message:l.message}),d.end(),this._recordFromReq.delete(u),f[s.ATTR_ERROR_TYPE]=l.message,this.recordRequestDuration(f,m)}recordRequestDuration(u,l){const p={};[s.ATTR_HTTP_RESPONSE_STATUS_CODE,s.ATTR_HTTP_REQUEST_METHOD,s.ATTR_SERVER_ADDRESS,s.ATTR_SERVER_PORT,s.ATTR_URL_SCHEME,s.ATTR_ERROR_TYPE].forEach(m=>{m in u&&(p[m]=u[m])});const f=(0,i.hrTimeToMilliseconds)((0,i.hrTimeDuration)(l,(0,i.hrTime)()))/1e3;this._httpClientDurationHistogram.record(f,p)}getRequestMethod(u){const l={CONNECT:!0,OPTIONS:!0,HEAD:!0,GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0,TRACE:!0};return u.toUpperCase()in l?u.toUpperCase():"_OTHER"}}return ja.UndiciInstrumentation=a,ja}var sO;function coe(){return sO||(sO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UndiciInstrumentation=void 0;var e=aoe();Object.defineProperty(t,"UndiciInstrumentation",{enumerable:!0,get:function(){return e.UndiciInstrumentation}})})(ch)),ch}var uoe=coe();const uj="NodeFetch",loe=RB(uj,uoe.UndiciInstrumentation,t=>goe(t)),poe=RB(`${uj}.sentry`,Kie,t=>t),doe=((t={})=>({name:"NodeFetch",setupOnce(){hoe(t,Me()?.getOptions())&&loe(t),poe(t)}})),foe=doe;function moe(t,e="/"){const n=`${t}`;return n.endsWith("/")&&e.startsWith("/")?`${n}${e.slice(1)}`:!n.endsWith("/")&&!e.startsWith("/")?`${n}/${e.slice(1)}`:`${n}${e}`}function hoe(t,e={}){return typeof t.spans=="boolean"?t.spans:!e.skipOpenTelemetrySetup&&Yi(e)}function goe(t={}){return{requireParentforSpans:!1,ignoreRequestHook:n=>{const r=moe(n.origin,n.path),i=t.ignoreOutgoingRequests;return!!(i&&r&&i(r))},startSpanHook:()=>({[lr]:"auto.http.otel.node_fetch"}),requestHook:t.requestHook,responseHook:t.responseHook}}const oO=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,uh=1e6;function _oe(t,e={}){t.getOptions().debug&&roe();const n=voe(t,e);t.traceProvider=n}function voe(t,e={}){const n=new eie({sampler:new Gie(t),resource:CB().merge(IB({[fe.ATTR_SERVICE_NAME]:"node",[fe.SEMRESATTRS_SERVICE_NAMESPACE]:"sentry",[fe.ATTR_SERVICE_VERSION]:En})),forceFlushTimeoutMillis:500,spanProcessors:[new zie({timeout:Eoe(t.getOptions().maxSpanWaitDuration)}),...e.spanProcessors||[]]});return $.trace.setGlobalTracerProvider(n),$.propagation.setGlobalPropagator(new _ie),$.context.setGlobalContextManager(new noe),n}function Eoe(t){if(t!=null){if(t>uh)return oO&&G.warn(`\`maxSpanWaitDuration\` is too high, using the maximum value of ${uh}`),uh;if(t<=0||Number.isNaN(t)){oO&&G.warn("`maxSpanWaitDuration` must be a positive number, using default value instead.");return}return t}}let w_;function lj(){if(w_)return;const t=w_=new Map;function e(r,i){const s=t.get(r)||{id:r};s.url=Bt(i,R.app.getAppPath()),t.set(r,s)}function n(r,i){const s=t.get(r)||{id:r};s.title=i,t.set(r,s)}R.app.on("web-contents-created",(r,i)=>{const s=i.id;i.on("did-navigate",(o,a)=>e(s,a)),i.on("did-navigate-in-page",(o,a)=>e(s,a)),i.on("page-title-updated",(o,a)=>n(s,a)),i.on("destroyed",()=>{setTimeout(()=>{t.delete(s)},5e3)})})}function pj(t){return w_?.get(t)}const Soe={app:t=>!t.startsWith("remote-"),autoUpdater:()=>!0,webContents:t=>["dom-ready","context-menu","load-url","destroyed"].includes(t),browserWindow:t=>["closed","close","unresponsive","responsive","show","blur","focus","hide","maximize","minimize","restore","enter-full-screen","leave-full-screen"].includes(t),screen:()=>!0,powerMonitor:()=>!0,captureWindowTitles:!1};function boe(t){return Object.keys(t).reduce((e,n)=>{if(n==="captureWindowTitles")e[n]=!!t[n];else{const r=t[n];Array.isArray(r)?e[n]=i=>r.includes(i):(typeof r=="function"||r===!1)&&(e[n]=r)}return e},{})}const Toe=(t={})=>{const e={...Soe,...boe(t)};return{name:"ElectronBreadcrumbs",setup(n){const r=n.getOptions(),i=!!r?.enableLogs;function s(o,a,c,u){const l=o.emit.bind(o);o.emit=(p,...d)=>{if(c&&c(p)){const f={category:"electron",message:`${a}.${p}`,timestamp:new Date().getTime()/1e3,type:"ui"};u&&(f.data={...pj(u)},!e.captureWindowTitles&&f.data?.title&&delete f.data?.title),$n(f);const m={"sentry.origin":"auto.electron.events"};f.data?.id&&(m.id=f.data.id),f.data?.url&&(m.url=f.data.url),i&&BS(ac`electron.${a}.${p}`,m)}return l(p,...d)}}lj(),R.app.whenReady().then(()=>{e.screen&&s(R.screen,"screen",e.screen),e.powerMonitor&&s(R.powerMonitor,"powerMonitor",e.powerMonitor)},()=>{}),e.app&&s(R.app,"app",e.app),e.autoUpdater&&s(R.autoUpdater,"autoUpdater",e.autoUpdater),e.browserWindow&&R.app.on("browser-window-created",(o,a)=>{const c=a.webContents.id,u=r?.getRendererName?.(a.webContents)||"window";s(a,u,e.browserWindow,c)}),e.webContents&&R.app.on("web-contents-created",(o,a)=>{const c=a.id,u=r?.getRendererName?.(a)||"renderer";s(a,u,e.webContents,c)})}}},yoe=()=>({name:"OnUncaughtException",setup(t){const e=t.getOptions();global.process.on("uncaughtException",n=>{Vp(n,{originalException:n,captureContext:{level:"fatal"},data:{mechanism:{handled:!1,type:"generic"}}}),t.flush(e.shutdownTimeout||2e3).then(()=>{if(e?.onFatalError)e.onFatalError(n);else if(global.process.listenerCount("uncaughtException")<=2){console.error("Uncaught Exception:"),console.error(n);const r=n.stack,s=`Uncaught Exception:
${r!==void 0?r:`${n.name}: ${n.message}`}`;R.dialog.showErrorBox("A JavaScript error occurred in the main process",s)}},()=>{})})}});function rl(){const t=Up().getScopeData(),e=ut().getScopeData(),n=tt().getScopeData();return Os(t,e),Os(t,n),t.eventProcessors=[],t}function xoe(t){ut().addScopeListener(e=>{const n=rl();t(n,e)}),tt().addScopeListener(e=>{const n=rl();t(n,e)}),Up().addScopeListener(e=>{const n=rl();t(n,e)})}const Hl="7.5.0",woe="sentry.javascript.electron";function Aoe(t){return{name:woe,packages:[{name:"npm:@sentry/electron",version:Hl}],version:Hl,settings:{infer_ip:t?"auto":"never"}}}function KS(){return`${(R.app.name||R.app.getName()).replace(/\W/g,"-")}@${R.app.getVersion()}`}function ZS(){return R.app.isPackaged?"production":"development"}async function Doe(t){let e={message:"test"};const n={};for(const r of t.getEventProcessors()){if(e===null)break;e=await r(e,n)}return delete e?.message,e||{}}var Ns;(function(t){t[t.Classic=1]="Classic",t[t.Protocol=2]="Protocol",t[t.Both=3]="Both"})(Ns||(Ns={}));function Roe(t){return{createUrl:e=>`${t}://${e}/sentry_key`,urlMatches:function(e,n){return e.startsWith(this.createUrl(n))},createKey:e=>`${t}.${e}`,namespace:t}}const aO="sentry-electron-renderer-id",dj="__sentry_message_port_message__";function cO(t){return!!(t&&typeof t=="object"&&dj in t)}function Ioe(){return{[dj]:!0}}const Coe=N$(process.versions.electron),fj={major:Coe.major||0},A_=fj.major,D_=["clean-exit","abnormal-exit","killed","crashed","oom","launch-failed","integrity-failure"];function XS(){return Ve.join(R.app.getPath("userData"),"sentry")}function Ooe(){return fj.major>=25}function Noe(t,e,n){Ooe()?t.handle(e,async r=>(n({windowId:r.headers.get(aO)||void 0,url:r.url,body:Buffer.from(await r.arrayBuffer())}),new Response(""))):t.registerStringProtocol(e,(r,i)=>{n({windowId:r.headers[aO],url:r.url,body:r.uploadData?.[0]?.bytes}),i("")})}function koe(t,e){if(t.registerPreloadScript)t.registerPreloadScript({type:"frame",filePath:e});else{const n=t.getPreloads();t.setPreloads([e,...n])}}class mj{constructor(){this._entries=[],this._waiters=[],this._value=1}async runExclusive(e){const n=await this._acquire();try{return await e()}finally{n()}}_acquire(){return new Promise((e,n)=>{this._entries.push({resolve:e,reject:n}),this._dispatch()})}_release(){this._value+=1,this._dispatch()}_dispatch(){for(let e=this._value;e>0;e--){const n=this._entries?.shift();n&&(this._value-=e,e=this._value+1,n.resolve(this._newReleaser()))}this._drainUnlockWaiters()}_newReleaser(){let e=!1;return()=>{e||(e=!0,this._release())}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._waiters[e-1]&&(this._waiters.forEach(n=>n()),this._waiters=[])}}const Poe=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.*\d{0,10}Z$/;function Moe(t,e){return typeof e=="string"&&Poe.test(e)?new Date(e):e}class JS{constructor(e,n,r){this._lock=new mj,this._path=Ve.join(e,`${n}.json`),this._initial=r}async set(e){await this._lock.runExclusive(async()=>{this._data=e;try{if(e===void 0)try{await Qe.promises.unlink(this._path)}catch{}else await Qe.promises.mkdir(Ve.dirname(this._path),{recursive:!0}),await Qe.promises.writeFile(this._path,JSON.stringify(e))}catch(n){G.warn("Failed to write to store",n)}})}async get(){return this._lock.runExclusive(async()=>{if(this._data===void 0)try{this._data=JSON.parse(await Qe.promises.readFile(this._path,"utf8"),Moe)}catch{this._data=this._initial}return this._data})}async update(e){await this.set(e(await this.get()))}async clear(){await this.set(this._initial)}async getModifiedDate(){try{return(await Qe.promises.stat(this._path))?.mtime}catch{return}}}class Loe extends JS{constructor(e,n,r,i=500){super(e,n,r),this._throttleTime=i}async set(e){this._data=e,this._pendingWrite={data:e,timeout:this._pendingWrite?.timeout||setTimeout(()=>this._writePending(),this._throttleTime)}}_writePending(){if(this._pendingWrite){const e=this._pendingWrite.data;this._pendingWrite=void 0,super.set(e).catch(()=>{})}}}const Uoe=6e4;let Pu,vs;function R_(){return Pu||(Pu=new JS(XS(),"session",void 0),vs=Pu.get().then(t=>t&&Lp(t))),Pu}function uO(t){const e={...t};return delete e.toJSON,e}let xc;function Foe(t){const e=rne();t&&iB(),R_().set(uO(e)).catch(()=>{}),xc=setInterval(async()=>{const n=ut().getSession();n&&n.status==="ok"&&await R_().set(uO(n))},Uoe)}async function $oe(){xc&&clearInterval(xc);const t=ut().getSession();t?t.status==="ok"?(G.log("Ending session"),NS()):G.log("Session was already ended"):G.log("No session"),await R_().clear(),await tne(2e3)}async function Boe(){const t=await vs,e=ut(),n=e.getSession();return t&&(vs=void 0,t.status==="ok"&&e.setSession(Lp(t))),n}function joe(t){ut().setSession(t)}async function Voe(){const t=Me(),e=await vs;if(e&&t){if(e.status!=="ok"){vs=void 0;return}G.log("Found previous abnormal session");const n=Lp(e);Or(n,{status:"abnormal",errors:(n.errors||0)+1,release:e.attrs?.release,environment:e.attrs?.environment}),await t.sendSession(n),vs=void 0}}function zoe(){xc&&clearInterval(xc);const t=ut().getSession();t&&t.status==="ok"&&(G.log("Setting session as abnormal ANR"),Or(t,{status:"abnormal",abnormal_mechanism:"anr_foreground"}),iB())}function Goe(){R.app.on("before-quit",()=>{R.app.removeListener("will-quit",lO),R.app.on("will-quit",lO)})}const lO=async t=>{if(!t.defaultPrevented){G.log("[Session] Exit Handler"),t.preventDefault();try{await $oe()}catch(e){G.warn("[Session] Error ending session:",e)}R.app.exit()}},pO="MDMP";function qoe(t){return{signature:t.subarray(0,4).toString(),version:t.readUInt32LE(4),streamCount:t.readUInt32LE(8),streamDirectoryRva:t.readUInt32LE(12),checksum:t.readUInt32LE(16),timeDateStamp:new Date(t.readUInt32LE(20)*1e3),flags:t.readBigUInt64LE(24)}}function Gp(t,e){return{dataSize:t.readUInt32LE(e),rva:t.readUInt32LE(e+4)}}function Hoe(t,e){return{streamType:t.readUInt32LE(e),location:Gp(t,e+4)}}function Woe(t,e){return t.subarray(e.rva,e.rva+e.dataSize)}function Yoe(t,e){return Gp(t,e+20)}function dO(t,e){const n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)}function Koe(t,e,n){const r=t.readUInt32LE(n),i=t.readUInt16LE(n+4),s=t.readUInt32LE(n+8);if(i===1)return{name:dO(e,r),value:dO(e,s)}}function Zoe(t,e){const n=t.subarray(e.rva,e.rva+e.dataSize);if(n.length===0)return{};const r=Yoe(n,0),i=t.subarray(r.rva,r.rva+r.dataSize),s=i.readUInt32LE(0);let o=4;const a={};for(let c=0;c<s;c++){const u=Koe(i,t,o);if(u){const{name:l,value:p}=u;a[l]=p}o+=12}return a}function Xoe(t,e){const n=t.subarray(e.rva,e.rva+e.dataSize);if(n.length===0)return{};const r=n.readUInt32LE(0);let i=4,s={};for(let o=0;o<r;o++){const a=Gp(n,i+4);s={...s,...Zoe(t,a)},i+=12}return s}function Joe(t,e){const n=Gp(e,44);return Xoe(t,n)}function Qoe(t){if(t.length<1e4)throw new Error("Minidump was less than 10KB so likely incomplete.");let e;try{e=qoe(t)}catch{throw new Error("Failed to parse minidump header")}if(e.signature!==pO)throw new Error(`Minidump signature was not '${pO}'`);try{for(let n=0;n<e.streamCount;n++){const r=Hoe(t,e.streamDirectoryRva+n*12);if(r.streamType===1129316353){const i=Woe(t,r.location),s=Joe(t,i);return{header:e,crashpadAnnotations:s}}}}catch{}return{header:e}}const fO=30,eae=24*3600*1e3,mO=1e3,tae=5e3,hj=500,hO=tae/hj;function nae(t){return new Promise(e=>setTimeout(e,t))}function rae(t){const e=new mj;return async(n,r)=>{await e.runExclusive(async()=>{for(const i of await t())try{if(n)continue;G.log("Found minidump",i);let s=await Qe.promises.stat(i);const o=new Date().getTime()-fO*eae;if(s.mtimeMs<o){G.log(`Ignoring minidump as it is over ${fO} days old`);continue}let a=0;for(;a<=hO;){const c=new Date().getTime()-mO;if(s.mtimeMs<c){const u=await Qe.promises.readFile(i);try{const l=Qoe(u);G.log("Sending minidump"),await r(l,{attachmentType:"event.minidump",filename:Ve.basename(i),data:u})}catch(l){const p=l instanceof Error?l.toString():"Unknown error";G.warn(`Dropping minidump:
${p}`);break}break}G.log(`Waiting. Minidump has been modified in the last ${mO} milliseconds.`),a+=1,await nae(hj),s=await Qe.promises.stat(i)}a>=hO&&G.warn("Timed out waiting for minidump to stop being modified")}catch(s){G.error("Failed to load minidump",s)}finally{try{await Qe.promises.unlink(i)}catch{G.warn("Could not delete minidump",i)}}})}}async function gj(t,e=100){if(e>2e3)return;const n=Ve.join(t,"metadata");try{await Qe.promises.unlink(n),G.log("Deleted Crashpad metadata file",n)}catch(r){r.code&&r.code=="EBUSY"&&setTimeout(async()=>{await gj(t,e*2)},e)}}async function iae(t){const e=[];for(const n of t)try{const r=await Qe.promises.readdir(n);e.push(...r.map(i=>Ve.join(n,i)))}catch{}return e}function sae(){const t=R.app.getPath("crashDumps"),e=process.platform==="win32"?"reports":"completed",n=[Ve.join(t,e)];return process.platform==="darwin"&&n.push(Ve.join(t,"pending")),rae(async()=>(await gj(t).catch(i=>G.error(i)),(await iae(n)).filter(i=>i.endsWith(".dmp"))))}const oae=(t={})=>{let e=t.maxMinidumpsPerSession||10,n,r,i;function s(){G.log("Starting Electron crashReporter"),R.crashReporter.start({companyName:"",ignoreSystemCrashHandler:!0,productName:R.app.name||R.app.getName(),submitURL:"https://f.a.k/e",uploadToServer:!1,compress:!0})}function o(l){function p(d){setImmediate(async()=>n?.set({scope:d,event:await Doe(l)}))}xoe(d=>{p(d)}),p(rl())}async function a(l,p){e<=0&&G.log("Not sending minidumps because the limit has been reached");const d=l.getOptions().enabled===!1||e<=0;let f=!1;return await i?.(d,async(m,h)=>{f=!0;const g=m.crashpadAnnotations?.process_type?.replace("-process",""),_=await p(g);if(m.crashpadAnnotations){const S=Object.entries(m.crashpadAnnotations).reduce((v,[T,y])=>(v[`crashpad.${T}`]=y,v),{});_.contexts={..._.contexts,electron:{..._.contexts?.electron,...S}}}e>0&&(e-=1,Xc(_,{attachments:[h]}))}),f}async function c(l,p,d,f){const{getRendererName:m}=p;await a(l,h=>{const g=(h==="renderer"&&m?m(d):h)||"unknown";return G.log(`'${g}' process '${f.reason}'`),{contexts:{electron:{crashed_url:pj(d.id)?.url||"unknown",details:f}},level:"fatal",platform:"native",tags:{"event.environment":"native","event.process":g,"exit.reason":f.reason}}})}async function u(l,p){G.log(`${p.type} process has ${p.reason}`),await a(l,d=>({contexts:{electron:{details:p}},level:"fatal",platform:"native",tags:{"event.environment":"native","event.process":d||p.type,"exit.reason":p.reason}}))}return{name:"SentryMinidump",setup(l){if(process.mas)return;s(),n=new Loe(XS(),"scope_v3",{scope:new yn().getScopeData()}),r=n.get();try{i=sae()}catch(f){G.error("Failed to create minidump loader",f)}const p=l.getOptions();if(o(l),!p?.dsn)throw new Error("Attempted to enable Electron native crash reporter but no DSN was supplied");lj(),R.app.on("render-process-gone",async(f,m,h)=>{D_.includes(h.reason)&&await c(l,p,m,h)}),R.app.on("child-process-gone",async(f,m)=>{D_.includes(m.reason)&&await u(l,m)});let d;a(l,async f=>{const m={level:"fatal",platform:"native",tags:{"event.environment":"native","event.process":f||"unknown"}},h=await r;return h&&(h.scope&&nB(m,h.scope),m.release=h.event?.release,m.environment=h.event?.environment,m.contexts=h.event?.contexts,m.sdkProcessingMetadata={dynamicSamplingContext:{trace_id:h.scope.propagationContext.traceId,release:h.event?.release,environment:h.event?.environment,public_key:l.getDsn()?.publicKey}}),d=await Boe(),m}).then(async f=>{f?d&&joe(d):await Voe()}).catch(f=>G.error(f))}}};function aae(t){delete t.sdkProcessingMetadata?.capturedSpanScope,delete t.sdkProcessingMetadata?.capturedSpanIsolationScope;for(const e of t.spans||[])delete e.spanRecorder}function qp(t,e){aae(e);const n={...t,...e,contexts:{...t.contexts,...e.contexts,app:{...t.contexts?.app,...e.contexts?.app},device:{...t.contexts?.device,...e.contexts?.device}},tags:{...t.tags,...e.tags},sdk:{...t.sdk,...e.sdk}};return(t.extra||e.extra)&&(n.extra={...t.extra,...e.extra}),n}const _j=YS(R.app.getAppPath());function cae(t,e){for(const r of t.exception?.values||[])for(const i of r.stacktrace?.frames||[])i.filename&&(i.filename=Bt(i.filename,e));for(const r of t.debug_meta?.images||[])r.type==="sourcemap"&&(r.code_file=Bt(r.code_file,e));t.transaction&&(t.transaction=Bt(t.transaction,e));const{request:n={}}=t;if(n.url&&(n.url=Bt(n.url,e)),t.contexts?.feedback?.url&&typeof t.contexts.feedback.url=="string"&&(t.contexts.feedback.url=Bt(t.contexts.feedback.url,e)),t.spans)for(const r of t.spans)r.description?.startsWith("file://")&&(r.description=Bt(r.description,e));return t}function uae(t,e,n){let r=qn(e[0]),i=!1;return pr(e,(s,o)=>{if(o==="replay_event"){i=!0;const[a,c]=s,u=tt().getScopeData();c.breadcrumbs=u.breadcrumbs,c.tags=u.tags,c.user=u.user,c.environment=t.environment,Array.isArray(c.urls)&&(c.urls=c.urls.map(l=>Bt(l,n))),c?.request?.url&&(c.request.url=Bt(c.request.url,n)),r=Fl(r,[a,c])}else o==="replay_recording"&&(r=Fl(r,s))}),i?r:e}function vj(t,e){for(const n of t.profile.frames)n.abs_path&&(n.abs_path=Bt(n.abs_path,e)),"filename"in n&&typeof n.filename=="string"&&(n.filename=Bt(n.filename,e)),n.module&&(n.module=_j(n.abs_path))}function lae(t,e,n){n.release&&(t.release=n.release),n.environment&&(t.environment=n.environment);const r=t.profile;if(r?.frames)for(const i of r.frames)i.abs_path&&(i.abs_path=Bt(i.abs_path,e)),i.filename&&(i.filename=Bt(i.filename,e)),i.module&&(i.module=_j(i.abs_path))}function pae(t,e,n){const[r]=e,i={...r,sdk:{name:"sentry.javascript.electron",version:Hl}};let s=qn(i),o=!1;return pr(e,(a,c)=>{if(c==="profile_chunk"){o=!0;const[u,l]=a;lae(l,n,t),s=Fl(s,[u,l])}}),o?s:e}function dae(){try{return require.resolve("../../preload/default.js")}catch{try{const e=Ui.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:ms&&ms.tagName.toUpperCase()==="SCRIPT"&&ms.src||new URL("main-A5zRgzkr.js",document.baseURI).href);return Ve.resolve(e,"..","..","..","..","preload","default.js")}catch{}}}const fae=()=>({name:"PreloadInjection",setup(t){const e=t.getOptions();(e.ipcMode&Ns.Classic)!==0&&R.app.once("ready",()=>{const n=dae();if(n&&typeof n=="string"&&Ve.isAbsolute(n)&&Qe.existsSync(n))for(const r of e.getSessions())koe(r,n);else G.log("The preload script could not be injected automatically. This is most likely caused by bundling of the main process")})}}),mae=(t={})=>({name:"MainProcessSession",setup(){Foe(!!t.sendOnCreate),Goe()}}),hae={screen:!0,deviceModelManufacturer:!1};function gae(){return new Promise(t=>{try{Ht.exec('powershell -NoProfile "Get-CimInstance -ClassName Win32_ComputerSystem | ConvertTo-Json"',(e,n)=>{e&&t({});try{const r=JSON.parse(n);if(r.Manufacturer||r.Model){t({manufacturer:r.Manufacturer,model:r.Model});return}}catch{}t({})})}catch{t({})}})}function _ae(){return new Promise(t=>{try{Ht.exec("system_profiler SPHardwareDataType -json",(e,n)=>{e&&t({});try{const r=JSON.parse(n.trim());if(r.SPHardwareDataType?.[0]?.machine_model){t({manufacturer:"Apple",model:r.SPHardwareDataType[0].machine_model});return}}catch{}t({})})}catch{t({})}})}function vae(){return process.platform==="win32"?gae():process.platform==="darwin"?_ae():Promise.resolve({})}const Eae=(t={})=>{const e={};let n=t.deviceModelManufacturer;const r={...hae,...t};function i(){const o=R.screen.getPrimaryDisplay(),a=Math.floor(o.size.width*o.scaleFactor),c=Math.floor(o.size.height*o.scaleFactor);e.screen_density=o.scaleFactor,e.screen_resolution=`${a}x${c}`}async function s(){const{manufacturer:o,model:a}=await vae();(o||a)&&(e.manufacturer=o,e.model=a)}return{name:"AdditionalContext",setup(){r.screen&&R.app.whenReady().then(()=>{i(),R.screen.on("display-metrics-changed",()=>{i()})},()=>{})},processEvent:async o=>(n&&(n=!1,await s()),qp(o,{contexts:{device:e}}))}};function Sae(t){const{method:e,options:n}=typeof t=="string"?{method:"GET",options:rd.parse(t)}:{method:(t.method||"GET").toUpperCase(),options:t};let r="url"in n?n.url:void 0;if(!r){const i={};i.protocol=n.protocol||"http:",n.host?i.host=n.host:(n.hostname?i.hostname=n.hostname:i.hostname="localhost",n.port&&(i.port=n.port));const s=rd.parse(n.path||"/");i.pathname=s.pathname,i.search=s.search,i.hash=s.hash,r=rd.format(i)}return{method:e,url:r}}function bae(t,e,n){const r=new Nr(100),i=new Nr(100),s=(c,u)=>{if(t.tracing===void 0)return!0;if(t.tracing===!1)return!1;const l=`${c}:${u}`,p=r.get(l);if(p!==void 0)return p;const d=t.tracing===!0||t.tracing(c,u);return r.set(l,d),d},o=(c,u)=>{const l=`${c}:${u}`,p=i.get(l);if(p!==void 0)return p;if(n){const d=Hs(u,n);return i.set(l,d),d}return!0},a=(c,u,l,p,d)=>{const f=yB(d?.statusCode);if($n({type:"http",category:"electron.net",data:{url:l,method:u,status_code:d?.statusCode},level:f},{event:c,request:p,response:d}),!e)return;const m={"sentry.origin":"auto.electron.net",statusCode:d?.statusCode};switch(f){case"error":DB(ac`Electron.net request failed: ${u} ${l}`,m);break;case"warning":AB(ac`Electron.net request warning: ${u} ${l}`,m);break;default:BS(ac`Electron.net request succeeded: ${u} ${l}`,m)}};return function(u){return function(p){const{url:d,method:f}=Sae(p),m=u.apply(this,[p]);if(d.match(/sentry_key/)||m.getHeader("x-sentry-auth"))return m;const h=s(f,d)?Nte({name:`${f} ${d}`,onlyIfParent:!0,attributes:{url:d,type:"net.request","http.method":f},op:"http.client"}):new Zc;if(h.setAttribute(lr,"auto.http.electron.net"),o(f,d))for(const[g,_]of Object.entries(bB({span:h})))G.log(`[Tracing] Adding ${g} header ${_} to outgoing request to "${d}": `),m.setHeader(g,_);return m.once("response",function(g){t.breadcrumbs!==!1&&a("response",f,d,this,g),g.statusCode&&JI(h,g.statusCode),h.end()}).once("error",function(g){t.breadcrumbs!==!1&&a("error",f,d,this,void 0),JI(h,500),h.end()})}}}const Tae=(t={})=>({name:"ElectronNet",setup(e){const n=e.getOptions(),r=!!n?.enableLogs;t.breadcrumbs===!1&&t.tracing===!1||I$(R.net,"request",bae(t,r,n?.tracePropagationTargets))}}),gO={breadcrumbs:D_,events:["abnormal-exit","launch-failed","integrity-failure"]};function _O(t,e){const n=`'${e}' process exited with '${t}'`,r=ac`'${e}' process exited with '${t}'`;switch(t){case"abnormal-exit":case"killed":return{message:n,level:"warning",log:AB,messageFmt:r};case"crashed":case"oom":case"launch-failed":case"integrity-failure":return{message:n,level:"fatal",log:DB,messageFmt:r};default:return{message:n,level:"debug",log:BS,messageFmt:r}}}const yae=(t={})=>{const{breadcrumbs:e,events:n}=t,r=Kse(t),i={breadcrumbs:Array.isArray(e)?e:e===!1?[]:gO.breadcrumbs,events:Array.isArray(n)?n:n===!1?[]:gO.events};return{name:"ChildProcess",setup(s){r.setup?.(s);const{breadcrumbs:o,events:a}=i;if(Array.from(new Set([...o,...a])).length>0){const u=s.getOptions(),l=!!u?.enableLogs;R.app.on("child-process-gone",(p,d)=>{const{reason:f}=d,{message:m,level:h,log:g,messageFmt:_}=_O(d.reason,d.type);a.includes(f)&&mC(m,{level:h,tags:{"event.process":d.type}}),o.includes(f)&&($n({type:"process",category:"child-process",message:m,level:h,data:d}),l&&g(_,{"sentry.origin":"auto.electron.child-process",exitCode:d.exitCode,name:d.name,serviceName:d.serviceName}))}),R.app.on("render-process-gone",(p,d,f)=>{const{reason:m}=f,h=u?.getRendererName?.(d)||"renderer",{message:g,level:_,log:S,messageFmt:v}=_O(f.reason,h);a.includes(m)&&mC(g,_),o.includes(m)&&($n({type:"process",category:"child-process",message:g,level:_,data:f}),l&&S(v,{"sentry.origin":"auto.electron.child-process",exitCode:f.exitCode}))})}}}},vO=()=>({name:"Screenshots",async processEvent(t,e,n){if(!!!n.getOptions().attachScreenshot)return t;if(!t.transaction&&t.platform!=="native"){let i=1;for(const s of R.BrowserWindow.getAllWindows()){e.attachments||(e.attachments=[]);try{if(!s.isDestroyed()&&s.isVisible()){const o=i===1?"screenshot.png":`screenshot-${i}.png`,a=await s.capturePage();e.attachments.push({filename:o,data:a.toPNG(),contentType:"image/png"}),i+=1}}catch(o){G.error("Error capturing screenshot",o)}}}return t}});function xae(t={},e,n){if(t[e]){const r=t[e];Array.isArray(r)?r.push(n):t[e]=[r,n]}else t[e]=n;return{responseHeaders:t}}function Ej(t,e,n){t.webRequest.onHeadersReceived((r,i)=>{i(xae(r.responseHeaders,e,n))})}let Wl;function wae(t,e){if(!Wl)return;const n=e.event_id;Wl.set(n,e),t&&(t.contexts={...t.contexts,profile:{profile_id:n}})}const Aae=()=>({name:"RendererProfiling",setup(t){const e=t.getOptions();e.enableRendererProfiling&&(Wl=new Nr(10),R.app.on("ready",()=>{e.getSessions().forEach(n=>Ej(n,"Document-Policy","js-profiling"))}),t.on?.("beforeEnvelope",n=>{let r;if(pr(n,(s,o)=>{if(o==="transaction")for(let a=1;a<s.length;a++){const c=s[a];c?.contexts?.profile?.profile_id&&(r=c.contexts.profile.profile_id,delete c.contexts.profile)}}),!r)return;const i=Wl?.remove(r);i&&(vj(i,R.app.getAppPath()),i.release=e.release||KS(),i.environment=e.environment||ZS(),n[1].push([{type:"profile"},i]))}))}}),Dae=()=>({name:"NormalizePaths",setup:t=>{setImmediate(()=>{t.on("beforeEnvelope",e=>{pr(e,(n,r)=>{r==="profile"&&vj(n[1],R.app.getAppPath())})})})},processEvent(t){return cae(t,R.app.getAppPath())}});function Rae(){return R.app.getAppMetrics().reduce((t,e)=>t+e.memory.workingSetSize*1024,0)}const Iae=()=>({name:"ElectronContext",processEvent(t,e,n){delete t.contexts?.runtime,delete t.contexts?.app?.app_memory,t.request?.headers&&delete t.request.headers["User-Agent"];const{release:r=KS(),environment:i=ZS()}=n.getOptions();return qp({contexts:{app:{app_name:R.app.name||R.app.getName(),app_version:R.app.getVersion(),build_type:process.mas?"app-store":process.windowsStore?"windows-store":void 0,app_memory:Rae(),app_arch:process.arch},browser:{name:"Chrome"},chrome:{name:"Chrome",type:"runtime",version:process.versions.chrome},device:{family:"Desktop"},node:{name:"Node",type:"runtime",version:process.versions.node},runtime:{name:"Electron",version:process.versions.electron}},environment:i,release:r,tags:{"event.origin":"electron","event.environment":"javascript","event.process":"browser"}},t)}});function Cae(t){return{name:t.deviceString||"GPU",active:t.active,id:`0x${t.deviceId.toString(16).padStart(4,"0")}`,vendor_id:`0x${t.vendorId.toString(16).padStart(4,"0")}`,vendor_name:t.vendorString,driver_version:t.driverVersion}}const Oae=(t={infoLevel:"basic"})=>{let e;return{name:"GpuContext",processEvent:async n=>{if(e===void 0&&(e=(await R.app.getGPUInfo(t.infoLevel)).gpuDevice.map(Cae)),e.length===1)n.contexts={...n.contexts,gpu:e[0]};else if(e.length>1){n.contexts={...n.contexts};for(let r=0;r<e.length;r++){const i=e[r];i.type="gpu",n.contexts[`gpu_${r+1}`]=i}}return n}}},Nae=30,kae=50;function I_(t,e,n,r){const i={filename:t,function:e==="<anonymous>"?Cr:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const Pae=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Mae=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Lae=/\((\S*)(?::(\d+))(?::(\d+))\)/,Uae=/at (.+?) ?\(data:(.+?),/,Fae=t=>{const e=t.match(Uae);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const n=Pae.exec(t);if(n){const[,i,s,o]=n;return I_(i,Cr,+s,+o)}const r=Mae.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=Lae.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,o]=bj(r[1]||Cr,r[2]);return I_(o,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Sj=[Nae,Fae],$ae=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Bae=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jae=t=>{const e=$ae.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=Bae.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],i=e[1]||Cr;return[i,r]=bj(i,r),I_(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Vae=[kae,jae],zae=[Sj,Vae];uS(...zae);const bj=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Cr,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Gae=50,[,qae]=Sj,[,Hae]=wB(),Wae=(t,e=0)=>{const n=[];for(const r of t.split(`
`).slice(e)){const i=qae(r),s=Hae(r);if(i&&s?.in_app!==!1?n.push(i):s&&(s.module===void 0&&delete s.module,n.push(s)),n.length>=Gae)break}return lS(n)},Yae=uS(wB(YS(R.app.getAppPath())));async function Kae(t){if(A_<34)throw new Error("Electron >= 34 required to capture stack frames via `frame.collectJavaScriptCallStack()`");if(t.isDestroyed())return;const n=await t.mainFrame.collectJavaScriptCallStack();if(n){if(n.includes("Website owner has not opted in")){G.warn(`Could not collect renderer stack frames.
A 'Document-Policy' header of 'include-js-call-stacks-in-crash-reports' must be set`);return}return Wae(n)}}function Ei(t,...e){G.log(`[Renderer Event Loop Block] ${t}`,...e)}function Zae(t,e){return()=>{Kae(t).then(n=>{n&&e(n)}).catch(()=>{})}}function Xae(t,e){Ei("Connecting to debugger"),t.debugger.attach("1.3");const n=new Map,r=YS(R.app.getAppPath());return t.debugger.on("message",(i,s,o)=>{if(s==="Debugger.scriptParsed"){const a=o;n.set(a.scriptId,a.url)}else if(s==="Debugger.paused"){const a=o;if(a.reason!=="other")return;const c=[...a.callFrames];t.debugger.sendCommand("Debugger.resume").then(null,()=>{});const u=lS(c.map(l=>Fre(l,n.get(l.location.scriptId),r)));e(u)}}),t.debugger.sendCommand("Debugger.enable").catch(()=>{}),()=>{if(!t.isDestroyed())return Ei("Pausing debugger to capture stack trace"),t.debugger.sendCommand("Debugger.pause")}}function Jae(){let t=process.hrtime();return{getTimeMs:()=>{const[e,n]=process.hrtime(t);return Math.floor(e*1e3+n/1e6)},reset:()=>{t=process.hrtime()}}}const Tj="RendererEventLoopBlock",Qae=(t={})=>{const e=new Map;let n;function r(s){return n?.getRendererName?.(s)}function i(s,o,a){zoe();const c=r(s)||"renderer",u={level:"error",exception:{values:[{type:"ApplicationNotResponding",value:`Application Not Responding for at least ${o} ms`,stacktrace:{frames:a},mechanism:{type:"ANR"}}]},tags:{"event.process":c}};Xc(u)}return{name:Tj,setup:s=>{n=s.getOptions(),A_>=34&&(R.app.commandLine.appendSwitch("enable-features","DocumentPolicyIncludeJSCallStacksInCrashReports"),t.captureNativeStacktrace&&R.app.on("ready",()=>{n?.getSessions().forEach(o=>Ej(o,"Document-Policy","include-js-call-stacks-in-crash-reports"))}))},createRendererEventLoopBlockStatusHandler:()=>(s,o)=>{let a=e.get(o);function c(){a?.enabled(!1)}function u(){a?.enabled(!0)}if(a===void 0){Ei("Renderer sent first status message",s.config);let l;s.config.captureStackTrace&&(l=(t.captureNativeStacktrace&&A_>=34?Zae:Xae)(o,d=>{Ei("Event captured with stack frames"),i(o,s.config.anrThreshold,d)})),a=Ure(Jae,100,s.config.anrThreshold,async()=>{Ei("Watchdog timeout"),l?l():(Ei("Capturing event"),i(o,s.config.anrThreshold))}),o.once("destroyed",()=>{e?.delete(o),R.powerMonitor.off("suspend",c),R.powerMonitor.off("resume",u),R.powerMonitor.off("lock-screen",c),R.powerMonitor.off("unlock-screen",u)}),o.once("blur",c),o.once("focus",u),R.powerMonitor.on("suspend",c),R.powerMonitor.on("resume",u),R.powerMonitor.on("lock-screen",c),R.powerMonitor.on("unlock-screen",u),e.set(o,a)}a.poll(),s.status!=="alive"&&(Ei(`Renderer visibility changed '${s.status}'`),a.enabled(s.status==="visible"))}}};function yj(t){return t.getIntegrationByName(Tj)?.createRendererEventLoopBlockStatusHandler()}const ece=1024*32;function tce(t){return new jn.Readable({read(){this.push(t),this.push(null)}})}function nce(t){const{hostname:e,pathname:n,port:r,protocol:i,search:s}=new Ui.URL(t);return{method:"POST",hostname:e,path:`${n}${s}`,port:parseInt(r,10),protocol:i}}function rce(t){return Ane(t,ice(t.url,t.headers||{}))}function ice(t,e){return e["Content-Type"]="application/x-sentry-envelope",function(r){return R.app.whenReady().then(()=>new Promise((i,s)=>{let o=tce(r.body);const a={...e};r.body.length>ece&&(a["content-encoding"]="gzip",o=o.pipe(EN.createGzip()));const c=R.net.request(nce(t));for(const[u,l]of Object.entries(a))c.setHeader(u,l);c.on("response",u=>{u.on("error",s),u.on("data",()=>{}),u.on("end",()=>{});const l=u.headers["retry-after"]??null,p=u.headers["x-sentry-rate-limits"]??null;i({statusCode:u.statusCode,headers:{"retry-after":Array.isArray(l)?l[0]||null:l,"x-sentry-rate-limits":Array.isArray(p)?p[0]||null:p}})}),c.on("error",s),o.pipe(c)}))}}const sce=864e5;function oce(t,e){const n=Date.now()-sce*e;return(t?.date?.getTime()||0)<n}function ace(t){const e=t[0];if(typeof e.sent_at=="string")return new Date(e.sent_at)}function cce(t){function e(...c){G.log("[Offline Store]:",...c)}const n={maxAgeDays:t.maxAgeDays||30,maxQueueSize:t.maxQueueSize||30,queuePath:t.queuePath||Ve.join(XS(),"queue")},r=new JS(n.queuePath,"queue-v2",[]);function i(c){Qe.promises.unlink(Ve.join(n.queuePath,c)).catch(()=>{})}function s(c){for(;c[0]&&oce(c[0],n.maxAgeDays);){const u=c.shift();e("Removing stale envelope",u),i(u.id)}}async function o(c,u,l){e(`${u}ing envelope into offline storage`);const p=qt();try{const d=W$(c);await Qe.promises.mkdir(n.queuePath,{recursive:!0}),await Qe.promises.writeFile(Ve.join(n.queuePath,p),d)}catch(d){e("Failed to save",d)}await r.update(d=>u==="push"&&(s(d),d.length>=n.maxQueueSize)?(i(p),d):(d[u]({id:p,date:l||ace(c)||new Date}),d))}let a;return{push:async c=>{await o(c,"push")},unshift:async c=>{await o(c,"unshift",a)},shift:async()=>{e("Popping envelope from offline storage");let c;if(await r.update(u=>(s(u),c=u.shift(),u)),c)try{const u=await Qe.promises.readFile(Ve.join(n.queuePath,c.id));return i(c.id),a=c.date,DS(u)}catch(u){e("Failed to read",u)}}}}function uce(t=rce){return e=>Wne(t)({flushAtStartup:!0,createStore:cce,...e})}function xj(t){let e;const n=[];let r;return pr(t,(i,s)=>{if(s==="event"||s==="transaction"||s==="feedback")e=Array.isArray(i)?i[1]:void 0;else if(s==="attachment"){const[o,a]=i;n.push({filename:o.filename,attachmentType:o.attachment_type,contentType:o.content_type,data:a})}else s==="profile"&&(r=i[1])}),e?[e,n,r]:void 0}function lce(t){let e;return pr(t,(n,r)=>{r==="profile_chunk"&&(e=n[1])}),e}async function pce(t){const e=t.getIntegrationByName("Context"),n=t.getIntegrationByName("AdditionalContext");let r={};const i={};r=await e?.processEvent?.(r,i,t)||r,r=await n?.processEvent?.(r,i,t)||r;const s={};return r.contexts?.os?.name&&(s["os.name"]=r.contexts.os.name),r.contexts?.os?.version&&(s["os.version"]=r.contexts.os.version),r.contexts?.device?.brand&&(s["device.brand"]=r.contexts.device.brand),r.contexts?.device?.model&&(s["device.model"]=r.contexts.device.model),r.contexts?.device?.family&&(s["device.family"]=r.contexts.device.family),s}let Mu;function wj(t){return Mu===void 0&&(Mu={},pce(t).then(e=>{Mu=e}).catch(()=>{})),Mu||{}}let hn,os;function dce(){hn=hn||new Set,os=os||new Map;for(const t of R.webContents.getAllWebContents()){const e=t.id;hn.has(e)||t.isDestroyed()||t.executeJavaScript("window.__SENTRY_RENDERER_ID__").then(n=>{n&&hn&&os&&(hn.add(e),os.set(n,e),t.once("destroyed",()=>{hn?.delete(e),os?.delete(n)}))},G.error)}}function fce(t,e,n,r,i){const s=i&&t?.getRendererName?.(i)||"renderer";e.breadcrumbs=e.breadcrumbs||[],delete e.environment,delete e.sdk?.name,delete e.sdk?.version,delete e.sdk?.packages,n&&(e.sdkProcessingMetadata={...e.sdkProcessingMetadata,dynamicSamplingContext:n}),Xc(qp(e,{tags:{"event.process":s}}),{attachments:r})}let lh;function Aj(t,e,n,r){const i=DS(n),[s]=i,o=s.trace;o&&(lh||(lh=t.getDsn()?.publicKey),o.release=e.release,o.environment=e.environment,o.public_key=lh);const a=xj(i);if(a){const[c,u,l]=a;l&&wae(c,l),fce(e,c,o,u,r)}else if(lce(i)){const u=pae(e,i,R.app.getAppPath());Me()?.getTransport()?.send(u)}else{const u=uae(e,i,R.app.getAppPath());Me()?.getTransport()?.send(u)}}function ph(t){return t!=null&&Object.keys(t).length>0}function Dj(t,e){let n;try{n=JSON.parse(e)}catch{G.warn("sentry-electron received an invalid scope message");return}const r=tt();ph(n.user)&&r.setUser(n.user),ph(n.tags)&&r.setTags(n.tags),ph(n.extra)&&r.setExtras(n.extra);for(const s of n.attachments||[])r.addAttachment(s);const i=n.breadcrumbs.pop();i&&r.addBreadcrumb(i,t?.maxBreadcrumbs||100)}function Rj(t,e,n,r){const i=n&&e?.getRendererName?.(n)||"renderer",s=r||{};e.release&&(s["sentry.release"]={value:e.release,type:"string"}),e.environment&&(s["sentry.environment"]={value:e.environment,type:"string"}),s["sentry.sdk.name"]={value:"sentry.javascript.electron",type:"string"},s["sentry.sdk.version"]={value:Hl,type:"string"},s["electron.process"]={value:i,type:"string"};const o=wj(t);return o["os.name"]&&(s["os.name"]={value:o["os.name"],type:"string"}),o["os.version"]&&(s["os.version"]={value:o["os.version"],type:"string"}),o["device.brand"]&&(s["device.brand"]={value:o["device.brand"],type:"string"}),o["device.model"]&&(s["device.model"]={value:o["device.model"],type:"string"}),o["device.family"]&&(s["device.family"]={value:o["device.family"],type:"string"}),s}function Ij(t,e,n,r){n.attributes=Rj(t,e,r,n.attributes),aB(t,n)}function Cj(t,e,n,r){n.attributes=Rj(t,e,r,n.attributes),bne(t,n)}function mce(t,e,n){if(R.app.isReady())throw new Error("Sentry SDK should be initialized before the Electron app 'ready' event is fired");const r={scheme:e.namespace,privileges:{bypassCSP:!0,corsEnabled:!0,supportFetchAPI:!0,secure:!0}};R.protocol.registerSchemesAsPrivileged([r]),R.protocol.registerSchemesAsPrivileged=new Proxy(R.protocol.registerSchemesAsPrivileged,{apply:(s,o,a)=>{s([...a[0],r])}});const i=yj(t);R.app.whenReady().then(()=>{for(const s of n.getSessions())Noe(s.protocol,e.namespace,o=>{const a=()=>{const u=o.windowId?os?.get(o.windowId):void 0;return u?R.webContents.fromId(u):void 0},c=o.body;if(e.urlMatches(o.url,"start"))dce();else if(e.urlMatches(o.url,"scope")&&c)Dj(n,c.toString());else if(e.urlMatches(o.url,"envelope")&&c)Aj(t,n,c,a());else if(e.urlMatches(o.url,"structured-log")&&c)Ij(t,n,JSON.parse(c.toString()),a());else if(e.urlMatches(o.url,"metric")&&c)Cj(t,n,JSON.parse(c.toString()),a());else if(i&&e.urlMatches(o.url,"status")&&c){const u=a();if(u){const l=JSON.parse(c.toString()).status;i(l,u)}}})}).catch(s=>G.error(s))}function hce(t,e,n){R.ipcMain.on(e.createKey("start"),({sender:i})=>{const s=i.id;hn=hn||new Set,!hn.has(s)&&(i.isDestroyed()||(hn.add(s),i.once("destroyed",()=>{hn?.delete(s)})))}),R.ipcMain.on(e.createKey("scope"),(i,s)=>Dj(n,s)),R.ipcMain.on(e.createKey("envelope"),({sender:i},s)=>Aj(t,n,s,i)),R.ipcMain.on(e.createKey("structured-log"),({sender:i},s)=>Ij(t,n,s,i)),R.ipcMain.on(e.createKey("metric"),({sender:i},s)=>Cj(t,n,s,i));const r=yj(t);r&&R.ipcMain.on(e.createKey("status"),({sender:i},s)=>r(s,i))}function gce(t,e){const n=Roe(e.ipcNamespace);(e.ipcMode&Ns.Protocol)>0&&mce(t,n,e),(e.ipcMode&Ns.Classic)>0&&hce(t,n,e)}function _ce(t){G.log(`[Utility Process] ${t}`)}function vce(){tu.utilityProcess?.fork&&(tu.utilityProcess.fork=new Proxy(tu.utilityProcess.fork,{apply:(t,e,n)=>{const r=t.apply(e,n);function i(){const[,,s]=n;return s?.serviceName||`pid:${r.pid}`}return r.on("message",s=>{if(cO(s)){_ce(`SDK started in utility process '${i()}'`);const{port1:o,port2:a}=new tu.MessageChannelMain;a.on("message",c=>{(c.data instanceof Uint8Array||typeof c.data=="string")&&Ece(c.data)}),a.start(),r.postMessage(Ioe(),[o])}}),r.on=new Proxy(r.on,{apply:(s,o,[a,c])=>a==="message"?s.apply(o,["message",u=>{if(!cO(u))return c(u)}]):s.apply(o,[a,c])}),r}}))}function Ece(t){const e=DS(t),n=xj(e);if(n){const[r,i]=n;Sce(r,i)}else Me()?.getTransport()?.send(e)}function Sce(t,e){delete t.environment,delete t.release,delete t.sdk?.name,delete t.sdk?.version,delete t.sdk?.packages,Xc(qp(t,{tags:{"event.process":"utility"}}),{attachments:e})}function bce(t){const e=[oae(),Toe(),Tae(),Iae(),yae(),yoe(),fae(),Eae(),vO(),Oae(),Qae(),mae(),cre(),sre(),bre(),Pre(),foe(),Vse(),Rse(),Lse(),nse({cloudResource:!1}),Dae()];return t.attachScreenshot&&e.push(vO()),t.enableRendererProfiling&&e.push(Aae()),e}function Tce(t){const[e=0]=process.versions.electron.split(".").map(Number);if(e<23)throw new Error("Sentry Electron SDK requires Electron 23 or higher");const n={_metadata:{sdk:Aoe(!!t.sendDefaultPii)},ipcMode:Ns.Both,ipcNamespace:"sentry-ipc",release:KS(),environment:ZS(),defaultIntegrations:bce(t),transport:uce(),transportOptions:{},getSessions:()=>[R.session.defaultSession],...t,stackParser:oee(t.stackParser||Yae),includeServerName:!1},r={...n,integrations:lne(n)};r.debug&&G.enable(),xce(r),vce(),Oie();const i=tt();i.update(r.initialScope);const s=new soe(r);r.sendDefaultPii===!0&&s.on("beforeSendSession",Xne),s.on("beforeCaptureLog",o=>{o.attributes={...o.attributes,"electron.process":"browser",...wj(s)}}),i.setClient(s),s.init(),gce(s,r),r.skipOpenTelemetrySetup||_oe(s)}const yce=[{userAdded:"ElectronMinidump",toRemove:"SentryMinidump"},{userAdded:"BrowserWindowSession",toRemove:"MainProcessSession"}];function xce(t){for(const{userAdded:e,toRemove:n}of yce)t.integrations.some(r=>r.name===e)&&(t.integrations=t.integrations.filter(r=>r.name!==n))}const ds={codexAppSessionId:qi,buildFlavor:ge.resolve(),buildNumber:_c.value,appVersion:R.app.getVersion()};function wce(){const t=A6(ds.buildFlavor),e=bE(ds.appVersion);Tce({dsn:jc,environment:ds.buildFlavor,release:e,dist:ds.buildNumber??void 0,tracesSampleRate:t,integrations:r=>[...r,Ore({root:R.app.isPackaged?R.app.getAppPath():process.cwd(),prefix:"app:///"})]}),hC("codex_app_session_id",qi);const n={addBreadcrumb:(...r)=>$n(...r),captureException:(...r)=>Vp(...r),setExtra:(...r)=>Qte(...r),setTag:(...r)=>hC(...r),setUser:(...r)=>ene(...r),startSpan:(...r)=>Ote(...r)};return YH(n),{desktopSentry:n,release:e,tracesSampleRate:t}}function QS(){const t=process.platform,e=process.env,n=Re.homedir();if(t==="darwin")return B.join(n,"Library","Logs","com.openai.codex");if(t==="win32"){const r=e.LOCALAPPDATA??B.join(n,"AppData","Local");return B.join(r,"Codex","Logs")}if(t==="linux"){const r=e.XDG_STATE_HOME??B.join(n,".local","state");return B.join(r,"codex","logs")}return B.join(n,".codex","logs")}const EO=10*1024*1024,SO=5,bO=1e4,Ace=1024*1024,Dce=15;function uc(t){return t.toString().padStart(2,"0")}function TO(t,e){const n=e.getUTCFullYear().toString(),r=uc(e.getUTCMonth()+1),i=uc(e.getUTCDate());return B.join(t,n,r,i)}function dh(t,e,n,r){return t>0?t:(n(new Error(`[file-logger] invalid ${r}`),{[r]:t}),e)}function yO(t,e,n,r,i){return`codex-desktop-${t}-${e}-t${n}-i${r}-${uc(i.getUTCHours())}${uc(i.getUTCMinutes())}${uc(i.getUTCSeconds())}`}let xO=0;function Rce(){return xO+=1,xO}function Ice(t,e,n,r){try{const i=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),s=new Date(i);s.setUTCDate(s.getUTCDate()-(n-1));for(const o of Y.readdirSync(t)){if(!/^\d{4}$/.test(o))continue;const a=Number(o);if(!Number.isFinite(a))continue;const c=B.join(t,o);for(const u of Y.readdirSync(c)){if(!/^\d{2}$/.test(u))continue;const l=Number(u);if(!Number.isFinite(l)||l<1||l>12)continue;const p=B.join(c,u);for(const d of Y.readdirSync(p)){if(!/^\d{2}$/.test(d))continue;const f=Number(d);if(!Number.isFinite(f)||f<1||f>31)continue;new Date(Date.UTC(a,l-1,f))<s&&Y.rmSync(B.join(p,d),{recursive:!0,force:!0})}Y.readdirSync(p).length===0&&Y.rmSync(p,{recursive:!0,force:!0})}Y.readdirSync(c).length===0&&Y.rmSync(c,{recursive:!0,force:!0})}}catch(i){r(new Error("[file-logger] failed to prune old logs"),{rootDir:t,retentionDays:n,error:i instanceof Error?i.message:String(i)})}}function Cce(t,e={}){const n=(v,T)=>t.nonFatalReporter.reportNonFatal(v,{kind:"file-based-logger",extra:T}),r=t.rootDir??QS(),i=e.processId??process.pid,s=e.threadId??M_.threadId??0,o=e.instanceId??Rce(),a=t.appSessionId,c=e.now??(()=>new Date),u=t.maxSegmentBytes??EO,l=t.maxSegments??SO,p=t.pendingLineLimit??bO,d=t.highWaterMarkBytes??Ace,f=Dce,m=e.createStream??((v,T)=>Y.createWriteStream(v,{flags:"w",highWaterMark:T})),h=dh(l,SO,n,"maxSegments"),g=dh(u,EO,n,"maxSegmentBytes"),_=dh(p,bO,n,"pendingLineLimit"),S={logLine:()=>{}};try{const v=c();let T=TO(r,v);Y.mkdirSync(T,{recursive:!0}),Ice(r,v,f,n);let y=yO(a,i,s,o,v);const b=oe=>B.join(T,`${y}-${oe}.log`);let x=!1;const D=oe=>{x=!0,n(new Error("[file-logger] stream error"),{error:oe instanceof Error?oe.message:String(oe),rootDir:r,appSessionId:a,processId:i,threadId:s,instanceId:o})},k=oe=>(oe.on("error",I=>{D(I)}),oe);let U=0,C=0,L=k(m(b(U),d)),j=[],N=0,H=!1,O=0;const M=()=>{const oe=c(),I=TO(r,oe);I!==T&&(T=I,Y.mkdirSync(T,{recursive:!0}),y=yO(a,i,s,o,oe),L.end(),U=0,C=0,O=0,L=k(m(b(U),d)))},Q=()=>{L.end(),U=(U+1)%h,C=0,L=k(m(b(U),d))},de=()=>{if(O===0)return;const oe=`[file-logger] dropped ${O} lines due to backpressure
`;j.push({text:oe,bytes:Buffer.byteLength(oe)}),O=0},_e=()=>{if(x){j=[],N=0,O=0;return}if(H)return;H=!0;let oe=!1;try{for(;!(N>=j.length&&(de(),N>=j.length));){const I=j[N];C+I.bytes>g&&Q();const F=L.write(I.text);if(C+=I.bytes,N+=1,!F){oe=!0,L.once("drain",()=>{H=!1,_e()});return}}j=[],N=0}catch(I){n(new Error("[file-logger] write failed"),{error:I instanceof Error?I.message:String(I),rootDir:r,appSessionId:a,processId:i,threadId:s,instanceId:o,maxSegments:h,maxSegmentBytes:g,pendingLineLimit:_}),j=[],N=0}finally{H&&!oe&&(H=!1)}};return{logLine:oe=>{if(!x)try{!H&&j.length===0&&M();const I=`${oe}
`;if(j.length-N>=_){O+=1;return}j.push({text:I,bytes:Buffer.byteLength(I)}),_e()}catch(I){n(new Error("[file-logger] logLine threw"),{error:I instanceof Error?I.message:String(I),rootDir:r,appSessionId:a,processId:i,threadId:s,instanceId:o})}}}}catch{return n(new Error("[file-logger] failed to initialize"),{rootDir:r,appSessionId:a,processId:i,threadId:s,instanceId:o}),S}}function Oce(t,e){switch(t){case"error":console.error(e);break;case"warning":console.warn(e);break;case"info":console.info(e);break;case"debug":console.debug(e);break;case"trace":console.log(e);break}}function Nce(t,e,n,r){const i=u=>u??{safe:{},sensitive:{}},s=Cce({appSessionId:n,nonFatalReporter:t}),o=u=>{const l=new Date().toISOString();s.logLine(`${l} ${u}`)},a=u=>(l,p)=>{if(!uF(u,r))return;const d=i(p),f={...d.safe,...d.sensitive},m=Object.keys(f).length===0?l:`${l} ${qH(f)}`;Oce(u,m),o(`${u} ${m}`),e.log(u,l,d.safe)},c={trace:a("trace"),debug:a("debug"),info:a("info"),warning:a("warning"),error:a("error")};jH({trace:c.trace,debug:c.debug,info:c.info,warning:c.warning,error:c.error,log:(u,l,p)=>{c[u](l,p)},dispose:()=>{}}),ZH(()=>!1)}function Oj(t){t==="light"||t==="dark"?R.nativeTheme.themeSource=t:R.nativeTheme.themeSource="system"}const Je=Le("sparkle"),wO=15;class kce{constructor(e){this.options=e}sparkleUpdater=null;sparkleDiagnostics=null;nativeAddon=null;isUpdateReady=!1;lastSkipReason=null;lastAddonLoadError=null;lastAddonCandidates=[];async initialize(){if(!this.options.enableSparkle){const e=process.platform!=="darwin"?"non-darwin platform":`disabled for build flavor (${this.options.buildFlavor})`;this.sparkleDiagnostics={reason:e,addonError:null,candidates:[]};return}try{const{updater:e}=await this.initSparkleUpdater();if(this.sparkleUpdater=e,this.sparkleDiagnostics=this.buildDiagnostics(),this.sparkleUpdater){Je().info("Sparkle updater initialized.");return}Je().warning("Sparkle updater unavailable after init.",{safe:{platform:process.platform,packaged:this.options.isPackaged,reason:this.lastSkipReason,addonError:this.lastAddonLoadError,addonCandidates:this.lastAddonCandidates},sensitive:{}})}catch(e){Je().error("Failed to set up Sparkle",{safe:{},sensitive:{error:e}}),this.sparkleDiagnostics={reason:"initialization error",addonError:e instanceof Error?e.message:String(e),candidates:[]},this.sparkleUpdater=null}}getUpdater(){return this.sparkleUpdater}getIsUpdateReady(){return this.isUpdateReady}installUpdatesIfAvailable(){if(!this.nativeAddon?.installUpdatesIfAvailable){Je().warning("Sparkle install request ignored (addon missing API).");return}try{this.isUpdateReady&&this.options.onInstallUpdatesRequested?.(),Je().info("Sparkle installUpdatesIfAvailable requested."),this.nativeAddon.installUpdatesIfAvailable()}catch(e){Je().error("Failed to install Sparkle update",{safe:{},sensitive:{error:e}})}}getDiagnostics(){return this.buildDiagnostics()}async initSparkleUpdater(){if(Je().info("Sparkle init begin",{safe:{platform:process.platform,packaged:this.options.isPackaged},sensitive:{}}),process.platform!=="darwin")return Je().info("Sparkle disabled: non-darwin platform."),this.lastSkipReason="non-darwin",{updater:null};if(!this.options.isPackaged)return Je().info("Sparkle disabled in dev builds; use a production build to test auto-update."),this.lastSkipReason="dev build",{updater:null};const n=this.resolveFeedUrl();if(!n)return Je().info("No packaged Sparkle feed URL configured; skipping auto-update."),{updater:null};this.lastSkipReason=null,Je().info("Sparkle initializing with feed",{safe:{feedUrl:n},sensitive:{}});const r=xN.createRequire(__filename),i=[];process.resourcesPath&&(i.push(`${process.resourcesPath}/native/sparkle.node`),i.push(`${process.resourcesPath}/../native/sparkle.node`)),i.push("../native/sparkle-addon/build/Release/sparkle.node"),this.lastAddonCandidates=i.map(a=>({path:a,exists:Y.existsSync(a)}));let s=null,o;for(const a of i)try{s=r(a),o=null,this.lastAddonLoadError=null;break}catch(c){Je().info("Sparkle load failed at candidate",{safe:{},sensitive:{candidate:a,error:c}}),o=c,this.lastAddonLoadError=c instanceof Error&&c.stack?c.stack:String(c)}if(s){this.nativeAddon=s;try{if(typeof s.setLogSink=="function"){const l=p=>{switch(p){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warning";case 5:return"error";default:return null}};s.setLogSink((p,d)=>{Je().log(l(p)??"info",d)})}typeof s.setUpdateReadySink=="function"&&s.setUpdateReadySink(l=>{this.isUpdateReady!==l&&(this.isUpdateReady=l,Je().debug("Sparkle update-ready state changed.",{safe:{isReady:l},sensitive:{}}),this.options.onUpdateReadyChanged?.(l))}),s.init(n)}catch(l){return Je().error("Failed to initialize Sparkle addon",{safe:{},sensitive:{error:l}}),this.lastSkipReason="addon init failed",{updater:null}}const a=()=>{Je().info("Sparkle manual check.");try{s.checkForUpdates()}catch(l){Je().error("Failed to check for updates",{safe:{},sensitive:{error:l}})}},c=()=>{if(s){Je().debug("Sparkle background check.");try{if(typeof s.checkForUpdatesInBackground=="function"){s.checkForUpdatesInBackground();return}Je().info("Background checks unsupported by addon; skipping automatic check.")}catch(l){Je().error("Failed to check for updates in background",{safe:{},sensitive:{error:l}})}}},u=this.resolveIntervalMs();return u>0&&(Je().info("Sparkle scheduling interval (ms)",{safe:{intervalMs:u},sensitive:{}}),setInterval(c,u).unref()),Je().info("Sparkle updater ready for manual checks."),R.ipcMain.handle("codex_desktop:check-for-updates",async l=>{this.options.isTrustedIpcEvent(l)&&a()}),c(),{updater:{checkForUpdates:a}}}return Je().error("Failed to load native Sparkle addon",{safe:{},sensitive:{error:o}}),this.lastSkipReason="addon load failed",this.nativeAddon=null,o instanceof Error&&o.stack&&(this.lastAddonLoadError=o.stack),{updater:null}}resolveFeedUrl(){const e=qE("codexSparkleFeedUrl")?.trim()??"";return e||(this.lastSkipReason="missing packaged sparkle feed url",null)}resolveIntervalMs(){const e=process.env.SPARKLE_UPDATE_INTERVAL_MINUTES;if(!e)return wO*60*1e3;const n=Number(e);return Number.isNaN(n)||n<=0?wO*60*1e3:n*60*1e3}buildDiagnostics(){return this.sparkleDiagnostics??{reason:this.lastSkipReason,addonError:this.lastAddonLoadError,candidates:this.lastAddonCandidates}}}const AO=500,DO=720,RO="Codex";class Pce{constructor(e,n){this.windowManager=e,this.getGlobalStateForHost=n}stores={byWindowId:new Map};conversationStateByKey=new Map;async open(e,n){const r=this.getHostId(e),i=this.getThreadTitle(r,n.conversationId),s=await this.ensureOverlayWindow(e,r,n,i);s.latest=n,this.isOverlayWebContents(e.id)||(s.owner=e,s.ownerId=e.id),this.updateConversationMapping(s,r,n.conversationId),this.updateOverlayTitle(s,i),this.attachOwnerDestroyedHandler(s),this.requestSnapshot(s,n),this.sendNavigation(s,n),s.ready&&this.showOverlay(s)}handleRendererReady(e){const n=this.stores.byWindowId.get(e);n&&(n.ready=!0,n.latest&&this.sendNavigation(n,n.latest),this.showOverlay(n))}setAlwaysOnTop(e,n){const r=this.stores.byWindowId.get(e);if(!(!r||r.window.isDestroyed())){if(n){r.window.setAlwaysOnTop(!0,"floating");return}r.window.setAlwaysOnTop(!1)}}handleThreadTitleUpdated(e,n,r){const i=this.getConversationKey(e,n),s=this.conversationStateByKey.get(i);if(s){if(s.window.isDestroyed()){this.conversationStateByKey.delete(i);return}this.updateOverlayTitle(s,r)}}getOverlayConversationId(e){return this.stores.byWindowId.get(e)?.latest?.conversationId??null}async ensureOverlayWindow(e,n,r,i){const s=this.getConversationKey(n,r.conversationId),o=this.conversationStateByKey.get(s);if(o&&!o.window.isDestroyed())return o;o&&(this.removeConversationMapping(o),this.stores.byWindowId.delete(o.window.webContents.id));const a=await this.windowManager.createWindow({title:i??RO,width:AO,height:DO,appearance:"hud",show:!1,hostId:n,initialRoute:IO(r.conversationId)});a.setAlwaysOnTop(!1),process.platform==="darwin"&&a.setWindowButtonVisibility(!0),a.once("ready-to-show",()=>{a.isDestroyed()||(a.show(),a.focus())}),a.setMenuBarVisibility(!1),a.setMinimumSize(400,400),this.positionOverlayWindow(a,e);const c=a.webContents.id,u={window:a,owner:e,ownerId:e.id,ready:this.windowManager.isWebContentsReady(c),hostId:n};return this.stores.byWindowId.set(c,u),this.updateConversationMapping(u,n,r.conversationId),a.on("closed",()=>{this.stores.byWindowId.delete(c),u.ownerDestroyedOwner&&u.ownerDestroyedHandler&&(u.ownerDestroyedOwner.isDestroyed()||u.ownerDestroyedOwner.off("destroyed",u.ownerDestroyedHandler),u.ownerDestroyedOwner=void 0,u.ownerDestroyedHandler=void 0),this.removeConversationMapping(u)}),u}sendNavigation(e,n){if(e.window.isDestroyed())return;const r={type:"navigate-to-route",path:IO(n.conversationId)};this.windowManager.sendMessageToWindow(e.window,r)}requestSnapshot(e,n){if(e.owner.isDestroyed())return;const r={type:"thread-stream-snapshot-request",conversationId:n.conversationId};this.windowManager.sendMessageToWebContents(e.owner,r)}getHostId(e){return this.windowManager.getHostIdForWebContents(e)??ft}getThreadTitle(e,n){const r=this.getGlobalStateForHost(e);return _F(r.get(Ne.THREAD_TITLES)).titles[n]??null}updateConversationMapping(e,n,r){this.removeConversationMapping(e),e.hostId=n;const i=this.getConversationKey(n,r);e.conversationKey=i,this.conversationStateByKey.set(i,e)}removeConversationMapping(e){const n=e.conversationKey;n&&(this.conversationStateByKey.get(n)===e&&this.conversationStateByKey.delete(n),e.conversationKey=void 0)}getConversationKey(e,n){return`${e}:${n}`}updateOverlayTitle(e,n){e.window.isDestroyed()||e.window.setTitle(n??RO)}positionOverlayWindow(e,n){if(e.isDestroyed())return;const r=R.BrowserWindow.fromWebContents(n),s=(r?R.screen.getDisplayMatching(r.getBounds()):R.screen.getPrimaryDisplay()).workArea,o=Math.min(AO,s.width),a=Math.min(DO,s.height),c=s.width*.2,u=s.height*.1;e.setBounds({x:s.x+s.width-c-o,y:s.y+s.height-u-a,width:o,height:a},!1)}showOverlay(e){e.window.isDestroyed()||(e.window.show(),e.window.focus())}isOverlayWebContents(e){return this.stores.byWindowId.has(e)}attachOwnerDestroyedHandler(e){if(e.owner.isDestroyed()||e.ownerDestroyedOwner===e.owner)return;e.ownerDestroyedOwner&&e.ownerDestroyedHandler&&(e.ownerDestroyedOwner.isDestroyed()||e.ownerDestroyedOwner.off("destroyed",e.ownerDestroyedHandler));const n=()=>{const r=e.latest?.conversationId;r&&this.ensureOwnerAvailable(e,e.window.webContents,r)};e.owner.on("destroyed",n),e.ownerDestroyedOwner=e.owner,e.ownerDestroyedHandler=n}ensureOwnerAvailable(e,n,r){if(!e.owner.isDestroyed())return!0;const i=this.windowManager.getHostIdForWebContents(n)??e.hostId;if(!i)return!1;const s=R.BrowserWindow.getAllWindows().find(o=>{if(o.isDestroyed())return!1;const a=o.webContents;return a.id===n.id||this.stores.byWindowId.has(a.id)?!1:this.windowManager.getHostIdForWebContents(a)===i})?.webContents;return!s||s.isDestroyed()?!1:(e.owner=s,e.ownerId=s.id,this.updateConversationMapping(e,i,r),this.updateOverlayTitle(e,this.getThreadTitle(i,r)),this.attachOwnerDestroyedHandler(e),this.windowManager.sendMessageToWebContents(s,{type:"thread-stream-resume-request",conversationId:r}),!0)}}function IO(t){return`/thread-overlay/${t}`}const Lu="__codex-desktop_initialize__",Mce="Codex Desktop",Lce=200,Uce=10*6e4,CO=5e3,fh=150,Fce=5e3,$ce=2e3,Bce=8,jce=16,Vce=[64*1024,256*1024,1024*1024];function Nj(t){return typeof t.method=="string"&&"id"in t&&t.id!=null}function OO(t){return"id"in t&&("result"in t||"error"in t)}function zce(t){return typeof t.method=="string"&&!("id"in t)}class Gce{constructor(e,n){this.messageChannel=e,this.options=n,this.disposables.add(this.options.hostProcess.onShutdown(()=>{this.isAppQuitting=!0})),this.incomingLineProcessor=new j9({logger:this.logger,decodePayload:qce,onQueueOverflow:(r,i)=>{this.logger.warning("incoming_line_queue_overflow",{safe:{queueDepth:r,overflowThreshold:i,pendingRequestCount:this.pendingRequests.size,internalHandlerCount:this.internalResponseHandlers.size},sensitive:{}}),this.connection&&this.failConnection(this.connection,"Incoming line queue overflow")},onMessage:r=>this.routeIncomingMessage(r)})}logger=bn("ElectronAppServerConnection");connection=null;connectionState="disconnected";reconnectTimer=null;reconnectDelayMs=fh;reconnectAttempt=0;heartbeatTimer=null;heartbeatInFlight=!1;isStoppingConnection=!1;disposed=!1;initialized=!1;initializingPromise=null;resolveInitialize=null;rejectInitialize=null;listeners=new Set;pendingRequests=new Map;internalResponseHandlers=new Map;internalNotificationHandlers=new Set;ephemeralThreadIds=new Qq({ttlMs:Uce});pendingEphemeralThreadStarts=0;fatalErrorMessage=null;mostRecentErrorMessage=null;isAppQuitting=!1;authTokenCache=null;authTokenPromise=null;archiveThreadCwds=new Map;archiveThreadActions=new Map;incomingLineProcessor;outgoingMessageSizeTracker=new AE(Vce);initializeStartedAtMs=null;disposables=new jE;getCodexLocalCliExecutable(){return YU(this.options.repoRoot,{resourcesPath:process.resourcesPath})}hasCustomCliExecutable(){return P4()}registerWebviewWindow(e){this.listeners.add(e),e.onDestroyed(()=>{this.listeners.delete(e),this.dropPendingRequestsFor(e)}),e.send(this.messageChannel,{type:"codex-app-server-connection-changed",state:this.connectionState,transport:this.options.transport.kind}),this.fatalErrorMessage&&e.send(this.messageChannel,{type:"codex-app-server-fatal-error",errorMessage:this.fatalErrorMessage})}notifyAutomationRunsUpdated(){this.broadcastToWindows({type:"automation-runs-updated"})}registerInternalNotificationHandler(e){return this.internalNotificationHandlers.add(e),()=>{this.internalNotificationHandlers.delete(e)}}markEphemeralThread(e){this.ephemeralThreadIds.add(e)}updateThreadTitle(e,n){const r=n.trim();if(r.length===0)return;A3(e,r);const i=_F(this.options.globalState.get(Ne.THREAD_TITLES));if(i.titles[e]===r){this.broadcastThreadTitleUpdated(e,r);return}const s={...i.titles,[e]:r},a=[e,...i.order.filter(u=>u!==e)].slice(0,Lce),c=new Set(a);for(const u of Object.keys(s))c.has(u)||delete s[u];this.options.globalState.set(Ne.THREAD_TITLES,{titles:s,order:a}),this.broadcastThreadTitleUpdated(e,r)}broadcastThreadTitleUpdated(e,n){this.broadcastToWindows({type:"thread-title-updated",conversationId:e,title:n}),this.options.threadOverlayManager.handleThreadTitleUpdated(this.options.hostId,e,n)}async getAuthToken({refreshToken:e}){return await this.ensureReady(),!e&&this.authTokenCache?this.authTokenCache.value:e?this.fetchAuthToken(!0):this.authTokenPromise?this.authTokenPromise:(this.authTokenPromise=this.fetchAuthToken(!1).finally(()=>{this.authTokenPromise=null}),this.authTokenPromise)}async getAuthMethod(){return await this.ensureReady(),(await this.requestAuthStatus(!1,!1))?.authMethod??null}async fetchAuthToken(e){try{const n=await this.requestAuthStatus(e),r=n&&n.authMethod==="chatgpt"?n.authToken??null:null;return this.authTokenCache={value:r},r}catch(n){throw this.authTokenCache=null,n instanceof Error?n:new Error(String(n))}}async requestAuthStatus(e,n=!0){const i={id:`electron-auth:${Ke.randomUUID()}`,method:"getAuthStatus",params:{includeToken:n,refreshToken:e}},s=await this.sendInternalRequest(i);if(s.error)throw new Error(s.error.message??`Failed to retrieve auth status (code ${s.error.code})`);return s.result??null}async listSkills(e){await this.ensureReady();const n=`skills:${Ke.randomUUID()}`,r=await this.sendInternalRequest({id:n,method:"skills/list",params:e});if(r.error)throw new Error(r.error.message??"Failed to fetch skills from app server");return r.result??{data:[]}}async readConfig(e){await this.ensureReady();const n=`config/read:${Ke.randomUUID()}`,r=await this.sendInternalRequest({id:n,method:"config/read",params:e});if(r.error)throw new Error(r.error.message??"Failed to read config from app server");return r.result}async getUserSavedConfiguration(e){return(await this.readConfig({includeLayers:!1,cwd:e??null})).config}async getConfigRequirements(){await this.ensureReady();const e=`configRequirements/read:${Ke.randomUUID()}`,n=await this.sendInternalRequest({id:e,method:"configRequirements/read",params:void 0});if(n.error)throw new Error(n.error.message??"Failed to read config requirements from app server");return n.result}async startThread(e){await this.ensureReady();const n=this.options.sharedObjectRepository.get("statsig_default_enable_features"),r=t6(e,n);e.ephemeral===!0&&(this.pendingEphemeralThreadStarts+=1);const i=`thread/start:${Ke.randomUUID()}`,s=await this.sendInternalRequest({id:i,method:"thread/start",params:r});try{if(s.error)throw new Error(s.error.message??`Failed to start thread (code ${s.error.code})`);const o=s.result;return e.ephemeral===!0&&this.markEphemeralThread(o.thread.id),o}finally{e.ephemeral===!0&&(this.pendingEphemeralThreadStarts=Math.max(0,this.pendingEphemeralThreadStarts-1))}}async startTurn(e){await this.ensureReady();const n=`turn/start:${Ke.randomUUID()}`,r=await this.sendInternalRequest({id:n,method:"turn/start",params:e});if(r.error)throw new Error(r.error.message??`Failed to start turn (code ${r.error.code})`);return r.result}async interruptTurn(e){await this.ensureReady();const n=`turn/interrupt:${Ke.randomUUID()}`,r=await this.sendInternalRequest({id:n,method:"turn/interrupt",params:e});if(r.error)throw new Error(r.error.message??`Failed to interrupt turn (code ${r.error.code})`);return r.result}async readThread(e,n){await this.ensureReady();const r=`thread/read:${Ke.randomUUID()}`,i=await this.sendInternalRequest({id:r,method:"thread/read",params:{threadId:e,includeTurns:n?.includeTurns??!1}});if(i.error)throw new Error(i.error.message??`Failed to read thread (code ${i.error.code})`);return i.result.thread??null}sendInternalRequest(e){const n=this.toRequestKey(e.id);return this.options.desktopSentry.startSpan({op:"codex.cli.request",name:e.method},()=>new Promise((r,i)=>{if(this.internalResponseHandlers.has(n)){i(new Error(`Duplicate request id: ${n}`));return}const s=setTimeout(()=>{const a=this.internalResponseHandlers.get(n);a&&(this.internalResponseHandlers.delete(n),a.reject(new Error(`Timed out waiting for MCP response to ${e.method}`)))},3e4),o={resolve:a=>{clearTimeout(o.timeout),r(a)},reject:a=>{clearTimeout(o.timeout),i(a)},timeout:s,startedAtMs:Date.now(),method:e.method,conversationId:this.getConversationIdFromParams(e.params)};this.internalResponseHandlers.set(n,o);try{this.sendMessage(e)}catch(a){this.internalResponseHandlers.delete(n),o.reject(a instanceof Error?a:new Error(String(a)))}}))}clearAuthTokenCache(){this.authTokenCache=null,this.authTokenPromise=null}rejectAllInternalRequests(e){for(const[,n]of this.internalResponseHandlers)clearTimeout(n.timeout),n.reject(e);this.internalResponseHandlers.clear(),this.ephemeralThreadIds.clear(),this.pendingEphemeralThreadStarts=0}getConversationIdFromParams(e){if(!e||typeof e!="object")return;const n=e.conversationId;if(typeof n=="string")return n;const r=e.threadId;return typeof r=="string"?r:void 0}registerArchiveThreadCwd(e,n){if(this.archiveThreadActions.set(e,"archive"),!n){this.archiveThreadCwds.delete(e);return}this.archiveThreadCwds.set(e,n)}registerUnarchiveThread(e){this.archiveThreadActions.delete(e),this.archiveThreadCwds.delete(e)}async handleClientRequest(e,n){await this.options.desktopSentry.startSpan({op:"codex.cli.client_request",name:n.method},async()=>{this.logger.debug("Client request",{safe:{id:n.id,method:n.method},sensitive:{}});try{await this.ensureReady()}catch(s){this.sendErrorResponse(e,n.id,s);return}const r=this.toRequestKey(n.id),i=this.getConversationIdFromParams(n.params);this.pendingRequests.set(r,{id:n.id,sender:e,method:n.method,params:n.params,conversationId:i,startedAtMs:Date.now(),originWebContentsId:e.id});try{this.logger.debug("bridge_forwarded_to_transport",{safe:{requestId:r,method:n.method,conversationId:i??null,originWebcontentsId:e.id,transportKind:this.options.transport.kind,pendingCount:this.pendingRequests.size},sensitive:{}}),this.sendMessage(n)}catch(s){this.pendingRequests.delete(r),this.sendErrorResponse(e,n.id,s)}})}async handleClientNotification(e){this.logger.debug("Client notification",{safe:{method:e.method},sensitive:{}});try{await this.ensureReady()}catch(n){this.broadcastFatalError(`Failed to deliver notification: ${String(n)}`);return}this.sendMessage({method:e.method,params:e.params})}async handleClientResponse(e){this.logger.trace("client_response",{safe:{id:e.id},sensitive:{}});try{await this.ensureReady()}catch(n){this.broadcastFatalError(`Failed to deliver response: ${String(n)}`);return}this.sendMessage({id:e.id,result:e.result})}async restart(){this.logger.info("Restart requested"),this.stopProcess(),this.fatalErrorMessage=null,await this.ensureReady()}getStdioIoStatsSnapshot(){return this.options.transport.kind!=="stdio"||!(this.options.transport instanceof WU)?null:this.options.transport.getIoStatsSnapshot()}dispose(){this.disposed=!0,this.stopProcess(),this.listeners.clear(),this.pendingRequests.clear(),this.disposables.dispose()}async ensureReady(){if(!this.initialized){this.initializingPromise||this.logger.info("Initializing app-server transport"),this.initializingPromise||(this.initializingPromise=this.startProcess());try{await this.initializingPromise}catch(e){throw this.initializingPromise=null,e}}}async startProcess(){return this.setConnectionState("connecting"),this.resolveInitialize=null,this.rejectInitialize=null,await this.connectAndWaitForOpen(),new Promise((e,n)=>{this.resolveInitialize=()=>{const r=this.initializeStartedAtMs==null?null:Date.now()-this.initializeStartedAtMs;this.logger.info("initialize_handshake_result",{safe:{initializeRequestId:Lu,outcome:"success",durationMs:r,transportKind:this.options.transport.kind},sensitive:{}}),this.initializeStartedAtMs=null,this.logger.info("Codex CLI initialized"),this.initialized=!0,this.initializingPromise=null,this.reconnectDelayMs=fh,this.reconnectAttempt=0,this.setConnectionState("connected"),this.connection&&this.startHeartbeat(this.connection),this.broadcastToWindows({type:"codex-app-server-initialized"}),e()},this.rejectInitialize=r=>{const i=this.initializeStartedAtMs==null?null:Date.now()-this.initializeStartedAtMs;this.logger.error("initialize_handshake_result",{safe:{initializeRequestId:Lu,outcome:"failure",durationMs:i,transportKind:this.options.transport.kind},sensitive:{errorMessage:r.message,errorName:r.name,errorStack:r.stack}}),this.initializeStartedAtMs=null,this.logger.error("Initialization failed",{safe:{errorMessage:r.message,errorName:r.name,errorStack:r.stack},sensitive:{}}),this.initializingPromise=null,this.options.transport.supportsReconnect()?this.connection?this.failConnection(this.connection,r.message):(this.setConnectionState("disconnected"),this.scheduleReconnect()):this.broadcastFatalError(r.message),n(r)},this.sendInitializeRequest()})}async connectAndWaitForOpen(){this.mostRecentErrorMessage=null,this.initialized=!1,this.stopHeartbeat(),this.stopReconnectTimer(),this.resetIncomingLineQueue(),this.logger.debug("Starting app-server transport",{safe:{transport:this.options.transport.kind,hostId:this.options.hostId}});let e;try{e=await this.options.transport.connect()}catch(r){const i=r instanceof Error?r.message:String(r);throw this.logger.warning("Failed to establish app-server transport",{safe:{transport:this.options.transport.kind,hostId:this.options.hostId},sensitive:{error:r}}),this.setConnectionState("disconnected"),this.options.transport.supportsReconnect()||this.broadcastFatalError(i),new Error(i)}const n=Ut(e);this.logger.info("Transport start success",{safe:{connectionId:n,transport:this.options.transport.kind,hostId:this.options.hostId}}),this.connection=e;try{await this.waitForConnectionOpen(e)}catch(r){this.connection===e&&(this.connection=null);try{e.close()}catch{}const i=r instanceof Error?r.message:String(r);throw this.logger.warning("App-server connection failed before ready",{safe:{connectionId:n,transport:this.options.transport.kind},sensitive:{error:r}}),this.setConnectionState("disconnected"),this.options.transport.supportsReconnect()||this.broadcastFatalError(i),new Error(i)}}waitForConnectionOpen(e){const n=Ut(e);return new Promise((r,i)=>{let s=!1;const o=()=>{s||(s=!0,r())},a=c=>{s||(s=!0,i(c))};e.onopen=()=>{if(this.connection!==e){this.logger.trace("Ignoring open event from stale connection",{safe:{staleConnectionId:n,currentConnectionId:this.connection?Ut(this.connection):null},sensitive:{}});return}this.logger.debug("App-server connection open event",{safe:{connectionId:n},sensitive:{}}),o()},e.onmessage=c=>{if(this.connection!==e){this.logger.trace("Ignoring message event from stale connection",{safe:{staleConnectionId:n,currentConnectionId:this.connection?Ut(this.connection):null},sensitive:{}});return}this.handleIncomingData(c.data)},e.onerror=c=>{if(this.connection!==e){this.logger.trace("Ignoring error event from stale connection",{safe:{staleConnectionId:n,currentConnectionId:this.connection?Ut(this.connection):null},sensitive:{}});return}const u=Hce(c);this.mostRecentErrorMessage=u,this.options.transport.supportsReconnect()?this.logger.error("Codex app-server websocket error",{safe:{message:u},sensitive:{}}):this.logger.trace("Codex CLI stderr",{safe:{message:u},sensitive:{}})},e.onclose=c=>{const u=Wce(c);this.handleTransportClosed(u,e),a(new Error(this.options.transport.supportsReconnect()?`Codex app-server websocket closed (code=${u.code??"unknown"})`:"Codex app-server process closed"))},e.readyState===er.Open&&o()})}stopProcess(){if(this.stopReconnectTimer(),this.stopHeartbeat(),this.resetIncomingLineQueue(),this.connection){this.logger.info("Stopping app-server transport",{safe:{connectionId:Ut(this.connection),transport:this.options.transport.kind},sensitive:{}});const e=this.connection;this.connection=null,this.isStoppingConnection=!0;try{e.close()}catch(n){this.logger.warning("Error while closing app-server connection",{safe:{connectionId:Ut(e),transport:this.options.transport.kind},sensitive:{error:n}})}finally{this.isStoppingConnection=!1}}this.initialized=!1,this.initializingPromise=null,this.initializeStartedAtMs=null,this.resolveInitialize=null,this.rejectInitialize=null,this.reconnectAttempt=0,this.reconnectDelayMs=fh,this.failPendingClientRequests(new Error("Codex app-server is not available")),this.rejectAllInternalRequests(new Error("Codex app-server is not available")),this.clearAuthTokenCache(),this.setConnectionState("disconnected")}handleTransportClosed(e,n){const r=Ut(n);if(this.connection!==n){this.logger.trace("Ignoring close event from stale connection",{safe:{staleConnectionId:r,currentConnectionId:this.connection?Ut(this.connection):null,code:e.code,reason:e.reason},sensitive:{}});return}this.drainIncomingLineQueue(!0);const i=this.initialized;if(this.logger.info("App-server connection closed",{safe:{connectionId:r,code:e.code,reason:e.reason,signal:e.signal,transport:this.options.transport.kind},sensitive:{}}),this.connection=null,this.stopHeartbeat(),this.resetIncomingLineQueue(),this.initialized=!1,this.initializingPromise=null,this.setConnectionState("disconnected"),this.failPendingClientRequests(new Error("Codex app-server is not available")),this.rejectAllInternalRequests(new Error("Codex app-server is not available")),this.clearAuthTokenCache(),this.isStoppingConnection||this.isAppQuitting||this.disposed){this.logger.info("Skipping reconnect after app-server close",{safe:{connectionId:r},sensitive:{isStoppingConnection:this.isStoppingConnection,isAppQuitting:this.isAppQuitting,disposed:this.disposed}});return}if(!this.options.transport.supportsReconnect()){const s=this.isAppQuitting&&(e.signal==="SIGHUP"||e.signal==="SIGTERM"||e.signal==="SIGINT"),o=e.code===0||s;this.logger.error("Codex CLI process exited",{safe:{connectionId:r,code:e.code,signal:e.signal,transport:this.options.transport.kind,classifiedAsExpected:o},sensitive:{}});const a=e.code===0||s?null:`Codex app-server exited unexpectedly (code=${e.code}, signal=${e.signal}).
Most recent error: ${this.mostRecentErrorMessage??"None"}`;if(!i&&this.rejectInitialize){this.rejectInitialize(new Error(a??"Codex app-server process closed unexpectedly")),this.rejectInitialize=null,this.resolveInitialize=null;return}a&&this.broadcastFatalError(a);return}if(this.logger.info("transport_closed",{safe:{transportKind:this.options.transport.kind,code:e.code,reason:e.reason,signal:e.signal,isAppQuitting:this.isAppQuitting,hasRecentTransportError:this.mostRecentErrorMessage!=null},sensitive:{error:this.mostRecentErrorMessage}}),this.mostRecentErrorMessage=e.reason??`Codex app-server websocket closed (code=${e.code??"unknown"})`,!i&&this.rejectInitialize){this.rejectInitialize(new Error(`Codex app-server websocket closed (code=${e.code??"unknown"})`)),this.rejectInitialize=null,this.resolveInitialize=null;return}this.scheduleReconnect()}scheduleReconnect(){const e={unsupportedTransport:!this.options.transport.supportsReconnect(),timerAlreadyScheduled:this.reconnectTimer!=null,initializationInFlight:this.initializingPromise!=null,disposed:this.disposed,appQuitting:this.isAppQuitting};if(e.unsupportedTransport||e.timerAlreadyScheduled||e.initializationInFlight||e.disposed||e.appQuitting){this.logger.trace("Reconnect scheduling skipped",{safe:e,sensitive:{}});return}this.setConnectionState("connecting");const n=this.reconnectDelayMs,r=this.reconnectAttempt+1;this.reconnectDelayMs=Math.min(this.reconnectDelayMs*2,Fce),this.logger.info("Scheduling app-server reconnect",{safe:{reconnectAttempt:r,delayMs:n,nextDelayMs:this.reconnectDelayMs,hostId:this.options.hostId},sensitive:{}}),this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null;const i={alreadyInitialized:this.initialized,initializationInFlight:this.initializingPromise!=null,disposed:this.disposed,appQuitting:this.isAppQuitting};if(i.alreadyInitialized||i.initializationInFlight||i.disposed||i.appQuitting){this.logger.trace("Reconnect attempt skipped",{safe:{reconnectAttempt:r,...i},sensitive:{}});return}this.reconnectAttempt=r,this.logger.info("Starting app-server reconnect attempt",{safe:{reconnectAttempt:r,hostId:this.options.hostId},sensitive:{}}),this.initializingPromise=this.startProcess(),this.initializingPromise.catch(s=>{this.initializingPromise=null,this.logger.warning("Codex app-server reconnect attempt failed",{safe:{reconnectAttempt:r},sensitive:{error:s}}),!this.initialized&&!this.disposed&&!this.isAppQuitting&&this.scheduleReconnect()})},n)}stopReconnectTimer(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}failPendingClientRequests(e){for(const[,n]of this.pendingRequests)this.sendErrorResponse(n.sender,n.id,e);this.pendingRequests.clear()}setConnectionState(e){this.connectionState!==e&&(this.logger.info("Codex app-server connection state changed",{safe:{previous:this.connectionState,next:e,transport:this.options.transport.kind,hostId:this.options.hostId},sensitive:{}}),this.connectionState=e,this.broadcastToWindows({type:"codex-app-server-connection-changed",state:e,transport:this.options.transport.kind}))}startHeartbeat(e){this.options.transport.supportsReconnect()&&(this.stopHeartbeat(),this.logger.debug("Starting app-server heartbeat",{safe:{connectionId:Ut(e),intervalMs:CO},sensitive:{}}),this.heartbeatTimer=setInterval(()=>{this.runHeartbeat(e)},CO))}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null,this.heartbeatInFlight=!1,this.logger.debug("Stopped app-server heartbeat"))}async runHeartbeat(e){if(this.heartbeatInFlight){this.logger.trace("Skipping app-server heartbeat while previous is in flight");return}this.heartbeatInFlight=!0;try{await this.requestAuthStatus(!1,!1)}catch(n){this.connection===e&&(this.logger.warning("Codex app-server heartbeat failed",{safe:{error:n},sensitive:{}}),this.failConnection(e,n instanceof Error?n.message:String(n)))}finally{this.heartbeatInFlight=!1}}failConnection(e,n){if(this.connection!==e){this.logger.trace("Ignoring failConnection for stale connection",{safe:{staleConnectionId:Ut(e),currentConnectionId:this.connection?Ut(this.connection):null},sensitive:{}});return}const r=Ut(e);this.logger.warning("Failing app-server connection",{safe:{connectionId:r,reason:n},sensitive:{}}),this.mostRecentErrorMessage=n;try{e.close(),setTimeout(()=>{this.connection===e&&(this.logger.warning("Codex app-server close event not observed; forcing disconnect",{safe:{connectionId:r,reason:n},sensitive:{}}),this.handleTransportClosed({type:"close",code:null,reason:n},e))},$ce)}catch(i){this.logger.warning("Failed to close unhealthy app-server connection",{safe:{error:i},sensitive:{}}),this.handleTransportClosed({type:"close",code:null,reason:n},e)}}sendInitializeRequest(){const e={id:Lu,method:"initialize",params:{clientInfo:{name:Mce,title:"Codex Desktop",version:this.options.hostProcess.getVersion()},capabilities:{experimentalApi:!0,optOutNotificationMethods:m6.slice()}}};this.logger.debug("Sending initialize request"),this.sendMessage(e)}handleIncomingData(e){this.incomingLineProcessor.handleIncomingData(e)}resetIncomingLineQueue(){this.incomingLineProcessor.reset()}drainIncomingLineQueue(e){e&&this.incomingLineProcessor.flush()}trackOutgoingMessageBytes(e,n){const r=this.outgoingMessageSizeTracker.track(e);for(const i of r)this.logger.debug("outgoing_message_size_threshold",{safe:{threshold:i.threshold,messageBytes:i.sizeBytes,messageBytesHighWaterMark:i.sizeBytesHighWaterMark,...n},sensitive:{}})}routeIncomingMessage(e){if(!this.initialized){if(OO(e)&&e.id===Lu&&this.resolveInitialize){if(e.error){const r=new Error(`Failed to initialize Codex app-server: ${JSON.stringify(e.error)}`);this.rejectInitialize?.(r),this.rejectInitialize=null,this.resolveInitialize=null}else this.resolveInitialize(),this.resolveInitialize=null,this.rejectInitialize=null;return{routeKind:"initialize_response",method:null}}const n=typeof e.method=="string"?e.method:null;return this.logger.warning("Message before initialization",{safe:{hasId:"id"in e?e.id??null:null,method:n},sensitive:{}}),{routeKind:"before_initialize",method:n}}if(OO(e))return this.logger.trace("Server response received",{safe:{id:e.id,hasError:e.error!=null},sensitive:{}}),this.routeResponse(e),{routeKind:"response",method:null};if(Nj(e))return this.logger.trace("Server request received",{safe:{id:e.id,method:e.method},sensitive:{}}),this.broadcastToWindows({type:"mcp-request",request:e}),{routeKind:"server_request",method:e.method};if(zce(e)){this.logger.trace("Server notification received",{safe:{method:e.method},sensitive:{}}),e.method==="account/updated"&&this.clearAuthTokenCache();for(const i of this.internalNotificationHandlers)try{i(e)}catch(s){this.logger.warning("Internal notification handler failed",{safe:{method:e.method},sensitive:{error:s}})}if(e.method==="thread/started"&&this.pendingEphemeralThreadStarts>0){const i=e.params,s=i?.thread,o=typeof s?.id=="string"?s.id:typeof i?.threadId=="string"?i.threadId:null;if(o&&s?.path==null)return this.markEphemeralThread(o),{routeKind:"notification_ephemeral_thread_started",method:e.method}}const n=e.params,r=typeof n?.thread?.id=="string"?n.thread.id:typeof n?.threadId=="string"?n.threadId:null;return r&&this.ephemeralThreadIds.has(r)?(this.logger.debug("notification_dropped_ephemeral",{safe:{method:e.method,threadId:r,reason:"ephemeral_filter"},sensitive:{}}),{routeKind:"notification_dropped_ephemeral",method:e.method}):(this.broadcastToWindows({type:"mcp-notification",method:e.method,params:e.params}),{routeKind:"notification",method:e.method})}return this.logger.warning("Unrecognized MCP message",{safe:NO(e),sensitive:{}}),{routeKind:"unrecognized",method:null}}routeResponse(e){const n=this.toRequestKey(e.id),r=this.pendingRequests.get(n),i=this.internalResponseHandlers.get(n);if(i){const c=Date.now()-i.startedAtMs;if(this.internalResponseHandlers.delete(n),clearTimeout(i.timeout),e.error){this.logger.debug("internal_request_failed",{safe:{requestId:n,method:i.method,durationMs:c,errorCode:e.error.code},sensitive:{}});const u=new Error(e.error.message??`MCP request ${n} failed with code ${e.error.code}`);i.reject(u)}else this.logger.debug("internal_request_completed",{safe:{requestId:n,method:i.method,durationMs:c},sensitive:{}}),i.resolve(e);return}if(r&&e.error&&this.logger.debug("MCP request failed",{safe:{id:e.id,method:r.method,conversationId:r.conversationId??null},sensitive:{error:e.error}}),r&&!e.error)switch(r.method){case"turn/start":{r.conversationId&&(this.isAutomationSeedTurn(r.params)||(w3(r.conversationId),this.notifyAutomationRunsUpdated()));break}case"thread/unarchive":{const c=r.conversationId;c&&(this.archiveThreadActions.delete(c),this.archiveThreadCwds.delete(c),O3(c)&&this.notifyAutomationRunsUpdated());break}case"thread/archive":{const c=r.conversationId;c&&(this.archiveThreadActions.delete(c),this.archiveThreadCwds.delete(c),IE(c,"auto"),this.notifyAutomationRunsUpdated(),this.captureAutomationArchiveMessages(c).catch(u=>{this.options.errorReporter.reportNonFatal(u,{kind:"capture-automation-archive-messages"})}));break}}if(this.logger.trace("Routing response",{safe:{id:e.id,hasTarget:r!=null},sensitive:{}}),!r&&typeof e.id=="string"&&e.id.startsWith("electron-auto-archive:")){this.logger.trace("Auto-archive response received",{safe:{id:e.id},sensitive:{error:e.error}}),this.broadcastToWindows({type:"mcp-response",message:e}),e.error||this.broadcastToWindows({type:"tasks-reload-requested"});return}if(r||this.logger.warning("response_orphaned",{safe:{requestId:n,transportKind:this.options.transport.kind,hasError:e.error!=null},sensitive:{error:e.error}}),r&&!e.error)switch(r.method){case"thread/archive":{this.broadcastToWindows({type:Wu.CHANGED}),this.broadcastToWindows({type:"tasks-reload-requested"});break}}const s=r?.sender,o=r?Date.now()-r.startedAtMs:null,a=s?s.isDestroyed():null;this.logger.info("response_routed",{safe:{requestId:n,method:r?.method??null,conversationId:r?.conversationId??null,originWebcontentsId:r?.originWebContentsId??null,durationMs:o,hadPending:r!=null,hadInternalHandler:!1,targetDestroyed:a,broadcastFallback:r!=null&&a===!0,errorCode:e.error?.code??null},sensitive:{}}),s&&!s.isDestroyed()?s.send(this.messageChannel,{type:"mcp-response",message:e}):this.broadcastToWindows({type:"mcp-response",message:e}),this.pendingRequests.delete(n)}async captureAutomationArchiveMessages(e){const n=await this.sendInternalRequest({id:`thread/resume:${Ke.randomUUID()}`,method:"thread/resume",params:{threadId:e,history:null,path:null,model:null,modelProvider:null,cwd:null,approvalPolicy:null,sandbox:null,config:null,baseInstructions:null,developerInstructions:null,personality:null,persistExtendedHistory:!1}});if(n.error){this.logger.warning("Failed to resume thread for automation archive",{safe:{threadId:e},sensitive:{error:n.error}});return}const i=n.result.thread.turns.flatMap(a=>a.items),s=this.getLastUserMessage(i),o=this.getLastAssistantMessage(i);s==null&&o==null||l1(e,s,o)}getLastUserMessage(e){for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(r.type==="userMessage")return this.formatUserInput(r.content)}return null}getLastAssistantMessage(e){for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(r.type==="agentMessage")return r.text}return null}formatUserInput(e){const n=[];for(const r of e)switch(r.type){case"text":n.push(r.text);break;case"image":n.push(`image: ${r.url}`);break;case"localImage":n.push(`localImage: ${r.path}`);break;case"skill":n.push(`skill: ${r.name} (${r.path})`);break;case"mention":n.push(`mention: ${r.name} (${r.path})`)}return n.join(`
`)}isAutomationSeedTurn(e){if(!e||typeof e!="object")return!1;const n=e.input;if(!Array.isArray(n))return!1;for(const r of n)if(r.type==="text"&&r.text.includes("Automation ID:"))return!0;return!1}sendMessage(e){if(!this.connection)throw new Error("Codex app-server is not available");const n=NO(e),r=JSON.stringify(e),i=Buffer.byteLength(r,"utf8");this.trackOutgoingMessageBytes(i,n),this.logger.trace("Sending message to transport",{safe:{transportKind:this.options.transport.kind,messageBytes:i},sensitive:{},...n}),this.connection.send(r)}broadcastToWindows(e){const n=Date.now();let r=0,i=0;const s=typeof e.type=="string"?e.type:null;for(const a of Array.from(this.listeners)){if(a.isDestroyed()){this.listeners.delete(a),i+=1;continue}const c=Date.now();this.logger.trace("Forwarding payload to window",{safe:{type:e.type,webContentsId:a.id},sensitive:{}});try{a.send(this.messageChannel,e)}catch(l){throw this.logger.warning("window_broadcast_send_failed",{safe:{type:s,webContentsId:a.id,sendDurationMs:Date.now()-c},sensitive:{error:l}}),l}const u=Date.now()-c;u>=Bce&&this.logger.debug("window_broadcast_send_slow",{safe:{type:s,webContentsId:a.id,sendDurationMs:u},sensitive:{}}),r+=1}const o=Date.now()-n;(o>=jce||i>0)&&this.logger.debug("window_broadcast_completed",{safe:{type:s,sentCount:r,skippedDestroyedCount:i,broadcastDurationMs:o},sensitive:{}})}sendErrorResponse(e,n,r){const i=r&&typeof r.code=="string"?r.code:void 0,s={id:n,error:{code:-32e3,message:r instanceof Error?r.message:typeof r=="string"?r:"Codex app-server is not available",...i?{data:{code:i}}:{}}};e.isDestroyed()||e.send(this.messageChannel,{type:"mcp-response",message:s})}broadcastFatalError(e){this.fatalErrorMessage=e,this.logger.error("fatal_error_broadcasted",{safe:{transportKind:this.options.transport.kind,initialized:this.initialized,pendingRequestCount:this.pendingRequests.size,internalHandlerCount:this.internalResponseHandlers.size,listenerCount:this.listeners.size},sensitive:{errorMessage:e}}),this.options.errorReporter.reportFatal(e,{kind:"codex-app-server-fatal-error"}),this.rejectAllInternalRequests(new Error(e)),this.clearAuthTokenCache(),this.broadcastToWindows({type:"codex-app-server-fatal-error",errorMessage:e})}dropPendingRequestsFor(e){for(const[n,r]of this.pendingRequests.entries())r.sender.id===e.id&&this.pendingRequests.delete(n)}toRequestKey(e){return String(e)}}function NO(t){return"method"in t&&"id"in t?{kind:Nj(t)?"server-request":"client-request",id:t.id,method:t.method}:"method"in t?{kind:"notification",method:t.method}:"result"in t||"error"in t?{kind:"response",id:t.id,hasError:"error"in t&&t.error!=null}:{kind:"unknown"}}function qce(t){if(t==null)return[];let e=null;return typeof t=="string"?e=t:t instanceof ArrayBuffer?e=Buffer.from(t).toString("utf8"):ArrayBuffer.isView(t)&&(e=Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")),e?e.split(/\r?\n/).filter(r=>r.trim().length>0):[]}function Hce(t){if(t&&typeof t=="object"){const e=t.message;if(typeof e=="string"&&e.length>0)return e;const n=t.error;if(n instanceof Error&&n.message.length>0)return n.message}return"Codex app-server connection error"}function Wce(t){if(!t||typeof t!="object")return{};const e=t.code,n=t.reason,r=t.signal,i=t.wasClean;return{code:typeof e=="number"?e:null,reason:typeof n=="string"?n:null,signal:typeof r=="string"?r:null,wasClean:typeof i=="boolean"?i:void 0}}const Yce=Pr.promisify(SN.gzip),Kce="application/gzip",Zce="feedback",Xce=Buffer.from(`
`),kO="application/x-sentry-envelope",Va=512,Jce=2;async function Qce({appVersion:t,buildFlavor:e,buildNumber:n,classification:r,description:i,includeLogs:s,correlationId:o}){const a=new Date,c=Ke.randomUUID().replaceAll("-",""),u=s?await nue(a):null,l=eue({appVersion:t,buildFlavor:e,buildNumber:n,classification:r,description:i?.trim()??null,eventId:c,feedbackLogArchive:u,now:a,correlationId:o}),p=uue(jc),d=new Blob([Uint8Array.from(l)],{type:kO}),f=await fetch(p,{method:"POST",headers:{"Content-Type":kO},body:d});if(f.ok)return;const m=await f.text();throw new Error(`Feedback upload failed with status ${f.status} ${f.statusText}${m?`: ${m}`:""}`)}function eue({appVersion:t,buildFlavor:e,buildNumber:n,classification:r,description:i,eventId:s,feedbackLogArchive:o,now:a,correlationId:c}){const u=a.toISOString(),l=tue(i),p=Re.cpus(),d=p[0]?.model,f=typeof Re.version=="function"?Re.version():void 0,m=process.versions.electron!=null?"Electron":"Node.js",h=process.versions.electron??process.versions.node??"unknown",g={event_id:s,timestamp:u,platform:"javascript",level:"info",logger:Zce,message:`Codex app feedback report ${c}`,...l!=null?{culprit:l}:{},environment:e,release:bE(t),server_name:Re.hostname(),fingerprint:["desktop-feedback",s],contexts:{app:{app_name:"Codex",app_version:t,...n!=null?{app_build:n}:{}},os:{name:Re.type(),version:Re.release(),...f!=null?{kernel_version:f}:{}},runtime:{name:m,version:h},device:{arch:process.arch,processor_count:p.length,memory_size:Re.totalmem(),free_memory:Re.freemem(),...d!=null&&d.length>0?{model:d}:{}},feedback:{classification:r,description:i,log_archive_filename:o?.fileName??null,log_archive_size_bytes:o?.contents.byteLength??null,log_archive_file_count:o?.sourceFileCount??0}},tags:{feedback_report:"desktop",classification:r,include_logs:o!=null?"true":"false",platform:process.platform,codex_app_session_id:qi},...n!=null?{dist:n}:{},extra:{classification:r,description:i,include_logs:o!=null}},_=[Uu({event_id:s,sent_at:u,dsn:jc}),Uu({type:"event"}),Uu(g)];return o!=null&&_.push(Uu({type:"attachment",length:o.contents.byteLength,filename:o.fileName,content_type:Kce,attachment_type:"event.attachment"}),o.contents,Xce),Buffer.concat(_)}function tue(t){return t==null||t.length===0?null:t.replace(/\s+/g," ").slice(0,500)}async function nue(t){const e=QS(),n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),r=cue(e,n),i=await rue(r),s=await Promise.all(i.map(async c=>{const u=B.join(r,c),l=await Vn.readFile(u);return{name:B.basename(c),contents:l,mtimeSeconds:Math.floor(t.getTime()/1e3),mode:420}})),o=iue(s),a=await Yce(o);return{fileName:`codex-logs-${aue(n)}.tar.gz`,contents:a,sourceFileCount:s.length}}async function rue(t){try{return(await Vn.readdir(t,{withFileTypes:!0})).filter(n=>n.isFile()).map(n=>n.name).sort()}catch(e){if(e.code==="ENOENT")return[];throw e}}function iue(t){const e=[];for(const n of t){const r=sue(n.name),i=Buffer.alloc(Va,0);fs(i,0,100,r),za(i,100,8,n.mode),za(i,108,8,0),za(i,116,8,0),za(i,124,12,n.contents.byteLength),za(i,136,12,n.mtimeSeconds),i.fill(32,148,156),fs(i,156,1,"0"),fs(i,257,6,"ustar"),fs(i,263,2,"00");const s=i.reduce((a,c)=>a+c,0);oue(i,148,s),e.push(i,n.contents);const o=(Va-n.contents.byteLength%Va)%Va;o>0&&e.push(Buffer.alloc(o,0))}return e.push(Buffer.alloc(Va*Jce,0)),Buffer.concat(e)}function sue(t){const e=t.replace(/\\/g,"/").replace(/^\/+/,"");return e.length<=100?e:e.slice(-100)}function fs(t,e,n,r){const i=Buffer.from(r,"utf8");i.copy(t,e,0,Math.min(n,i.length))}function za(t,e,n,r){const s=(Number.isFinite(r)?Math.max(0,Math.floor(r)):0).toString(8),o=n-1,a=s.slice(-o).padStart(o,"0");fs(t,e,n,`${a}\0`)}function oue(t,e,n){const r=n.toString(8).slice(-6).padStart(6,"0");fs(t,e,8,`${r}\0 `)}function Yl(t){return t.toString().padStart(2,"0")}function aue(t){return`${t.getUTCFullYear()}-${Yl(t.getUTCMonth()+1)}-${Yl(t.getUTCDate())}`}function cue(t,e){return B.join(t,e.getUTCFullYear().toString(),Yl(e.getUTCMonth()+1),Yl(e.getUTCDate()))}function Uu(t){return Buffer.from(`${JSON.stringify(t)}
`,"utf8")}function uue(t){const e=new URL(t),r=e.pathname.split("/").filter(Boolean).at(-1);if(r==null||r.length===0)throw new Error("Sentry DSN is missing a project id");return`${e.protocol}//${e.host}/api/${r}/envelope/`}async function lue({query:t,cwd:e,limit:n}){const r=t.trim();if(r.length===0||!e)return[];const i=B.resolve(e),s=due();return await UY(r,[i],n,{rgPath:s??void 0,runCommand:s!=null?void 0:pue})??[]}function pue(){return Promise.resolve({stdout:"",code:2})}function due(){const t=process.platform==="win32"?"rg.exe":"rg",e=process.resourcesPath?B.join(process.resourcesPath,t):null;return e&&Y.existsSync(e)?e:null}const kr=Le("open-in-targets"),gr=process.platform==="darwin",C_="/Applications",kj=B.join(Re.homedir(),"Applications"),Pj=[C_,kj],fue=B.join(Re.homedir(),"Library","Application Support","JetBrains","Toolbox","apps");let Ga=null;function Mj(t){return t.startsWith(`${C_}/`)?[t,B.join(kj,t.slice(`${C_}/`.length))]:[t]}function At(t){if(!gr)return null;for(const e of t)for(const n of Mj(e))if(Y.existsSync(n))return n;return null}function Lj(t,e){if(!gr)return null;const n=t.toLowerCase();for(const r of Pj){let i;try{i=Y.readdirSync(r)}catch{continue}for(const s of i){const o=s.toLowerCase();if(!o.startsWith(n)||!o.endsWith(".app"))continue;const a=B.join(r,s,"Contents","MacOS",e);if(Y.existsSync(a))return a}}return null}const mue=[{target:"androidStudio",bundlePrefixes:["android studio"],executable:"studio"},{target:"intellij",bundlePrefixes:["intellij idea"],executable:"idea"},{target:"goland",bundlePrefixes:["goland"],executable:"goland"},{target:"rustrover",bundlePrefixes:["rustrover"],executable:"rustrover"},{target:"pycharm",bundlePrefixes:["pycharm"],executable:"pycharm"},{target:"webstorm",bundlePrefixes:["webstorm"],executable:"webstorm"}];function Fu(t){return[...t].sort((e,n)=>n.localeCompare(e))}function hue(t){const e=new Map;if(!gr)return e;let n;try{n=Y.readdirSync(t)}catch{return e}for(const r of Fu(n)){const i=B.join(t,r);let s;try{s=Y.readdirSync(i)}catch{continue}for(const o of Fu(s)){const a=B.join(i,o);let c;try{c=Y.readdirSync(a)}catch{continue}for(const u of Fu(c)){const l=B.join(a,u);let p;try{p=Y.readdirSync(l)}catch{continue}for(const d of Fu(p)){const f=d.toLowerCase();if(f.endsWith(".app"))for(const m of mue){if(e.has(m.target)||!m.bundlePrefixes.some(g=>f.startsWith(g)))continue;const h=B.join(l,d,"Contents","MacOS",m.executable);Y.existsSync(h)&&e.set(m.target,h)}}}}}return e}function gue(){if(Ga)return Ga;try{Ga=hue(fue)}catch(t){kr().debug("Failed to discover JetBrains Toolbox installations",{safe:{},sensitive:{error:t}}),Ga=new Map}return Ga}function ns(t,e,n,r){return _ue(e,n,r)??gue().get(t)??null}function ks(t){if(!gr)return null;const e=t.toLowerCase();for(const n of Pj){let r;try{r=Y.readdirSync(n)}catch{continue}for(const i of r){const s=i.toLowerCase();if(!s.startsWith(e)||!s.endsWith(".app"))continue;const o=B.join(n,i);if(Y.existsSync(o))return o}}return null}function _ue(t,e,n){return At(t)??Lj(e,n)}function Uj(){if(!gr)return null;const t=ks("Xcode")??At(["/Applications/Xcode.app"]);let e=null;try{const n=Ht.spawnSync("xcode-select",["-p"],{encoding:"utf8",timeout:1e3}),r=n.stdout?.trim();if(n.status===0&&r){const i=B.join(r,"usr","bin","xed");Y.existsSync(i)&&(e=i)}}catch(n){kr().debug("Failed to resolve Xcode via xcode-select",{safe:{},sensitive:{error:n}})}if(e==null&&t){const n=B.join(t,"Contents","Developer","usr","bin","xed");Y.existsSync(n)&&(e=n)}return e==null&&t==null?null:{appPath:t,xedPath:e}}function Hp(t){if(!gr)return null;try{const e=Ht.spawnSync("which",[t],{encoding:"utf8",timeout:1e3}),n=e.stdout?.trim();if(e.status===0&&n&&Y.existsSync(n))return n}catch(e){kr().debug("Failed to locate command in PATH",{safe:{command:t},sensitive:{error:e}})}return null}function vue(){return Hp("zed")??At(["/Applications/Zed.app/Contents/MacOS/zed","/Applications/Zed Preview.app/Contents/MacOS/zed","/Applications/Zed Nightly.app/Contents/MacOS/zed"])??Lj("Zed","zed")}function Eue(){const t=Hp("subl");if(t)return t;const e=ks("Sublime Text");if(e){const n=B.join(e,"Contents","SharedSupport","bin","subl");if(Y.existsSync(n))return n}return At(["/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl"])}function Sue(){return ks("Zed")??At(["/Applications/Zed.app","/Applications/Zed Preview.app","/Applications/Zed Nightly.app"])}function PO(){if(!gr)return null;const t=["/Applications/Cursor.app","/Applications/Cursor Preview.app","/Applications/Cursor Nightly.app"],e=ks("Cursor");e&&t.push(e);for(const n of t)for(const r of Mj(n)){const i=B.join(r,"Contents","MacOS","Cursor"),s=B.join(r,"Contents","Resources","app","out","cli.js");if(!(!Y.existsSync(i)||!Y.existsSync(s)))return{electronBin:i,cliJs:s}}return null}function qa(t,e){return e?["--goto",`${t}:${e.line}:${e.column}`]:["--goto",t]}function rs(t,e){return e?["--line",e.line.toString(),"--column",e.column.toString(),t]:[t]}function bue(t){let e=t;(!Y.existsSync(t)||!Y.statSync(t).isDirectory())&&(e=B.dirname(t));let n=null;for(;;){let r;try{r=Y.readdirSync(e)}catch{r=[]}const i=r.find(a=>a.endsWith(".xcworkspace"));if(i)return B.join(e,i);const s=r.find(a=>a.endsWith(".xcodeproj"));if(s)return B.join(e,s);n==null&&r.includes("Package.swift")&&(n=e);const o=B.dirname(e);if(o===e)return n;e=o}}async function Tue(t,e){const n=Uj();if(!n)throw new Error('Open target "xcode" is not available');if(n.xedPath){const r=bue(t),i=[];r&&i.push("--project",r),e&&i.push("--line",e.line.toString()),i.push(t),kr().debug("Opening path in Xcode via xed",{safe:{},sensitive:{xedPath:n.xedPath,args:i,xcodeContainerPath:r,path:t}}),await Rr(n.xedPath,i);return}if(n.appPath==null)throw new Error('Open target "xcode" is not available');kr().debug("Opening path in Xcode via LaunchServices fallback",{safe:{},sensitive:{appPath:n.appPath,path:t}}),await Rr("open",["-a",n.appPath,t])}function O_(t,e){return e?[`${t}:${e.line}:${e.column}`]:[t]}function yue(t,e){if(!e)return["-a","TextMate",t];const n=new URL("txmt://open/");return n.searchParams.set("url",Ac.pathToFileURL(t).toString()),n.searchParams.set("line",e.line.toString()),n.searchParams.set("column",e.column.toString()),["-a","TextMate",n.toString()]}function $u(t){return Y.existsSync(t)&&Y.statSync(t).isDirectory()?t:B.dirname(t)}function xue(t){return t==="terminal"||t==="iterm2"||t==="ghostty"||t==="warp"}const wue=["nvim","vim","nano","less"];function Aue(t){const e=process.env.VISUAL?.trim();if(e)return e;const n=process.env.EDITOR?.trim();if(n)return n;for(const r of wue){const i=t(r);if(i)return i}return null}function Due(){return Aue(Hp)}function MO(t){return`'${t.replace(/'/g,"'\\''")}'`}function Rue(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Iue(t,e){const n=B.dirname(e);return`cd ${MO(n)} && ${t} ${MO(e)}`}function Cue(t,e){const n=Rue(e);return t==="terminal"?`tell application "Terminal" to do script "${n}"`:t==="iterm2"?['tell application "iTerm"',"create window with default profile",'tell current session of current window to write text "'+n+'"',"end tell"].join(`
`):null}function Oue(t){return["-na","Ghostty.app","--args","-e",process.env.SHELL?.trim()||"/bin/zsh","-lc",t]}async function Nue(t,e){const n=Due();if(!n||!Y.existsSync(e)||Y.statSync(e).isDirectory())return!1;const r=Iue(n,e);if(t==="ghostty")try{return await Rr("open",Oue(r)),!0}catch(s){return kr().warning("Failed to run $EDITOR command for Ghostty; falling back to opening directory",{safe:{},sensitive:{error:s,path:e}}),!1}const i=Cue(t,r);if(!i)return!1;try{return await Rr("osascript",["-e",i]),!0}catch(s){return kr().warning("Failed to run $EDITOR command for terminal target; falling back to opening directory",{safe:{targetId:t},sensitive:{error:s,path:e}}),!1}}const Wp=[{id:"vscode",label:"VS Code",icon:"apps/vscode.png",detect:()=>At(["/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code","/Applications/Code.app/Contents/Resources/app/bin/code"]),args:(t,e)=>qa(t,e)},{id:"vscodeInsiders",label:"VS Code Insiders",icon:"apps/vscode-insiders.png",detect:()=>At(["/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/bin/code","/Applications/Code - Insiders.app/Contents/Resources/app/bin/code"]),args:(t,e)=>qa(t,e)},{id:"cursor",label:"Cursor",icon:"apps/cursor.png",detect:()=>PO()?.electronBin??null,env:()=>{const t={...process.env};return t.VSCODE_NODE_OPTIONS=t.NODE_OPTIONS,t.VSCODE_NODE_REPL_EXTERNAL_MODULE=t.NODE_REPL_EXTERNAL_MODULE,delete t.NODE_OPTIONS,delete t.NODE_REPL_EXTERNAL_MODULE,t.ELECTRON_RUN_AS_NODE="1",t},args:(t,e)=>{const n=PO();if(!n)throw new Error("Cursor CLI entrypoint not available");return[n.cliJs,...qa(t,e)]}},{id:"bbedit",label:"BBEdit",icon:"apps/bbedit.png",detect:()=>ks("BBEdit")||At(["/Applications/BBEdit.app"])?"open":null,args:t=>["-a","BBEdit",t]},{id:"sublimeText",label:"Sublime Text",icon:"apps/sublime-text.png",detect:()=>Eue(),args:(t,e)=>O_(t,e)},{id:"windsurf",label:"Windsurf",icon:"apps/windsurf.png",detect:()=>At(["/Applications/Windsurf.app/Contents/Resources/app/bin/windsurf"]),args:(t,e)=>qa(t,e)},{id:"antigravity",label:"Antigravity",icon:"apps/antigravity.png",detect:()=>At(["/Applications/Antigravity.app/Contents/Resources/app/bin/antigravity"]),args:(t,e)=>qa(t,e)},{id:"fileManager",label:process.platform==="darwin"?"Finder":"File Manager",icon:"apps/finder.png",detect:()=>"open",args:t=>["-R",t]},{id:"terminal",label:"Terminal",icon:"apps/terminal.png",detect:()=>At(["/System/Applications/Utilities/Terminal.app"])?"open":null,args:t=>["-a","Terminal",$u(t)]},{id:"iterm2",label:"iTerm2",icon:"apps/iterm2.png",detect:()=>At(["/Applications/iTerm.app","/Applications/iTerm2.app"])?"open":null,args:t=>["-a","iTerm",$u(t)]},{id:"ghostty",label:"Ghostty",icon:"apps/ghostty.png",detect:()=>At(["/Applications/Ghostty.app"])?"open":null,args:t=>["-a","Ghostty",$u(t)]},{id:"warp",label:"Warp",icon:"apps/warp.png",detect:()=>At(["/Applications/Warp.app"])?"open":null,args:t=>["-a","Warp",$u(t)]},{id:"xcode",label:"Xcode",icon:"apps/xcode.png",detect:()=>{const t=Uj();return t?.xedPath??t?.appPath??null},args:t=>[t]},{id:"androidStudio",label:"Android Studio",icon:"apps/android-studio.png",detect:()=>ns("androidStudio",["/Applications/Android Studio.app/Contents/MacOS/studio"],"Android Studio","studio"),args:(t,e)=>rs(t,e)},{id:"intellij",label:"IntelliJ IDEA",icon:"apps/intellij.png",detect:()=>ns("intellij",["/Applications/IntelliJ IDEA.app/Contents/MacOS/idea"],"IntelliJ IDEA","idea"),args:(t,e)=>rs(t,e)},{id:"goland",label:"GoLand",icon:"apps/goland.png",detect:()=>ns("goland",["/Applications/GoLand.app/Contents/MacOS/goland"],"GoLand","goland"),args:(t,e)=>rs(t,e)},{id:"rustrover",label:"RustRover",icon:"apps/rustrover.png",detect:()=>ns("rustrover",["/Applications/RustRover.app/Contents/MacOS/rustrover"],"RustRover","rustrover"),args:(t,e)=>rs(t,e)},{id:"pycharm",label:"PyCharm",icon:"apps/pycharm.png",detect:()=>ns("pycharm",["/Applications/PyCharm.app/Contents/MacOS/pycharm"],"PyCharm","pycharm"),args:(t,e)=>rs(t,e)},{id:"webstorm",label:"WebStorm",icon:"apps/webstorm.svg",detect:()=>ns("webstorm",["/Applications/WebStorm.app/Contents/MacOS/webstorm"],"WebStorm","webstorm"),args:(t,e)=>rs(t,e)},{id:"zed",label:"Zed",icon:"apps/zed.png",detect:()=>vue(),args:(t,e)=>O_(t,e)},{id:"textmate",label:"TextMate",icon:"apps/textmate.png",detect:()=>ks("TextMate")||At(["/Applications/TextMate.app"])?"open":null,args:(t,e)=>yue(t,e)}];let mh=null;const kue=Wp.map(({id:t,label:e,icon:n})=>({id:t,label:e,icon:n}));async function LO(){if(!gr)return[];if(mh)return mh;const t=[];for(const e of Wp)try{e.detect()&&t.push(e.id)}catch(n){kr().error("Failed to detect open target",{safe:{},sensitive:{id:e.id,error:n}})}return mh=t,t}function eb(t){const e=t.get(Ne.OPEN_IN_TARGET_PREFERENCES)??{},n=UO(e.global)??void 0,r=Object.fromEntries(Object.entries(e.perPath??{}).flatMap(([i,s])=>{const o=UO(s);return o?[[i,o]]:[]}));return{global:n,perPath:Object.keys(r).length>0?r:void 0}}function UO(t){return t==="finder"?"fileManager":typeof t!="string"?null:Wp.some(e=>e.id===t)?t:null}function FO(t,e,n){const r=eb(t),i=(e&&r.perPath?.[e])??r.global??null;return i&&n.has(i)?i:n.values().next().value??null}function Pue(t,e){const n=eb(t);return!!((e&&n.perPath?.[e])??n.global??null)}function $O(t,e,n){const r=eb(t);r.global=n,e&&(r.perPath=r.perPath??{},r.perPath[e]=n),t.set(Ne.OPEN_IN_TARGET_PREFERENCES,r)}async function Mue(t,e,n){if(!gr)throw new Error("Opening external editors is only supported on macOS");const r=Wp.find(s=>s.id===t);if(!r)throw new Error(`Unknown open target "${t}"`);const i=r.detect();if(!i)throw new Error(`Open target "${t}" is not available`);if(!(xue(t)&&await Nue(t,e))){if(t==="xcode"){await Tue(e,n);return}if(t==="zed"){await Uue(i,e,n);return}await Rr(i,r.args(e,n),{env:r.env?.()})}}function Rr(t,e,n){return new Promise((r,i)=>{const s=Ht.spawn(t,e,{stdio:"ignore",env:n?.env});s.on("error",i),s.on("close",o=>{if(!o){r();return}i(new Error(`open exited with code ${o??"unknown"} (${e.join(" ")})`))})})}function Lue(t){const n=t.indexOf(".app/Contents/MacOS/");return n===-1?null:t.slice(0,n+4)}async function Uue(t,e,n){const r=O_(e,n),i=Lue(t)??Sue();if(i){if(await Rr("open",["-a",i,e]),!n)return;const s=Hp("zed");if(s){try{await Rr(s,r)}catch{}return}return}await Rr(t,r)}async function Fue({prompt:t,cwd:e,appServerConnection:n}){return nZ({prompt:t,cwd:e,client:{startThread:r=>n.startThread(r),startTurn:r=>n.startTurn(r),interruptTurn:r=>n.interruptTurn(r),onNotification:r=>n.registerInternalNotificationHandler(r)}})}const il="THIRD_PARTY_NOTICES.txt",$ue=Pr.promisify(Ht.execFile),BO=()=>{const t=process.cwd(),e=[];return process.resourcesPath&&e.push(B.join(process.resourcesPath,il)),e.push(B.join(t,"assets",il)),e.push(B.join(t,"electron","assets",il)),e};function Bue(){let t=process.cwd();for(;;){if(Y.existsSync(B.join(t,"pnpm-workspace.yaml")))return t;const e=B.dirname(t);if(e===t)return null;t=e}}async function jue(){const t=Bue();if(!t)return;const e=B.join(t,"electron","assets",il);await Y.promises.mkdir(B.dirname(e),{recursive:!0}),await $ue("node",["./scripts/generate-third-party-notices.mjs","--output-file",e],{cwd:t,timeout:12e4})}async function Vue(){for(const t of BO())if(Y.existsSync(t))return Y.promises.readFile(t,"utf8");if(process.env.NODE_ENV!=="production"){try{await jue()}catch{return null}for(const t of BO())if(Y.existsSync(t))return Y.promises.readFile(t,"utf8")}return null}const as=!!process.env.WSL_DISTRO_NAME,In=Le("electron-fetch-handler"),jO=t=>({preferWsl:as,hostConfig:t}),zue=new Set(["pdf","ppt","pptx","doc","docx","xls","xlsx","key","mov","mp4","pages","numbers","html","png","jpg","jpeg","gif","bmp","tiff","ico","webp"]),Gue=new Set(["vscode","vscodeInsiders","cursor","bbedit","sublimeText","zed","textmate","windsurf","antigravity","xcode","androidStudio","intellij","goland","rustrover","pycharm","webstorm"]);function que(t,e){if(!Y.existsSync(t)||!Y.statSync(t).isFile())return!1;const i=Ce(e).extname(t).toLowerCase();return i?zue.has(i.slice(1)):!1}function Hue(t){return Gue.has(t)}function Wue({persistPreferredTargetPath:t,hasExplicitTarget:e,hasExistingPreference:n}){return t?e?!0:!n:!1}class VO extends Error{}function tb(t){const e=t.get(Ne.PINNED_THREAD_IDS);return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function Yue({globalState:t,threadId:e,pinned:n}){const r=tb(t),i=n?[e,...r.filter(o=>o!==e)]:r.filter(o=>o!==e);return r.length!==i.length||r.some((o,a)=>o!==i[a])?(t.set(Ne.PINNED_THREAD_IDS,i),!0):!1}function Kue({globalState:t,threadIds:e}){const n=tb(t);return n.length!==e.length||n.some((i,s)=>i!==e[s])?(t.set(Ne.PINNED_THREAD_IDS,e),!0):!1}class Zue{constructor(e,n,r,i,s){this.globalState=e,this.getIpcClientForOrigin=n,this.mcpConnection=r,this.gitManager=i,this.hostConfig=s,this.bundledSkillsRoot=Xue(this.hostConfig),Wg({refresh:!1,preferWsl:as,bundledRepoRoot:this.bundledSkillsRoot,hostConfig:this.hostConfig}).catch(o=>{In().warning("Failed to warm recommended skills cache",{safe:{},sensitive:{error:o}})})}bundledSkillsRoot;handlers={"active-workspace-roots":async()=>({roots:Pn(this.globalState)}),"workspace-root-options":async()=>{const e=K7(this.globalState);return{roots:Qt(this.globalState),labels:e}},"add-workspace-root-option":async({root:e,label:n,setActive:r,origin:i})=>(n&&ps(this.globalState,(s={})=>({...s,[e]:n})),Z7(this.globalState,s=>[e,...(s??[]).filter(o=>o!==e)]),i.send(Ye,{type:"workspace-root-options-updated"}),r&&(ir(this.globalState,[e]),i.send(Ye,{type:"active-workspace-roots-updated"})),{success:!0}),"electron-clone-workspace-repo":async()=>({success:!1,canceled:!1,error:"Not implemented in Electron."}),"codex-home":async()=>{const e=Ce(this.hostConfig),n=Oe(this.hostConfig)?await Us(this.hostConfig):wn({preferWsl:as,hostConfig:this.hostConfig});return{codexHome:n,worktreesSegment:e.join(n,"worktrees")}},"has-custom-cli-executable":async()=>({hasCustomCliExecutable:this.mcpConnection.hasCustomCliExecutable()}),"account-info":async()=>{try{const e=await this.mcpConnection.getAuthToken({refreshToken:!1});if(!e)return{accountId:null,userId:null,plan:null,email:null};const[,n]=e.split(".");if(!n)throw new Error("Missing token payload");const r=JSON.parse(Buffer.from(n,"base64url").toString("utf8")),i=r["https://api.openai.com/auth"],s=r["https://api.openai.com/profile"],o=i&&typeof i=="object"&&i!=null?i.chatgpt_account_id:null,a=i&&typeof i=="object"&&i!=null?i.chatgpt_user_id:null,c=i&&typeof i=="object"&&i!=null?i.chatgpt_plan_type:null,u=s&&typeof s=="object"&&s!=null?s.email:null;if(typeof o=="string"&&typeof a=="string"&&typeof c=="string")return{accountId:o,userId:a,plan:c,email:typeof u=="string"?u:null}}catch(e){In().error("Unable to extract account id and plan from auth token",{safe:e,sensitive:{}})}return{accountId:null,userId:null,plan:null,email:null}},"extension-info":async()=>({version:R.app.getVersion(),buildNumber:_c.value,buildFlavor:ge.resolve()}),"third-party-notices":async()=>({text:await Vue()}),"locale-info":async()=>({ideLocale:R.app.getLocale(),systemLocale:R.app.getSystemLocale()}),"os-info":async()=>({platform:process.platform,hasWsl:!1,isVsCodeRunningInsideWsl:!1}),"child-processes":async()=>{try{return{processes:await V9(process.pid)}}catch(e){return In().error("Failed to list child processes",{safe:{},sensitive:{error:e}}),{processes:[]}}},"feedback-create-sentry-issue":async({classification:e,description:n,includeLogs:r,correlationId:i})=>(await Qce({appVersion:R.app.getVersion(),buildFlavor:ge.resolve(),buildNumber:_c.value,classification:e,description:n,includeLogs:r,correlationId:i}),{reportId:i}),"openai-api-key":async()=>({value:process.env.OPENAI_API_KEY??null}),"recommended-skills":async({refresh:e})=>Wg({refresh:e,preferWsl:as,bundledRepoRoot:this.bundledSkillsRoot,hostConfig:this.hostConfig}),"install-recommended-skill":async({skillId:e,repoPath:n,installRoot:r})=>{try{const{destination:i}=await AZ({skillId:e,repoPath:n,installRoot:r,preferWsl:as,bundledRepoRoot:this.bundledSkillsRoot,hostConfig:this.hostConfig});return{success:!0,destination:i,error:null}}catch(i){const s=i instanceof Error?i.message:String(i);return In().warning("Failed to install recommended skill",{safe:{},sensitive:{error:s}}),{success:!1,destination:null,error:s}}},"remove-skill":async({skillPath:e})=>{try{const{deletedPath:n}=await DZ({skillPath:e,preferWsl:as,hostConfig:this.hostConfig});return{success:!0,deletedPath:n,error:null}}catch(n){const r=n instanceof Error?n.message:String(n);return In().warning("Failed to remove skill",{safe:{},sensitive:{error:r}}),{success:!1,deletedPath:null,error:r}}},"read-file":async({path:e})=>{const n=this.resolveOpenFilePath(e,this.getWorkspaceRoot());return{contents:await ve.readFile(n,this.hostConfig)}},"read-file-binary":async({path:e})=>{const n=this.resolveOpenFilePath(e,this.getWorkspaceRoot());return{contentsBase64:(await ve.readFileBase64(n,this.hostConfig)).toString("base64")}},"read-git-file-binary":async({cwd:e,path:n,ref:r})=>{if(e==null)return{contentsBase64:null};try{const s=(await this.gitManager.getWorktreeRepository(e,this.hostConfig))?.root;if(!s)return{contentsBase64:null};const o=Ce(this.hostConfig),a=j1(s,e,n);if(o.isAbsolute(a)||a.startsWith(".."))return{contentsBase64:null};const c=r==="head"?`HEAD:${a}`:`:${a}`,u=await pe(s,["show",c],this.hostConfig);return u.code!==0?{contentsBase64:null}:u.stdout.length===0?{contentsBase64:null}:{contentsBase64:u.process?.getStdout().toString("base64")??null}}catch{return{contentsBase64:null}}},"codex-agents-md":async()=>_4(jO(this.hostConfig)),"codex-agents-md-save":async({contents:e})=>v4(e,jO(this.hostConfig)),"generate-thread-title":async({prompt:e,cwd:n})=>{try{return{title:await kF({prompt:e,cwd:n??null,appServerConnection:this.mcpConnection})}}catch(r){return In().warning("Failed to generate thread title",{safe:{},sensitive:{error:r}}),{title:null}}},"generate-pull-request-message":async({prompt:e,cwd:n})=>{try{const r=await Fue({prompt:e,cwd:n??null,appServerConnection:this.mcpConnection});return{title:r?.title??null,body:r?.body??null}}catch{return{title:null,body:null}}},"inbox-items":async({limit:e})=>({items:T9(e??200)}),"list-automations":async()=>({items:iY()}),"developer-instructions":async({baseInstructions:e})=>({instructions:_Y({baseInstructions:e,globalState:this.globalState})}),"list-pending-automation-run-threads":async()=>({threadIds:N3()}),"pending-automation-runs":async()=>({runs:x3()}),"automation-run-archive":async({threadId:e,archivedAssistantMessage:n,archivedUserMessage:r,archivedReason:i})=>{if(n!=null||r!=null)l1(e,r??null,n??null);else try{await this.mcpConnection.captureAutomationArchiveMessages(e)}catch(o){In().warning("Failed to capture automation archive messages",{safe:o,sensitive:{}})}const s=IE(e,i??void 0);return s&&this.mcpConnection.notifyAutomationRunsUpdated(),{success:s}},"automation-run-delete":async({threadId:e})=>{const n=I3(e);return n&&this.mcpConnection.notifyAutomationRunsUpdated(),{success:n}},"list-pinned-threads":async()=>({threadIds:tb(this.globalState)}),"set-thread-pinned":async({threadId:e,pinned:n,origin:r})=>{const i=Yue({globalState:this.globalState,threadId:e,pinned:n});return r.send(Ye,{type:"pinned-threads-updated"}),{success:i}},"set-pinned-threads-order":async({threadIds:e,origin:n})=>{const r=Kue({globalState:this.globalState,threadIds:e});return n.send(Ye,{type:"pinned-threads-updated"}),{success:r}},"automation-create":async({name:e,prompt:n,cwds:r,executionEnvironment:i,rrule:s})=>{const o=oY({name:e,prompt:n,cwds:r,executionEnvironment:i,rrule:s});if(!o)throw new Error("Automation create failed.");return{item:o}},"automation-update":async({id:e,name:n,prompt:r,status:i,cwds:s,executionEnvironment:o,rrule:a})=>{const c=aY({id:e,name:n,prompt:r,status:i,cwds:s,executionEnvironment:o,rrule:a});if(!c)throw new Error("Automation update failed.");return{item:c}},"automation-delete":async({id:e})=>{const n=cY(e);return n&&(C3(e),this.mcpConnection.notifyAutomationRunsUpdated()),{success:n}},"automation-run-now":async({id:e})=>(await v7({automationId:e,appServerConnection:this.mcpConnection,gitManager:this.gitManager,hostConfig:this.hostConfig}),{success:!0}),"find-files":async({query:e,cwd:n})=>{const r=typeof n=="string"&&n.trim().length>0?n:null;return{files:await lue({query:e??"",cwd:r??this.getWorkspaceRoot()})}},"paths-exist":async({paths:e})=>({existingPaths:await u9(e??[],this.hostConfig)}),"local-environment":async({configPath:e})=>({environment:await k1(e,this.hostConfig)}),"local-environments":async({workspaceRoot:e})=>({environments:await jY(e,this.hostConfig)}),"local-environment-config":async({configPath:e})=>{try{const n=await ve.readFile(e,this.hostConfig);return{configPath:e,exists:!0,raw:n}}catch(n){const r=n;if("code"in r&&r.code==="ENOENT")return{configPath:e,exists:!1,raw:null};throw n}},"local-environment-config-save":async({configPath:e,raw:n})=>{const r=Ce(this.hostConfig);return await ve.mkdir(r.dirname(e),{recursive:!0},this.hostConfig),await ve.writeFile(e,n,this.hostConfig),{configPath:e,success:!0}},"is-copilot-api-available":async()=>({available:!1}),"get-copilot-api-proxy-info":async()=>null,"get-global-state":async({key:e})=>({value:this.globalState.get(e)}),"set-global-state":async({key:e,value:n,origin:r})=>(this.globalState.set(e,n),{success:!0}),"get-configuration":async({key:e})=>({value:this.globalState.get(e)}),"set-configuration":async({key:e,value:n})=>(this.globalState.set(e,n),e===L_.APPEARANCE_THEME&&Oj(n),{success:!0}),"apply-patch":async({origin:e,...n})=>V1(n,this.gitManager,this.hostConfig),"mcp-codex-config":async()=>({config:null}),"ide-context":async({workspaceRoot:e,origin:n})=>{if(!e)throw new Error("workspaceRoot is required");const r=this.getIpcClientForOrigin(n);if(!r)throw new Error("Missing IPC client for window");const i=await r.sendRequest("ide-context",{workspaceRoot:e});if(i.resultType==="error")throw new Error(`Failed to get ide context: ${i.error}`);return{ideContext:i.result.ideContext}},"ipc-request":async({method:e,params:n,targetClientId:r,origin:i})=>{const s=this.getIpcClientForOrigin(i);if(!s)throw new Error("Missing IPC client for window");return await s.sendRequest(e,n,{targetClientId:r})},"open-in-targets":async({cwd:e})=>{const n=await LO(),r=new Set(n),i=FO(this.globalState,e,r);return{preferredTarget:i,availableTargets:Array.from(r),targets:kue.map(({id:s,label:o,icon:a})=>({id:s,label:o,icon:a,available:r.has(s),default:i===s||void 0}))}},"set-preferred-app":async({target:e})=>($O(this.globalState,null,e),{success:!0}),"pick-file":async({pickerTitle:e})=>({file:(await this.pickFilesFromDialog({allowMultiple:!1,title:e}))[0]??null}),"pick-files":async({pickerTitle:e})=>({files:await this.pickFilesFromDialog({allowMultiple:!0,title:e})}),"open-file":async({path:e,target:n,line:r,column:i,cwd:s,persistPreferredTargetPath:o})=>{try{const a=e.replace(/^([ab])[\\/]/,""),c=this.mapRemoteHomeToLocalPath(s),u=this.mapRemoteHomeToLocalPath(a)??a,l=c??this.mapRemoteHomeToLocalPath(this.getWorkspaceRoot()),p=this.resolveOpenFilePath(u,l),d=que(p,this.hostConfig),f=n!=null;let m=n;if(!m){const _=await LO(),S=new Set(_);m=FO(this.globalState,l,S)}if(!m)throw new Error("No available open target");Wue({persistPreferredTargetPath:o,hasExplicitTarget:f,hasExistingPreference:o!=null&&Pue(this.globalState,o)})&&$O(this.globalState,o??null,m);const g=typeof r=="number"?{line:r,column:typeof i=="number"?i:1}:null;return d&&g==null&&!f&&Hue(m)&&(m="fileManager"),await Mue(m,p,g),{success:!0}}catch(a){return In().error("Failed to open file",{safe:{},sensitive:{error:a}}),{success:!1}}},"git-origins":async({dirs:e})=>{const n=e?.map(p=>p),r=Re.homedir(),i=Qt(this.globalState),s=Pn(this.globalState),o=i.length>0?i:s??[],a=n&&n.length>0?n:o??[],c=(await Promise.all(a.map(async p=>{try{const d=await this.gitManager.getWorktreeRepository(p,this.hostConfig);return d?.root?(await BK(d.root,this.hostConfig)).map(m=>m.root):[]}catch(d){return In().warning("[git-origins] failed to list worktrees for",{safe:{},sensitive:{dir:p,error:d}}),[]}}))).flat(),u=Array.from(new Set([...a,...c]));return{origins:await rF(u,this.gitManager,this.hostConfig),homeDir:r}},"git-push":async e=>r9(e,this.gitManager,this.hostConfig),"git-create-branch":async e=>YK(e,this.gitManager,this.hostConfig),"git-checkout-branch":e=>HK(e,this.hostConfig),"gh-cli-status":iF,"gh-pr-create":async e=>S9(e,this.gitManager,this.hostConfig),"gh-pr-status":e=>g9(e,this.gitManager,this.hostConfig),"git-merge-base":async({gitRoot:e,baseBranch:n})=>{const r=await this.resolveGitRootFromRequest(e);return!r||!n?{mergeBaseSha:null}:{mergeBaseSha:await $K(r,n,this.hostConfig)}},"prepare-worktree-snapshot":async({gitRoot:e,snapshotBranch:n})=>{if(!e)throw new Error("gitRoot is required");return a9(e,n??null,this.hostConfig)},"upload-worktree-snapshot":async({tarballPath:e,uploadUrl:n,contentLength:r,contentType:i})=>{try{return await c9({tarballPath:e,uploadUrl:n,contentLength:r,contentType:i}),{success:!0}}catch(s){return In().error("Failed to upload worktree snapshot",{safe:{},sensitive:{error:s}}),{success:!1}}},"confirm-trace-recording-start":async()=>({success:ZZ()}),"cancel-trace-recording-start":async()=>({success:XZ()}),"submit-trace-recording-details":async({note:e,conversationId:n})=>({success:QZ({note:e,conversationId:n})}),"set-vs-context":async()=>{throw new VO}};async pickFilesFromDialog({allowMultiple:e,title:n}){const r=await R.dialog.showOpenDialog({properties:["openFile",...e?["multiSelections"]:[]],title:n});if(r.canceled||r.filePaths.length===0)return[];const i=Ce(this.hostConfig);return r.filePaths.map(s=>({label:i.basename(s),path:s,fsPath:s}))}resolveOpenFilePath(e,n){const r=Ce(this.hostConfig),i=e.replace(/^([ab])[\\/]/,""),s=r.normalize(i);if(R9(s,r)||!n)return s;const o=s.split(/[\\/]+/).filter(Boolean);if(o.length===0)return n;const a=r.join(n,...o);if(Y.existsSync(a))return a;const c=r.basename(n),u=o.indexOf(c);if(u!==-1){const l=r.join(n,...o.slice(u+1));return Y.existsSync(l),l}return a}mapRemoteHomeToLocalPath(e){if(!e)return e??null;if(!Oe(this.hostConfig))return e;const n=this.hostConfig.home_dir;if(!n)return e;const r=Re.homedir();return e===n?r:e.startsWith(`${n}/`)?`${r}${e.slice(n.length)}`:e}getWorkspaceRoot(){const e=Pn(this.globalState)[0]??null;return e||(Qt(this.globalState)[0]??null??null)}async getSelectedGitRoot(){const e=Pn(this.globalState)[0];return e?(await this.gitManager.getWorktreeRepository(e,this.hostConfig))?.root??null:null}async resolveGitRootFromRequest(e){if(e){const n=e.trim();if(n.length>0){const i=(await this.gitManager.getWorktreeRepository(n,this.hostConfig))?.root;if(i)return i}}return this.getSelectedGitRoot()}handleVSCodeRequest(e,n,r){try{return this.handlers[n]({...r,origin:e})}catch(i){throw i instanceof VO?new Error(`${n} not implemented in Electron.`):i}}}function Xue(t){const e=Ce(t),n=R.app.getAppPath();if(R.app.isPackaged)return e.join(n,"skills");const r=e.join(n,"assets","skills");if(Y.existsSync(r))return r;const i=e.join(n,"..","assets","skills");return Y.existsSync(i)?i:null}const Jue=6,Que=new Set(["accounts","backend-api","by-repo","conversation","environments","account","announcement","data-controls","file-preview","first-run","general-settings","git-settings","local-environments","mcp-settings","open-source-licenses","personalization","plan-summary","select-workspace","settings","usage-analytics","worktree-init-v2","worktrees"]);function Fj(t){const e=t.length>0?t:"/";return e==="/"?"/":`/${e.split("/").filter(i=>i.length>0).map(i=>{let s=null;try{s=decodeURIComponent(i)}catch{s=null}const o=(s??i).toLowerCase();return o.length<=Jue||Que.has(o)?o:":param"}).join("/")}`}function ele(t,e){try{const n=new URL(e);if(n.protocol!=="http:"&&n.protocol!=="https:")return`${t} ${n.protocol}`;const r=Fj(n.pathname);return`${t} ${n.origin}${r}`}catch{return`${t} ${e}`}}function zO(t){if(!URL.canParse(t))return;const e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")return e.protocol;const n=Fj(e.pathname);return`${e.origin}${n}`}const mi=Le("electron-fetch-wrapper"),GO="vscode://codex/";class tle{constructor(e,n){this.fetchHandler=e,this.options=n,this.apiBaseUrl=this.resolveApiBaseUrl()}abortControllers=new Map;apiBaseUrl;async handleRequest(e,n){if(this.isVsCodeFetchRequest(n.url)){await this.handleVsCodeFetchRequest(e,n);return}const r=new AbortController;this.abortControllers.set(n.requestId,r);const i=this.ensureAbsoluteUrl(n.url),s=ele(n.method,i);await this.options.desktopSentry.startSpan({op:"codex.fetch",name:s},async()=>{try{const{headers:o,body:a}=this.prepareFetchInit(n),c=this.shouldAttachAuth(i,o),u=()=>{if(typeof a=="string")return a;if(a==null)return;const m=new Uint8Array(a.byteLength);return m.set(a),m.buffer},l=async m=>{const h=this.cloneHeaders(o);if(c){if(!m)throw new Error("Missing auth token");this.applyDesktopAuthHeaders(h,m)}return R.net.fetch(i,{method:n.method,headers:h,body:u(),signal:r.signal})};let p=null;if(c){try{p=await this.options.appServerConnection.getAuthToken({refreshToken:!1})}catch(m){mi().error("Failed to retrieve auth token",{safe:{},sensitive:{error:m}}),e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:432,error:"Failed to retrieve authentication token"});return}if(!p){e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:401,error:`Cannot fetch ${n.url} without ChatGPT auth.`});return}}mi().debug("Fetch",{safe:{target:s,body:n.body!=null?"<body-redacted>":"<no-body>"},sensitive:{}});let d=await l(p);if(c&&d.status===401){try{p=await this.options.appServerConnection.getAuthToken({refreshToken:!0})}catch(m){mi().error("Failed to refresh auth token",{safe:{},sensitive:{error:m}}),e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:401,error:"Failed to refresh authentication token"});return}if(!p){e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:401,error:`Cannot fetch ${n.url} without ChatGPT auth.`});return}d=await l(p)}const f={};if(d.headers.forEach((m,h)=>{f[h]=m}),d.ok){const m=d.headers.get("content-type")??"";let h="null";if(d.status!==204)if(m.includes("application/json")){const g=await d.text();try{h=JSON.stringify(JSON.parse(g))}catch(_){mi().debug("Failed to parse JSON response, falling back to text",{safe:{},sensitive:{text:g,error:_}}),h=JSON.stringify(g)}}else{const g=await d.arrayBuffer(),_=Buffer.from(g).toString("base64");h=JSON.stringify({base64:_,contentType:m})}e.send(this.options.messageChannel,{type:"fetch-response",responseType:"success",requestId:n.requestId,status:d.status,headers:f,bodyJsonString:h})}else{let m;try{const h=await d.text();h?m=h:m=d.statusText||`Request failed with status ${d.status}`}catch{m=d.statusText||`Request failed with status ${d.status}`}e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:d.status,error:m})}}catch(o){const a=o instanceof Error&&o.name==="AbortError";e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:a?499:500,error:o instanceof Error?o.message:"Unknown error"})}finally{this.abortControllers.delete(n.requestId)}})}cancelRequest(e){const n=this.abortControllers.get(e.requestId);n&&(n.abort(),this.abortControllers.delete(e.requestId))}handleStreamRequest(e,n){mi().warning("Fetch-stream not implemented, requestId",{safe:{requestId:n.requestId},sensitive:{}}),e.send(this.options.messageChannel,{type:"fetch-stream-error",requestId:n.requestId,error:"Streaming fetch is not implemented in the Electron shell."})}cancelStreamRequest(e){mi().debug("Cancel-fetch-stream received with requestId",{safe:{requestId:e.requestId},sensitive:{}})}prepareFetchInit(e){const n={};let r=e.body,i=!1;if(e.headers)for(const[s,o]of Object.entries(e.headers)){if(s.toLowerCase()==="x-codex-base64"){i=o==="1";continue}n[s]=o}if(i&&typeof r=="string")try{r=Buffer.from(r,"base64")}catch(s){mi().warning("Failed to decode base64 request body",{safe:{},sensitive:{body:r,error:s}})}if(!i&&typeof r=="string"&&!this.hasHeader(n,"Content-Type")){const s=r.trim();if(s.startsWith("{")||s.startsWith("["))try{JSON.parse(r),this.setHeader(n,"Content-Type","application/json")}catch{}}return{headers:n,body:r}}resolveApiBaseUrl(){const e=process.env.CODEX_API_BASE_URL;return e&&e.trim().length>0?e.replace(/\/+$/,""):(process.env.CODEX_API_ENDPOINT??"").toLowerCase()==="localhost"?this.options.devApiBaseUrl:this.options.prodApiBaseUrl}ensureAbsoluteUrl(e){return/^https?:\/\//i.test(e)||e.startsWith("data:")?e:`${this.apiBaseUrl}/${e.replace(/^\/+/,"")}`}cloneHeaders(e){const n={};for(const[r,i]of Object.entries(e))n[r]=i;return n}findHeaderKey(e,n){const r=n.toLowerCase();return Object.keys(e).find(i=>i.toLowerCase()===r)}hasHeader(e,n){return this.findHeaderKey(e,n)!=null}setHeader(e,n,r){const i=this.findHeaderKey(e,n);i&&delete e[i],e[n]=r}shouldAttachAuth(e,n){if(this.hasHeader(n,"authorization"))return!1;let r;try{r=new URL(e)}catch{return!1}if(r.protocol!=="http:"&&r.protocol!=="https:")return!1;const i=r.host.toLowerCase();return!!(i==="localhost"||i==="localhost:8000"||i==="openai.com"||i.endsWith(".openai.com")||i==="chatgpt.com"||i.endsWith(".chatgpt.com")&&!i.startsWith("ab."))}applyDesktopAuthHeaders(e,n){this.setHeader(e,"Authorization",`Bearer ${n}`);const r=this.extractChatGptAccountId(n);r&&!this.hasHeader(e,"ChatGPT-Account-Id")&&this.setHeader(e,"ChatGPT-Account-Id",r),this.hasHeader(e,"originator")||this.setHeader(e,"originator",this.options.desktopOriginator),this.hasHeader(e,"User-Agent")||this.setHeader(e,"User-Agent",this.buildDesktopUserAgent())}extractChatGptAccountId(e){const n=e.split(".");if(n.length<2)return null;try{const i=JSON.parse(Buffer.from(n[1],"base64url").toString("utf8"))["https://api.openai.com/auth"];if(i&&typeof i=="object"&&i!=null){const s=i.chatgpt_account_id;return typeof s=="string"?s:null}}catch{}return null}buildDesktopUserAgent(){return`Codex Desktop/${R.app.getVersion()} (${process.platform}; ${process.arch})`}isVsCodeFetchRequest(e){return e.startsWith(GO)}async handleVsCodeFetchRequest(e,n){const r=n.url.slice(GO.length);await this.options.desktopSentry.startSpan({op:"codex.vscode.request",name:r},async()=>{try{const i=await this.fetchHandler.handleVSCodeRequest(e,r,n.body?JSON.parse(n.body):void 0);e.send(this.options.messageChannel,{type:"fetch-response",responseType:"success",requestId:n.requestId,status:200,headers:{"content-type":"application/json"},bodyJsonString:JSON.stringify(i)})}catch(i){e.send(this.options.messageChannel,{type:"fetch-response",responseType:"error",requestId:n.requestId,status:432,error:i instanceof Error?i.message:"VS Code bridge request failed"})}})}}var hh,qO;function nle(){if(qO)return hh;qO=1;var t=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt;return hh=t,hh}var gh,HO;function Yp(){if(HO)return gh;HO=1;var t=nle(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return gh=n,gh}var _h,WO;function $j(){if(WO)return _h;WO=1;var t=Yp(),e=t.Symbol;return _h=e,_h}var vh,YO;function rle(){if(YO)return vh;YO=1;var t=$j(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var l=r.call(o);return u&&(a?o[i]=c:delete o[i]),l}return vh=s,vh}var Eh,KO;function ile(){if(KO)return Eh;KO=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Eh=n,Eh}var Sh,ZO;function sle(){if(ZO)return Sh;ZO=1;var t=$j(),e=rle(),n=ile(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return Sh=o,Sh}var bh,XO;function Bj(){if(XO)return bh;XO=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return bh=t,bh}var Th,JO;function ole(){if(JO)return Th;JO=1;var t=sle(),e=Bj(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var c=t(a);return c==r||c==i||c==n||c==s}return Th=o,Th}var yh,QO;function ale(){if(QO)return yh;QO=1;var t=Yp(),e=t["__core-js_shared__"];return yh=e,yh}var xh,e0;function cle(){if(e0)return xh;e0=1;var t=ale(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return xh=n,xh}var wh,t0;function ule(){if(t0)return wh;t0=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return wh=n,wh}var Ah,n0;function lle(){if(n0)return Ah;n0=1;var t=ole(),e=cle(),n=Bj(),r=ule(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,u=a.hasOwnProperty,l=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(d){if(!n(d)||e(d))return!1;var f=t(d)?l:s;return f.test(r(d))}return Ah=p,Ah}var Dh,r0;function ple(){if(r0)return Dh;r0=1;function t(e,n){return e?.[n]}return Dh=t,Dh}var Rh,i0;function nb(){if(i0)return Rh;i0=1;var t=lle(),e=ple();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Rh=n,Rh}var Ih,s0;function Kp(){if(s0)return Ih;s0=1;var t=nb(),e=t(Object,"create");return Ih=e,Ih}var Ch,o0;function dle(){if(o0)return Ch;o0=1;var t=Kp();function e(){this.__data__=t?t(null):{},this.size=0}return Ch=e,Ch}var Oh,a0;function fle(){if(a0)return Oh;a0=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Oh=t,Oh}var Nh,c0;function mle(){if(c0)return Nh;c0=1;var t=Kp(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return Nh=i,Nh}var kh,u0;function hle(){if(u0)return kh;u0=1;var t=Kp(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return kh=r,kh}var Ph,l0;function gle(){if(l0)return Ph;l0=1;var t=Kp(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Ph=n,Ph}var Mh,p0;function _le(){if(p0)return Mh;p0=1;var t=dle(),e=fle(),n=mle(),r=hle(),i=gle();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Mh=s,Mh}var Lh,d0;function vle(){if(d0)return Lh;d0=1;function t(){this.__data__=[],this.size=0}return Lh=t,Lh}var Uh,f0;function Ele(){if(f0)return Uh;f0=1;function t(e,n){return e===n||e!==e&&n!==n}return Uh=t,Uh}var Fh,m0;function Zp(){if(m0)return Fh;m0=1;var t=Ele();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Fh=e,Fh}var $h,h0;function Sle(){if(h0)return $h;h0=1;var t=Zp(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return $h=r,$h}var Bh,g0;function ble(){if(g0)return Bh;g0=1;var t=Zp();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Bh=e,Bh}var jh,_0;function Tle(){if(_0)return jh;_0=1;var t=Zp();function e(n){return t(this.__data__,n)>-1}return jh=e,jh}var Vh,v0;function yle(){if(v0)return Vh;v0=1;var t=Zp();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Vh=e,Vh}var zh,E0;function xle(){if(E0)return zh;E0=1;var t=vle(),e=Sle(),n=ble(),r=Tle(),i=yle();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,zh=s,zh}var Gh,S0;function wle(){if(S0)return Gh;S0=1;var t=nb(),e=Yp(),n=t(e,"Map");return Gh=n,Gh}var qh,b0;function Ale(){if(b0)return qh;b0=1;var t=_le(),e=xle(),n=wle();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return qh=r,qh}var Hh,T0;function Dle(){if(T0)return Hh;T0=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Hh=t,Hh}var Wh,y0;function Xp(){if(y0)return Wh;y0=1;var t=Dle();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wh=e,Wh}var Yh,x0;function Rle(){if(x0)return Yh;x0=1;var t=Xp();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Yh=e,Yh}var Kh,w0;function Ile(){if(w0)return Kh;w0=1;var t=Xp();function e(n){return t(this,n).get(n)}return Kh=e,Kh}var Zh,A0;function Cle(){if(A0)return Zh;A0=1;var t=Xp();function e(n){return t(this,n).has(n)}return Zh=e,Zh}var Xh,D0;function Ole(){if(D0)return Xh;D0=1;var t=Xp();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Xh=e,Xh}var Jh,R0;function Nle(){if(R0)return Jh;R0=1;var t=Ale(),e=Rle(),n=Ile(),r=Cle(),i=Ole();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Jh=s,Jh}var Qh,I0;function kle(){if(I0)return Qh;I0=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Qh=e,Qh}var eg,C0;function Ple(){if(C0)return eg;C0=1;function t(e){return this.__data__.has(e)}return eg=t,eg}var tg,O0;function Mle(){if(O0)return tg;O0=1;var t=Nle(),e=kle(),n=Ple();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,tg=r,tg}var ng,N0;function Lle(){if(N0)return ng;N0=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return ng=t,ng}var rg,k0;function Ule(){if(k0)return rg;k0=1;function t(e){return e!==e}return rg=t,rg}var ig,P0;function Fle(){if(P0)return ig;P0=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return ig=t,ig}var sg,M0;function $le(){if(M0)return sg;M0=1;var t=Lle(),e=Ule(),n=Fle();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return sg=r,sg}var og,L0;function Ble(){if(L0)return og;L0=1;var t=$le();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return og=e,og}var ag,U0;function jle(){if(U0)return ag;U0=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return ag=t,ag}var cg,F0;function Vle(){if(F0)return cg;F0=1;function t(e,n){return e.has(n)}return cg=t,cg}var ug,$0;function zle(){if($0)return ug;$0=1;var t=nb(),e=Yp(),n=t(e,"Set");return ug=n,ug}var lg,B0;function Gle(){if(B0)return lg;B0=1;function t(){}return lg=t,lg}var pg,j0;function jj(){if(j0)return pg;j0=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return pg=t,pg}var dg,V0;function qle(){if(V0)return dg;V0=1;var t=zle(),e=Gle(),n=jj(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return dg=i,dg}var fg,z0;function Hle(){if(z0)return fg;z0=1;var t=Mle(),e=Ble(),n=jle(),r=Vle(),i=qle(),s=jj(),o=200;function a(c,u,l){var p=-1,d=e,f=c.length,m=!0,h=[],g=h;if(l)m=!1,d=n;else if(f>=o){var _=u?null:i(c);if(_)return s(_);m=!1,d=r,g=new t}else g=u?[]:h;e:for(;++p<f;){var S=c[p],v=u?u(S):S;if(S=l||S!==0?S:0,m&&v===v){for(var T=g.length;T--;)if(g[T]===v)continue e;u&&g.push(v),h.push(S)}else d(g,v,l)||(g!==h&&g.push(v),h.push(S))}return h}return fg=a,fg}var mg,G0;function Wle(){if(G0)return mg;G0=1;var t=Hle();function e(n){return n&&n.length?t(n):[]}return mg=e,mg}var Yle=Wle();const q0=Bi(Yle);class Vj{constructor(e){this.webContents=e,this.id=e.id}id;send(e,n){this.webContents.send(e,n)}isDestroyed(){return this.webContents.isDestroyed()}onDestroyed(e){const n=()=>{e()};return this.webContents.once("destroyed",n),{dispose:()=>{this.webContents.removeListener("destroyed",n)}}}}const zj=Le("export-logs");function H0(t){return t.toString().padStart(2,"0")}function Kle(t,e){return B.join(t,e.getUTCFullYear().toString(),H0(e.getUTCMonth()+1),H0(e.getUTCDate()))}function Zle(t){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))}function Xle(t,e){return Array.from({length:e},(n,r)=>{const i=new Date(t);return i.setUTCDate(i.getUTCDate()-r),i})}function Jle(t,e){const n=Zle(t);switch(e){case"today":return[n];case"last7days":case"session":return Xle(n,7)}}function Qle(t,e,n){switch(t){case"today":case"last7days":return!0;case"session":return n.startsWith(`codex-desktop-${e}-`)}}async function epe(t){const e=Jle(t.now,t.scope);return(await Promise.all(e.map(async n=>{const r=Kle(t.rootDir,n);try{return(await Vn.readdir(r,{withFileTypes:!0})).filter(s=>s.isFile()&&Qle(t.scope,t.appSessionId,s.name)).map(s=>B.join(r,s.name))}catch(i){return zj().error("Failed to read log dir",{safe:{},sensitive:{dir:r,error:i}}),[]}}))).flat().sort()}function tpe(t,e){switch(t){case"today":return"codex-logs-today.txt";case"last7days":return"codex-logs-last7days.txt";case"session":return`codex-logs-session-${e.slice(0,8)}.txt`}}async function npe(t){const e={defaultPath:t.suggestedName,filters:[{name:"Text",extensions:["txt"]}]},n=t.parentWindow?await R.dialog.showSaveDialog(t.parentWindow,e):await R.dialog.showSaveDialog(e);return n.canceled||!n.filePath?null:B.extname(n.filePath).toLowerCase()===".txt"?n.filePath:`${n.filePath}.txt`}async function rpe(t){try{return await Vn.readFile(t,"utf8")}catch(e){return zj().error("Failed to read log file",{safe:{},sensitive:{error:e}}),""}}function ipe(t){const e=t.indexOf(" ");if(e<=0)return null;const n=t.slice(0,e),r=Date.parse(n);return Number.isFinite(r)?r:null}async function spe(t){const e=await Promise.all(t.sort().map(i=>rpe(i))),n=[];let r=0;for(const i of e)for(const s of i.split(/\r?\n/))s.length!==0&&(n.push({order:r,timestampMs:ipe(s),text:s}),r+=1);return n.sort((i,s)=>{const o=i.timestampMs,a=s.timestampMs;return o!=null&&a!=null?o-a||i.order-s.order:o!=null?-1:a!=null?1:i.order-s.order}),n.length>0?`${n.map(i=>i.text).join(`
`)}
`:""}async function ope(t){const e=new Date,n=QS(),r=await epe({rootDir:n,now:e,scope:t.scope,appSessionId:t.appSessionId}),i=await npe({parentWindow:t.parentWindow,suggestedName:tpe(t.scope,t.appSessionId)});if(!i)return;const s=await spe(r);await Vn.writeFile(i,s,"utf8")}const ape=3e4,cpe=5e3,upe=6e4;class lpe{constructor(e,n,r,i,s){this.hostId=e,this.windowManager=n,this.desktopSentry=r,this.electronSampler=i,this.options=s,setInterval(()=>{this.requestAppStateSnapshot("heartbeat")},ape).unref()}logger=Le("sampler-manager");appStateSnapshotRequestById=new hU({ttlMs:upe});appStateTriggerMinIntervalGate=new h6({minIntervalMs:cpe});handleRendererReady(e){this.requestAppStateSnapshot("heartbeat",e)}async handleMessage(e,n){switch(n.type){case"electron-app-state-snapshot-trigger":{this.requestAppStateSnapshot(n.reason,e);break}case"electron-app-state-snapshot-response":{await this.handleAppStateSnapshotResponse(e,n);break}}}async handleAppStateSnapshotResponse(e,n){const r=Cy.performance.now(),i=this.appStateSnapshotRequestById.get(n.requestId,r);if(!i||i.webContentsId!==e.id)return;this.appStateSnapshotRequestById.delete(n.requestId);const s=this.electronSampler.collectSnapshotFields(e),o={...n.fields,...s},a=this.options.getStdioIoStatsSnapshot();a!=null&&(o.app_server_stdio_bytes_read_total=a.bytesReadTotal,o.app_server_stdio_bytes_written_total=a.bytesWrittenTotal,o.app_server_stdio_bytes_read_last_30s=a.bytesReadLast30s,o.app_server_stdio_bytes_written_last_30s=a.bytesWrittenLast30s),this.logger().debug("app_state_snapshot",{safe:o,sensitive:{}}),this.desktopSentry.addBreadcrumb({category:"app_state",level:"info",message:"app_state_snapshot",data:o})}requestAppStateSnapshot(e,n){const r=Cy.performance.now();if(e!=="heartbeat"&&!this.appStateTriggerMinIntervalGate.canPass(r))return;const i=n==null?this.windowManager.getPrimaryWindow(this.hostId):null;if(e==="heartbeat"&&n==null&&i!=null&&!i.isFocused())return;const s=n??i?.webContents;if(!s||s.isDestroyed()||!this.windowManager.isWebContentsReady(s.id))return;this.appStateTriggerMinIntervalGate.mark(r);const o=Ke.randomUUID();this.appStateSnapshotRequestById.set(o,{webContentsId:s.id},r),this.windowManager.sendMessageToWebContents(s,{type:"electron-app-state-snapshot-request",requestId:o,reason:e})}}function Li(t){try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}}const ppe=800,dpe=600,fpe=1200,mpe=800,W0=400,Y0=400,Gj="review-open",Be=Le("electron-message-handler"),Bu=560,hpe=100,K0="New project",Z0=5e3,gpe={"thread-follower-start-turn":"thread-follower-start-turn-request","thread-follower-interrupt-turn":"thread-follower-interrupt-turn-request","thread-follower-set-model-and-reasoning":"thread-follower-set-model-and-reasoning-request","thread-follower-set-collaboration-mode":"thread-follower-set-collaboration-mode-request","thread-follower-command-approval-decision":"thread-follower-command-approval-decision-request","thread-follower-file-approval-decision":"thread-follower-file-approval-decision-request","thread-follower-submit-user-input":"thread-follower-submit-user-input-request","thread-follower-set-queued-follow-ups-state":"thread-follower-set-queued-follow-ups-state-request"};class _pe{constructor(e,n,r,i,s,o,a,c,u,l,p,d,f,m,h,g,_,S,v,T,y,b){this.hostId=e,this.windowManager=r,this.filePreviewManager=i,this.threadOverlayManager=s,this.mcpConnection=o,this.fetchWrapper=a,this.globalState=c,this.sharedObjectRepository=u,this.terminalManager=l,this.gitManager=p,this.desktopNotificationManager=d,this.errorReporter=f,this.desktopSentry=m,this.updateWorkerSentryUser=h,this.getIpcClientForWebContents=_,this.inboxManager=S,this.sparkleManager=y,this.host=n,this.addSshHost=g,this.sharedObjectRepository.addSubscriber((x,D)=>{this.sharedObjectSubscribers.get(x)?.forEach(U=>this.sendSharedObjectUpdate(U,x,D))}),this.datadogLogger=v,this.maxLogLevel=T,this.samplerManager=new lpe(this.hostId,this.windowManager,this.desktopSentry,b,{getStdioIoStatsSnapshot:()=>this.mcpConnection.getStdioIoStatsSnapshot()})}sharedObjectSubscribers=new Map;host;addSshHost;primaryWindowRestoreBounds=null;primaryWindowMode=null;datadogLogger;maxLogLevel;powerSaveBlockerId=null;powerSaveBlockingWebContentsIds=new Set;powerSaveTrackedWebContentsIds=new Set;pendingThreadFollowerStartTurnRequests=new Map;pendingThreadFollowerInterruptTurnRequests=new Map;pendingThreadFollowerSetModelAndReasoningRequests=new Map;pendingThreadFollowerSetCollaborationModeRequests=new Map;pendingThreadFollowerCommandApprovalDecisionRequests=new Map;pendingThreadFollowerFileApprovalDecisionRequests=new Map;pendingThreadFollowerSubmitUserInputRequests=new Map;pendingThreadFollowerSetQueuedFollowUpsStateRequests=new Map;pendingThreadRoleRequests=new Map;samplerManager;async handleMessage(e,n){switch(n.type){case"export-logs":{const r=R.BrowserWindow.fromWebContents(e);try{await ope({parentWindow:r,appSessionId:qi,scope:n.scope})}catch(i){Be().error("Failed to export logs",{safe:{},sensitive:{error:i}})}break}case"set-telemetry-user":{this.updateWorkerSentryUser(n.authMethod,n.userId,n.email);const r=n.authMethod==null?null:{id:n.userId??void 0,authMethod:n.authMethod};this.datadogLogger.setUserInfo(r),this.desktopSentry.setUser(r);break}case"ready":{this.windowManager.markWebContentsReady(e),this.filePreviewManager.handleRendererReady(e.id),this.threadOverlayManager.handleRendererReady(e.id),this.terminalManager.track(e),this.sendCustomPrompts(e).catch(r=>{this.errorReporter.reportNonFatal(r,{kind:"send-custom-prompts"})}),this.sendPersistedAtomState(e),e.send(Ye,{type:"app-update-ready-changed",isUpdateReady:this.sparkleManager.getIsUpdateReady()}),this.samplerManager.handleRendererReady(e),Be().info("Handled 'ready' message, sent ide-context-updated");break}case"power-save-blocker-set":{this.updatePowerSaveBlocker(e,n.shouldBlock);break}case"electron-set-window-mode":{this.setPrimaryWindowMode(e,n.mode);break}case"electron-request-microphone-permission":{if(process.platform!=="darwin")break;try{await R.systemPreferences.askForMediaAccess("microphone")}catch(r){Be().error("Microphone permission request failed",{safe:{},sensitive:{error:r}})}break}case"electron-add-ssh-host":{try{await this.addSshHost(n.host,n.openWindow)}catch(r){Be().error("Failed to add SSH host",{safe:{},sensitive:{error:r}})}break}case"inbox-item-set-read-state":{if(n.isRead){const r=Date.now();this.inboxManager?.markRead(n.id,r);break}this.inboxManager?.markUnread(n.id);break}case"inbox-items-create":{if(!this.inboxManager)break;const r=Date.now(),i=n.conversationId||n.turnId||Ke.randomUUID(),s=n.items.map((o,a)=>({id:n.items.length>1&&!o.id?`${i}-${a+1}`:o.id||i,automationId:null,automationName:null,title:o.title??null,description:o.description??null,archivedAssistantMessage:null,archivedUserMessage:null,archivedReason:null,sourceCwd:null,threadId:n.conversationId??null,readAt:null,createdAt:r,status:null}));this.inboxManager.persistAndNotify(s);break}case"archive-thread":{this.mcpConnection.registerArchiveThreadCwd(n.conversationId,n.cwd);break}case"unarchive-thread":{this.mcpConnection.registerUnarchiveThread(n.conversationId);break}case"thread-archived":{const r=this.getIpcClientForWebContents(e);if(r){await r.sendBroadcast("thread-archived",{conversationId:n.conversationId,cwd:n.cwd});break}this.windowManager.sendMessageToAllWindows(this.hostId,{type:"ipc-broadcast",method:"thread-archived",sourceClientId:"desktop",version:cs("thread-archived"),params:{conversationId:n.conversationId,cwd:n.cwd}});break}case"thread-unarchived":{const r=this.getIpcClientForWebContents(e);if(r){await r.sendBroadcast("thread-unarchived",{conversationId:n.conversationId});break}this.windowManager.sendMessageToAllWindows(this.hostId,{type:"ipc-broadcast",method:"thread-unarchived",sourceClientId:"desktop",version:cs("thread-unarchived"),params:{conversationId:n.conversationId}});break}case"thread-queued-followups-changed":{const r=this.getIpcClientForWebContents(e);if(r){await r.sendBroadcast("thread-queued-followups-changed",{conversationId:n.conversationId,messages:n.messages});break}this.windowManager.sendMessageToAllWindows(this.hostId,{type:"ipc-broadcast",method:"thread-queued-followups-changed",sourceClientId:"desktop",version:cs("thread-queued-followups-changed"),params:{conversationId:n.conversationId,messages:n.messages}});break}case"thread-stream-state-changed":{const r=this.getIpcClientForWebContents(e);if(r){await r.sendBroadcast("thread-stream-state-changed",n);break}const i={type:"ipc-broadcast",method:"thread-stream-state-changed",sourceClientId:"desktop",version:cs("thread-stream-state-changed"),params:{conversationId:n.conversationId,change:n.change}},s=this.windowManager.getHostIdForWebContents(e)??this.hostId,o=R.BrowserWindow.getAllWindows();let a=0,c=0,u=0,l=0,p=0,d=0;for(const f of o){if(f.isDestroyed()){c+=1;continue}if(a+=1,f.webContents.id===e.id){u+=1;continue}if(this.windowManager.getHostIdForWebContents(f.webContents)!==s){l+=1;continue}const h=this.threadOverlayManager.getOverlayConversationId(f.webContents.id);if(h&&h!==n.conversationId){p+=1;continue}this.windowManager.sendMessageToWindow(f,i),d+=1}Be().debug("thread_stream_broadcast_summary",{safe:{conversationId:n.conversationId,originWebcontentsId:e.id,candidateWindows:a,skippedDestroyed:c,skippedSelf:u,skippedOtherHost:l,skippedOverlayMismatch:p,sentCount:d,sentToIpcClient:!1},sensitive:{}});break}case"open-thread-overlay":{await this.threadOverlayManager.open(e,{conversationId:n.conversationId});break}case"thread-overlay-set-always-on-top":{this.threadOverlayManager.setAlwaysOnTop(e.id,n.shouldFloat);break}case"thread-follower-start-turn-response":{this.handleThreadFollowerStartTurnResponse(e,n);break}case"thread-follower-interrupt-turn-response":{this.handleThreadFollowerInterruptTurnResponse(e,n);break}case"thread-follower-set-model-and-reasoning-response":{this.handleThreadFollowerSetModelAndReasoningResponse(e,n);break}case"thread-follower-set-collaboration-mode-response":{this.handleThreadFollowerSetCollaborationModeResponse(e,n);break}case"thread-follower-command-approval-decision-response":{this.handleThreadFollowerCommandApprovalDecisionResponse(e,n);break}case"thread-follower-file-approval-decision-response":{this.handleThreadFollowerFileApprovalDecisionResponse(e,n);break}case"thread-follower-submit-user-input-response":{this.handleThreadFollowerSubmitUserInputResponse(e,n);break}case"thread-follower-set-queued-follow-ups-state-response":{this.handleThreadFollowerSetQueuedFollowUpsStateResponse(e,n);break}case"thread-role-response":{this.handleThreadRoleResponse(e,n);break}case"persisted-atom-sync-request":{this.sendPersistedAtomState(e);break}case"persisted-atom-update":{this.updatePersistedAtomState(n.key,n.deleted?void 0:n.value,e);break}case"persisted-atom-reset":{this.resetPersistedAtomState(e);break}case"codex-app-server-restart":{await this.mcpConnection.restart(),Be().info("Codex app-server restart requested");break}case"install-app-update":{this.sparkleManager.installUpdatesIfAvailable();break}case"open-debug-window":{await this.windowManager.openDebugWindow();break}case"toggle-trace-recording":{await u5();break}case"log-message":{const{level:r}=n;if(!uF(r,this.maxLogLevel))break;Be().log(r,n.message,n.tags);break}case"electron-app-state-snapshot-trigger":case"electron-app-state-snapshot-response":{await this.samplerManager.handleMessage(e,n);break}case"shared-object-subscribe":{const r=this.sharedObjectSubscribers.get(n.key)??new Set;r.add(e),this.sharedObjectSubscribers.set(n.key,r);const i=this.sharedObjectRepository.get(n.key);this.sendSharedObjectUpdate(e,n.key,i);break}case"shared-object-unsubscribe":{this.sharedObjectSubscribers.get(n.key)?.delete(e);break}case"shared-object-set":{this.sharedObjectRepository.set(n.key,n.value);break}case"mcp-request":{Be().debug("app_server.bridge_received",{safe:{messageType:"mcp-request",requestId:String(n.request.id),method:n.request.method,originWebcontentsId:e.id,originHostId:this.windowManager.getHostIdForWebContents(e)??this.hostId},sensitive:{}}),await this.mcpConnection.handleClientRequest(new Vj(e),n.request);break}case"mcp-notification":{Be().debug("app_server.bridge_received",{safe:{messageType:"mcp-notification",method:n.request.method,originWebcontentsId:e.id,originHostId:this.windowManager.getHostIdForWebContents(e)??this.hostId},sensitive:{}}),await this.mcpConnection.handleClientNotification(n.request);break}case"mcp-response":{Be().debug("app_server.bridge_received",{safe:{messageType:"mcp-response",requestId:String(n.response.id),originWebcontentsId:e.id,originHostId:this.windowManager.getHostIdForWebContents(e)??this.hostId},sensitive:{}}),await this.mcpConnection.handleClientResponse(n.response);break}case"fetch":{await this.fetchWrapper.handleRequest(e,n);break}case"cancel-fetch":{this.fetchWrapper.cancelRequest(n);break}case"fetch-stream":{this.fetchWrapper.handleStreamRequest(e,n);break}case"cancel-fetch-stream":{this.fetchWrapper.cancelStreamRequest(n);break}case"desktop-notification-show":{Be().info("[desktop-notifications] forward show",{safe:{notificationId:n.notification.id,kind:n.notification.kind},sensitive:{}}),this.desktopNotificationManager.showNotification(n.notification,e,r=>{e.isDestroyed()||(r.actionType==="open"&&this.focusNotificationOriginWindow(e),Be().info("[desktop-notifications] emit action",{safe:{notificationId:r.notificationId,actionType:r.actionType,actionId:r.actionId??"none"},sensitive:{}}),e.send(Ye,{type:"desktop-notification-action",notificationId:r.notificationId,actionId:r.actionId,actionType:r.actionType,conversationId:n.notification.conversationId??null,requestId:n.notification.requestId??null,reply:r.reply??null}))});break}case"desktop-notification-hide":{this.desktopNotificationManager.dismissByConversationId(n.conversationId??null);break}case"show-diff":{this.windowManager.sendMessageToWebContents(e,{type:"toggle-diff-panel",open:!0});break}case"show-plan-summary":break;case"update-diff-if-open":break;case"electron-add-new-workspace-root-option":{await this.addWorkspaceRootOption(e,!0,n.root);break}case"electron-pick-workspace-root-option":{await this.addWorkspaceRootOption(e,!1);break}case"electron-onboarding-skip-workspace":{await this.skipOnboardingWorkspace(e);break}case"electron-update-workspace-root-options":{const r=q0(n.roots);bi(this.globalState,r),ps(this.globalState,c=>{if(!c)return;const u={};return r.forEach(l=>{c[l]!==void 0&&(u[l]=c[l])}),u});const i=Pn(this.globalState);let o=i.filter(c=>r.includes(c));o.length===0&&r.length>0&&(o=[r[0]]),(i.length!==o.length||i.some((c,u)=>c!==o[u]))&&(ir(this.globalState,o),e.send(Ye,{type:"active-workspace-roots-updated"})),e.send(Ye,{type:"workspace-root-options-updated"});break}case"electron-rename-workspace-root-option":{const{root:r}=n,i=n.label.trim();if(!Qt(this.globalState).includes(r))break;ps(this.globalState,o=>{const a={...o??{}};return i?a[r]=i:delete a[r],a}),e.send(Ye,{type:"workspace-root-options-updated"});break}case"electron-set-active-workspace-root":{try{const r=n.root,i=Qt(this.globalState),s=i.includes(r)?i:[r,...i];ir(this.globalState,[r]),bi(this.globalState,s),ps(this.globalState,o=>({...o})),e.send(Ye,{type:"active-workspace-roots-updated"})}catch(r){Be().error("Failed to set active workspace root",{safe:{},sensitive:{error:r}})}break}case"open-in-browser":{const{url:r}=n;if(typeof r=="string"&&Li(r))try{await R.shell.openExternal(r)}catch(i){Be().error("Open-in-browser failed",{safe:{},sensitive:{error:i}})}else Be().warning("Open-in-browser received invalid url");break}case"electron-set-badge-count":{R.app.setBadgeCount(n.count);break}case"view-focused":break;case"electron-window-focus-request":{const r=R.BrowserWindow.fromWebContents(e);this.windowManager.sendMessageToWebContents(e,{type:"electron-window-focus-changed",isFocused:r?.isFocused()??!1});break}case"worker-request":case"worker-request-cancel":break;case"navigate-in-new-editor-tab":case"open-vscode-command":case"open-extension-settings":case"open-keyboard-shortcuts":case"open-config-toml":case"show-settings":case"install-wsl":throw new Error(`"${n.type}" is not implemented in Electron.`);case"terminal-create":case"terminal-attach":{await this.terminalManager.createOrAttach(e,n);break}case"terminal-write":{this.terminalManager.write(e,n.sessionId,n.data);break}case"terminal-resize":{this.terminalManager.resize(e,n.sessionId,n.cols,n.rows);break}case"terminal-close":{this.terminalManager.close(e,n.sessionId);break}}}setPrimaryWindowMode(e,n){const r=R.BrowserWindow.fromWebContents(e);if(!r||r.isDestroyed())return;const i=this.windowManager.getPrimaryWindow(this.hostId);if(!(!i||i.isDestroyed()||i.id!==r.id)&&this.primaryWindowMode!==n){if(this.primaryWindowMode=n,n==="onboarding"){this.primaryWindowRestoreBounds||(this.primaryWindowRestoreBounds={bounds:r.getNormalBounds(),wasMaximized:r.isMaximized(),wasFullScreen:r.isFullScreen()}),r.isFullScreen()&&r.setFullScreen(!1),r.isMaximized()&&r.unmaximize(),r.setResizable(!1),r.setMaximizable(!1),r.setFullScreenable(!1),r.setMinimumSize(Bu,Bu),r.setSize(Bu,Bu),r.center(),this.showPrimaryWindow(r);return}if(r.setResizable(!0),r.setMaximizable(!0),r.setFullScreenable(!0),this.primaryWindowRestoreBounds){const{bounds:s,wasMaximized:o,wasFullScreen:a}=this.primaryWindowRestoreBounds;this.primaryWindowRestoreBounds=null;const c=this.windowManager.getPrimaryMinimumSize(this.hostId),u={...s,width:Math.max(s.width,c.width),height:Math.max(s.height,c.height)};r.setBounds(u),o&&r.maximize(),a&&r.setFullScreen(!0)}this.windowManager.syncPrimaryMinimumSize(this.hostId),this.showPrimaryWindow(r)}}showPrimaryWindow(e){e.isVisible()||(e.show(),e.focus())}flushTelemetry(){this.datadogLogger.flushNow()}sendMessageToOrigin(e,n){this.windowManager.sendMessageToWebContents(e,n)}async getThreadRole(e,n){return new Promise((r,i)=>{const s=Ke.randomUUID(),o=setTimeout(()=>{this.pendingThreadRoleRequests.delete(s),i(new Error("thread-role-timeout"))},Z0);this.pendingThreadRoleRequests.set(s,{originId:e.id,resolve:r,reject:i,timeout:o});const a={type:"thread-role-request",requestId:s,conversationId:n};this.sendMessageToOrigin(e,a)})}forwardThreadFollowerRequest(e,n,r,i){return new Promise((s,o)=>{const a=setTimeout(()=>{r.delete(n.requestId),o(new Error(i))},Z0);r.set(n.requestId,{originId:e.id,resolve:s,reject:o,timeout:a});const c={type:gpe[n.method],requestId:n.requestId,params:n.params};this.sendMessageToOrigin(e,c)})}async handleThreadFollowerStartTurnRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerStartTurnRequests,"thread-follower-start-turn-timeout")}async handleThreadFollowerInterruptTurnRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerInterruptTurnRequests,"thread-follower-interrupt-turn-timeout")}async handleThreadFollowerSetModelAndReasoningRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerSetModelAndReasoningRequests,"thread-follower-set-model-and-reasoning-timeout")}async handleThreadFollowerSetCollaborationModeRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerSetCollaborationModeRequests,"thread-follower-set-collaboration-mode-timeout")}async handleThreadFollowerCommandApprovalDecisionRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerCommandApprovalDecisionRequests,"thread-follower-command-approval-decision-timeout")}async handleThreadFollowerFileApprovalDecisionRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerFileApprovalDecisionRequests,"thread-follower-file-approval-decision-timeout")}async handleThreadFollowerSubmitUserInputRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerSubmitUserInputRequests,"thread-follower-submit-user-input-timeout")}async handleThreadFollowerSetQueuedFollowUpsStateRequest(e,n){return this.forwardThreadFollowerRequest(e,n,this.pendingThreadFollowerSetQueuedFollowUpsStateRequests,"thread-follower-set-queued-follow-ups-state-timeout")}rejectPendingThreadFollowerActionRequestsForOrigin(e){for(const[n,r]of this.pendingThreadFollowerStartTurnRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerStartTurnRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerInterruptTurnRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerInterruptTurnRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerSetModelAndReasoningRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerSetModelAndReasoningRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerSetCollaborationModeRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerSetCollaborationModeRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerCommandApprovalDecisionRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerCommandApprovalDecisionRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerFileApprovalDecisionRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerFileApprovalDecisionRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerSubmitUserInputRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerSubmitUserInputRequests.delete(n));for(const[n,r]of this.pendingThreadFollowerSetQueuedFollowUpsStateRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadFollowerSetQueuedFollowUpsStateRequests.delete(n));for(const[n,r]of this.pendingThreadRoleRequests.entries())r.originId===e.id&&(clearTimeout(r.timeout),r.reject(new Error("webcontents-destroyed")),this.pendingThreadRoleRequests.delete(n))}handleThreadFollowerStartTurnResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerStartTurnRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower start-turn response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerStartTurnRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower start-turn response"));return}i.resolve(n.result)}handleThreadFollowerInterruptTurnResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerInterruptTurnRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower interrupt-turn response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerInterruptTurnRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower interrupt-turn response"));return}i.resolve(n.result)}handleThreadFollowerSetModelAndReasoningResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerSetModelAndReasoningRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower set-model-and-reasoning response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerSetModelAndReasoningRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower set-model-and-reasoning response"));return}i.resolve(n.result)}handleThreadFollowerSetCollaborationModeResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerSetCollaborationModeRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower set-collaboration-mode response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerSetCollaborationModeRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower set-collaboration-mode response"));return}i.resolve(n.result)}handleThreadFollowerCommandApprovalDecisionResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerCommandApprovalDecisionRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower command-approval response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerCommandApprovalDecisionRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower command-approval response"));return}i.resolve(n.result)}handleThreadFollowerFileApprovalDecisionResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerFileApprovalDecisionRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower file-approval response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerFileApprovalDecisionRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower file-approval response"));return}i.resolve(n.result)}handleThreadFollowerSubmitUserInputResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerSubmitUserInputRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower submit-user-input response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerSubmitUserInputRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower submit-user-input response"));return}i.resolve(n.result)}handleThreadFollowerSetQueuedFollowUpsStateResponse(e,n){const r=String(n.requestId),i=this.pendingThreadFollowerSetQueuedFollowUpsStateRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread follower queued-follow-ups response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadFollowerSetQueuedFollowUpsStateRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}if(!n.result){i.reject(new Error("Missing thread follower queued-follow-ups response"));return}i.resolve(n.result)}handleThreadRoleResponse(e,n){const r=String(n.requestId),i=this.pendingThreadRoleRequests.get(r);if(!i||i.originId!==e.id){Be().warning("Unknown thread role response requestId",{safe:{requestId:r},sensitive:{}});return}if(this.pendingThreadRoleRequests.delete(r),clearTimeout(i.timeout),n.error){i.reject(new Error(n.error));return}i.resolve(n.role)}sendPersistedAtomState(e){const n=this.globalState.get("electron-persisted-atom-state")??{};this.sendMessageToView(e,{type:"persisted-atom-sync",state:n})}updatePersistedAtomState(e,n,r){const s={...this.globalState.get("electron-persisted-atom-state")??{}};n===void 0?delete s[e]:s[e]=n,this.globalState.set("electron-persisted-atom-state",s),this.broadcastPersistedAtomUpdate(e,n,r),e===Gj&&this.windowManager.syncPrimaryMinimumSize(this.hostId)}broadcastPersistedAtomUpdate(e,n,r){const i=n===void 0;this.windowManager.sendMessageToAllWindows(this.hostId,{type:"persisted-atom-updated",key:e,value:i?null:n,deleted:i})}resetPersistedAtomState(e){this.globalState.set("electron-persisted-atom-state",{}),this.windowManager.sendMessageToAllWindows(this.hostId,{type:"persisted-atom-sync",state:{}})}async skipOnboardingWorkspace(e){let n=null;try{n=await this.getSkipWorkspaceRoot(),await ve.mkdir(n,{recursive:!0},this.host),await this.initializeSkipWorkspace(n);const r=Qt(this.globalState),i=q0([n,...r]);bi(this.globalState,i),ps(this.globalState,s=>({...s})),ir(this.globalState,[n]),e.send(Ye,{type:"workspace-root-options-updated"}),e.send(Ye,{type:"active-workspace-roots-updated"}),e.send(Ye,{type:"electron-onboarding-skip-workspace-result",success:!0,root:n}),e.send(Ye,{type:"navigate-to-route",path:"/",state:{focusComposerNonce:Date.now()}})}catch(r){Be().error("Failed to skip onboarding workspace selection",{safe:{},sensitive:{error:r}});const i=r instanceof Error?r.message:String(r);e.send(Ye,{type:"electron-onboarding-skip-workspace-result",success:!1,root:n??void 0,error:i})}}async getSkipWorkspaceRoot(){if(Oe(this.host))throw new Error("Skipping onboarding workspace selection is only supported for local hosts");const e=R.app.getPath("documents");return this.findAvailableSkipWorkspaceRoot(e,void 0)}async findAvailableSkipWorkspaceRoot(e,n){const r=Ce(this.host),i=n==null?K0:`${K0} ${n}`,s=r.join(e,i);if(!await this.folderExists(s))return s;const o=n==null?2:n+1;return this.findAvailableSkipWorkspaceRoot(e,o)}async folderExists(e){try{return await ve.stat(e,this.host),!0}catch{return!1}}async initializeSkipWorkspace(e){const n=await pe(e,["init"],this.host);if(n.success){this.gitManager.invalidateStableMetadata();return}const r=n.stderr||n.stdout||"Failed to run git init";throw new Error(r)}async addWorkspaceRootOption(e,n=!0,r){if(this.host.id!==ft){this.windowManager.sendMessageToWebContents(e,{type:"remote-workspace-root-requested",mode:n?"add":"pick",host:this.host.display_name,setActive:n?!0:void 0});return}let i=null;if(r)i=await this.resolveWorkspaceRoot(r);else{const o=["openDirectory","createDirectory"];await this.shouldShowHiddenFilesInPicker()&&o.push("showHiddenFiles");const c=await R.dialog.showOpenDialog({properties:o,title:"Select Project Root"}),u=c.filePaths?.[0];!c.canceled&&u&&(i=await this.resolveWorkspaceRoot(u))}if(i==null)return;if(!n){e.send(Ye,{type:"workspace-root-option-picked",root:i});return}const s=Qt(this.globalState);s.includes(i)||(bi(this.globalState,[i,...s]),e.send(Ye,{type:"workspace-root-options-updated"})),ir(this.globalState,[i]),e.send(Ye,{type:"active-workspace-roots-updated"}),e.send(Ye,{type:"navigate-to-route",path:"/",state:{focusComposerNonce:Date.now()}})}async resolveWorkspaceRoot(e){try{return(await Vn.stat(e)).isDirectory()?B.resolve(e):null}catch(n){return Be().warning("Failed to stat workspace root",{safe:{},sensitive:{error:n}}),null}}async shouldShowHiddenFilesInPicker(){return await this.readHiddenFilesPreference()??!1}async readHiddenFilesPreference(){return process.platform==="darwin"?this.readMacHiddenFilesPreference():null}async readMacHiddenFilesPreference(){const e=await this.readCommandOutput(["defaults","read","com.apple.finder","AppleShowAllFiles"]);if(e==null)return null;const n=e.trim().toLowerCase();return n==="1"||n==="true"||n==="yes"?!0:n==="0"||n==="false"||n==="no"?!1:null}async readCommandOutput(e){const n=new AbortController;let r=!1;const i=setTimeout(()=>{r=!0,n.abort()},hpe);try{const s=Vc({args:e,signal:n.signal}),{stdout:o,code:a}=await s.wait();return r||a!==0?null:o}catch(s){return r||Be().warning("Failed to read hidden files preference",{safe:{},sensitive:{error:s}}),null}finally{clearTimeout(i)}}focusNotificationOriginWindow(e){const r=this.windowManager.getPrimaryWindow(this.hostId)??R.BrowserWindow.fromWebContents(e);!r||r.isDestroyed()||(r.isMinimized()&&r.restore(),r.show(),r.focus())}updatePowerSaveBlocker(e,n){const r=e.id;this.powerSaveTrackedWebContentsIds.has(r)||(this.powerSaveTrackedWebContentsIds.add(r),e.once("destroyed",()=>{this.powerSaveTrackedWebContentsIds.delete(r),this.powerSaveBlockingWebContentsIds.delete(r),this.syncPowerSaveBlocker()})),n?this.powerSaveBlockingWebContentsIds.add(r):this.powerSaveBlockingWebContentsIds.delete(r),this.syncPowerSaveBlocker()}syncPowerSaveBlocker(){const e=this.powerSaveBlockingWebContentsIds.size>0;if(e&&this.powerSaveBlockerId==null){this.powerSaveBlockerId=R.powerSaveBlocker.start("prevent-app-suspension");return}!e&&this.powerSaveBlockerId!=null&&(R.powerSaveBlocker.stop(this.powerSaveBlockerId),this.powerSaveBlockerId=null)}async sendCustomPrompts(e){const n=await Y9();this.sendMessageToView(e,{type:"custom-prompts-updated",prompts:n})}sendMessageToView(e,n){e.isDestroyed()||e.send(Ye,n)}sendSharedObjectUpdate(e,n,r){e.isDestroyed()||this.sendMessageToView(e,{type:"shared-object-updated",key:n,value:r})}}const vpe=Le("electron-sampler");class Epe{constructor(e){this.options=e}collectSnapshotFields(e){const n=process.memoryUsage(),r={main_process_rss_bytes:n.rss,main_process_heap_total_bytes:n.heapTotal,main_process_heap_used_bytes:n.heapUsed,main_process_external_bytes:n.external,main_process_array_buffers_bytes:n.arrayBuffers,system_free_memory_bytes:Re.freemem(),renderer_webcontents_id:e.id},i=e.getOSProcessId();try{const o=R.app.getAppMetrics().find(c=>c.pid===process.pid),a=R.app.getAppMetrics().find(c=>c.pid===i);o&&this.addMainProcessFields(r,o),a&&this.addRendererMemoryFields(r,a)}catch(o){vpe().warning("Failed to collect renderer process memory snapshot",{safe:{},sensitive:{error:o}})}const s=this.options.gitWorkerInvocationSampler.getSnapshot();return r.git_worker_invocations_total=s.totalInvocations,r.git_worker_invocations_last_30s=s.invocationsLast30s,r}addMainProcessFields(e,n){const r=n.cpu;r&&"percentCPUUsage"in r&&(e.main_process_cpu_percent=r.percentCPUUsage)}addRendererMemoryFields(e,n){const r=n.cpu;r&&"percentCPUUsage"in r&&(e.renderer_process_cpu_percent=r.percentCPUUsage);const i=n.memory;i&&("workingSetSize"in i&&(e.renderer_process_working_set_kb=i.workingSetSize),"peakWorkingSetSize"in i&&(e.renderer_process_peak_working_set_kb=i.peakWorkingSetSize),"privateBytes"in i&&(e.renderer_process_private_bytes_kb=i.privateBytes),"sharedBytes"in i&&(e.renderer_process_shared_bytes_kb=i.sharedBytes))}}function Spe(t){let i="";for(let s=0;s<t.length;){if(t[s]!=="\x1B"){i+=t[s],s+=1;continue}const o=t[s+1];if(o==="["){let a=s+2;for(;a<t.length;){const u=t[a];if(u>="@"&&u<="~")break;a+=1}if(a>=t.length){i+=t.slice(s);break}if(t[a]==="n"){s=a+1;continue}i+=t.slice(s,a+1),s=a+1;continue}if(o==="]"){let a=s+2,c=0,u=-1;for(;a<t.length;){if(t[a]==="\x07"){u=a,c=1;break}if(t.startsWith("\x1B\\",a)){u=a,c=2;break}a+=1}if(u===-1){i+=t.slice(s);break}const l=t.slice(s+2,u);if(/^\d+;\?$/.test(l)){s=u+c;continue}i+=t.slice(s,u+c),s=u+c;continue}i+=t[s],s+=1}return i}const bpe="xterm-256color";class Tpe{constructor(e,n,r){this.windowManager=e,this.globalState=n,this.terminalCommand=r??null}sessions=new Map;sessionsByConversation=new Map;trackedOrigins=new Set;terminalCommand;track(e){this.trackedOrigins.has(e.id)||(this.trackedOrigins.add(e.id),e.once("destroyed",()=>{this.trackedOrigins.delete(e.id),this.cleanupForOrigin(e.id)}))}async createOrAttach(e,n){const r=this.getExistingSessionId(n);return r?this.attach(e,r,{nextSessionId:n.sessionId,conversationId:n.conversationId,cwd:n.cwd,forceCwdSync:n.forceCwdSync,cols:n.cols,rows:n.rows}):this.create(e,n)}write(e,n,r){const i=this.sessions.get(n);if(!i){this.sendError(e,n,"Session missing");return}if(i.ownerId!==e.id){this.sendError(e,n,"Session owned by another window");return}this.performPtyAction({origin:e,session:i,sessionId:n,action:()=>{i.pty.write(r)}})}resize(e,n,r,i){const s=this.sessions.get(n);if(!s){this.sendError(e,n,"Session missing");return}if(s.ownerId!==e.id){this.sendError(e,n,"Session owned by another window");return}this.performPtyAction({origin:e,session:s,sessionId:n,action:()=>{s.pty.resize(r,i)}})}close(e,n){const r=this.sessions.get(n);if(r){if(r.ownerId!==e.id){this.sendError(e,n,"Session owned by another window");return}this.destroySession(r,{code:null,signal:null})}}appendOutput(e,n){const r=this.sessions.get(e);r&&(r.buffer=`${r.buffer}${n}`.slice(-16e3),r.attached&&this.send(r.owner,{type:"terminal-data",sessionId:r.id,data:n}))}closeSession(e){const n=this.sessions.get(e);n&&this.destroySession(n,{code:null,signal:null})}associateConversation(e,n){const r=this.sessions.get(e);r&&(r.conversationId=n,this.sessionsByConversation.set(String(n),e))}async create(e,n){const r=n.sessionId??Ke.randomUUID(),i=this.resolveRequestedCwd(n.cwd),s=this.resolveLocalCwd(i),o=this.resolveShell(),a=this.terminalCommand&&this.terminalCommand.length>0?this.terminalCommand:[o],[c,...u]=a,l=this.buildTerminalEnv();try{const{spawn:p}=await import("node-pty"),d=p(c,u,{cols:n.cols??80,rows:n.rows??24,cwd:s,env:l}),f=a.join(" "),m={id:r,pty:d,owner:e,ownerId:e.id,buffer:"",cwd:i,shell:f,attached:!1,conversationId:n.conversationId,preserveOnOwnerDestroy:n.preserveOnOwnerDestroy??!1};return this.sessions.set(r,m),n.conversationId&&this.sessionsByConversation.set(String(n.conversationId),r),this.bindSessionEvents(m),i!==s&&this.seedShellCwd(m,i),this.flushInit(m),this.sendAttached(m),r}catch(p){return this.sendError(e,r,String(p)),null}}async attach(e,n,r){const i=this.sessions.get(n);if(!i)return this.sendError(e,n,"Session missing"),null;const s=i.owner.isDestroyed(),o=r.conversationId&&i.conversationId&&String(r.conversationId)===String(i.conversationId);if(s||o)i.owner=e,i.ownerId=e.id;else if(i.ownerId!==e.id)return this.sendError(e,n,"Session owned by another window"),null;if(r.conversationId&&(i.conversationId=r.conversationId,this.sessionsByConversation.set(String(r.conversationId),i.id)),r.cols&&r.rows&&i.pty.resize(r.cols,r.rows),r.forceCwdSync&&r.cwd){const a=this.resolveRequestedCwd(r.cwd);Y.existsSync(a)&&(i.cwd=a,this.seedShellCwd(i,a))}return r.nextSessionId&&r.nextSessionId!==i.id&&this.rekeySession(i,r.nextSessionId),r.preserveOnOwnerDestroy!=null&&(i.preserveOnOwnerDestroy=r.preserveOnOwnerDestroy),this.flushInit(i),this.sendAttached(i),i.id}bindSessionEvents(e){e.pty.onData(n=>{e.buffer=`${e.buffer}${n}`.slice(-16e3),e.attached&&this.send(e.owner,{type:"terminal-data",sessionId:e.id,data:n})}),e.pty.onExit(({exitCode:n,signal:r})=>{this.destroySession(e,{code:n,signal:r??null})})}destroySession(e,n){if(this.sessions.get(e.id)!==e)return;this.sessions.delete(e.id),e.conversationId&&this.sessionsByConversation.delete(String(e.conversationId));try{e.pty.kill()}catch(i){e.owner.isDestroyed()||this.sendError(e.owner,e.id,String(i))}const r={type:"terminal-exit",sessionId:e.id,code:n?.code??null,signal:n?.signal??null};e.owner.isDestroyed()||this.send(e.owner,r)}performPtyAction(e){try{e.action()}catch(n){this.sendError(e.origin,e.sessionId,String(n)),this.destroySession(e.session,{code:null,signal:null})}}flushInit(e){if(e.buffer.length>0){const n=Spe(e.buffer);this.send(e.owner,{type:"terminal-init-log",sessionId:e.id,log:n})}e.attached=!0}sendAttached(e){this.send(e.owner,{type:"terminal-attached",sessionId:e.id,cwd:e.cwd,shell:e.shell})}send(e,n){this.windowManager.sendMessageToWebContents(e,n)}sendError(e,n,r){this.windowManager.sendMessageToWebContents(e,{type:"terminal-error",sessionId:n,message:r})}resolveRequestedCwd(e){if(e)return e;const n=Pn(this.globalState);return n[0]?n[0]:process.cwd()}resolveLocalCwd(e){return Y.existsSync(e)?e:process.cwd()}seedShellCwd(e,n){e.pty.write(`cd ${Ct(n)}
`)}getExistingSessionId(e){if(e.sessionId&&this.sessions.has(e.sessionId))return e.sessionId;if(e.conversationId){const n=this.sessionsByConversation.get(String(e.conversationId));if(n)return n}}cleanupForOrigin(e){for(const n of Array.from(this.sessions.values()))if(n.ownerId===e){if(n.conversationId||n.preserveOnOwnerDestroy){n.attached=!1;continue}this.destroySession(n,{code:null,signal:null})}}rekeySession(e,n){this.sessions.get(e.id)===e&&(this.sessions.delete(e.id),e.id=n,this.sessions.set(n,e),e.conversationId&&this.sessionsByConversation.set(String(e.conversationId),n))}resolveShell(){return process.platform==="win32"?process.env.COMSPEC||"cmd.exe":process.env.SHELL||"/bin/bash"}buildTerminalEnv(){const e={...process.env};return process.platform==="win32"||(e.TERM=bpe,delete e.TERMINFO,delete e.TERMINFO_DIRS),e}}class ype{hostId;host;appServerConnection;messageHandler;sharedObjectRepository;fetchHandler;errorReporter;ipcClientsByWebContentsId=new Map;constructor(e){this.host=e.host,this.hostId=e.host.id,this.errorReporter=e.errorReporter;const n=e.globalState;this.sharedObjectRepository=new sZ,this.sharedObjectRepository.set("host_config",e.host),this.appServerConnection=new Gce(e.messageChannel,{repoRoot:e.repoRoot,errorReporter:e.errorReporter,desktopSentry:e.desktopSentry,sharedObjectRepository:this.sharedObjectRepository,globalState:n,hostId:this.hostId,threadOverlayManager:e.threadOverlayManager,gitManager:e.gitManager,transport:xpe({hostConfig:e.host,repoRoot:e.repoRoot,resourcesPath:process.resourcesPath}),hostProcess:e.hostProcess}),this.fetchHandler=new Zue(n,o=>this.getRegisteredWindowIpcClient(o),this.appServerConnection,e.gitManager,this.host);const r=new tle(this.fetchHandler,{desktopOriginator:e.desktopOriginator,devApiBaseUrl:e.devApiBaseUrl,messageChannel:e.messageChannel,appServerConnection:this.appServerConnection,repoRoot:e.repoRoot,prodApiBaseUrl:e.prodApiBaseUrl,desktopSentry:e.desktopSentry}),i=new Tpe(e.windowManager,n,e.host.terminal_command??null),s=new Epe({gitWorkerInvocationSampler:e.gitWorkerInvocationSampler});this.messageHandler=new _pe(this.hostId,e.host,e.windowManager,e.filePreviewManager,e.threadOverlayManager,this.appServerConnection,r,n,this.sharedObjectRepository,i,e.gitManager,e.desktopNotificationManager,e.errorReporter,e.desktopSentry,e.updateWorkerSentryUser,e.addSshHost,o=>this.getRegisteredWindowIpcClient(o),e.inboxManager,e.datadogLogger,e.maxLogLevel,e.sparkleManager,s)}registerWindow(e){this.appServerConnection.registerWebviewWindow(new Vj(e.webContents)),this.registerIpcClientForWebContents(e.webContents)}handleMessage(e,n){return this.messageHandler.handleMessage(e,n)}flushTelemetry(){this.messageHandler.flushTelemetry()}dispose(){for(const{dispose:e}of this.ipcClientsByWebContentsId.values())e();this.ipcClientsByWebContentsId.clear()}getMessageHandler(){return this.messageHandler}getSharedObject(e){return this.sharedObjectRepository.get(e)}registerIpcClientForWebContents(e){if(this.ipcClientsByWebContentsId.has(e.id))return;const n=new cF("desktop",this.errorReporter),r=new jE;r.add(n.addAnyBroadcastHandler(async o=>{const a={...o,type:"ipc-broadcast"};this.messageHandler.sendMessageToOrigin(e,a)}));const i=async o=>await this.messageHandler.getThreadRole(e,o.conversationId)==="owner";r.add(n.addRequestHandler("thread-follower-start-turn",i,async o=>this.messageHandler.handleThreadFollowerStartTurnRequest(e,o))),r.add(n.addRequestHandler("thread-follower-interrupt-turn",i,async o=>this.messageHandler.handleThreadFollowerInterruptTurnRequest(e,o))),r.add(n.addRequestHandler("thread-follower-set-model-and-reasoning",i,async o=>this.messageHandler.handleThreadFollowerSetModelAndReasoningRequest(e,o))),r.add(n.addRequestHandler("thread-follower-set-collaboration-mode",i,async o=>this.messageHandler.handleThreadFollowerSetCollaborationModeRequest(e,o))),r.add(n.addRequestHandler("thread-follower-command-approval-decision",i,async o=>this.messageHandler.handleThreadFollowerCommandApprovalDecisionRequest(e,o))),r.add(n.addRequestHandler("thread-follower-file-approval-decision",i,async o=>this.messageHandler.handleThreadFollowerFileApprovalDecisionRequest(e,o))),r.add(n.addRequestHandler("thread-follower-submit-user-input",i,async o=>this.messageHandler.handleThreadFollowerSubmitUserInputRequest(e,o))),r.add(n.addRequestHandler("thread-follower-set-queued-follow-ups-state",i,async o=>this.messageHandler.handleThreadFollowerSetQueuedFollowUpsStateRequest(e,o))),r.add(()=>n.dispose());const s=()=>{r.dispose(),this.messageHandler.rejectPendingThreadFollowerActionRequestsForOrigin(e)};this.ipcClientsByWebContentsId.set(e.id,{client:n,dispose:s}),e.once("destroyed",()=>{this.disposeIpcClientForWebContents(e)})}disposeIpcClientForWebContents(e){const n=this.ipcClientsByWebContentsId.get(e.id);n&&(this.ipcClientsByWebContentsId.delete(e.id),n.dispose())}getRegisteredWindowIpcClient(e){return this.ipcClientsByWebContentsId.get(e.id)?.client??null}}function xpe(t){const e=f3(t.hostConfig);return e?new d3({hostConfig:t.hostConfig,websocketUrl:e}):new WU({hostConfig:t.hostConfig,repoRoot:t.repoRoot,resourcesPath:t.resourcesPath,defaultOriginator:t.defaultOriginator})}function wpe(t){return Number.isInteger(t)?t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141):!1}const hg=10,X0=(t=0)=>e=>`\x1B[${e+t}m`,J0=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,Q0=(t=0)=>(e,n,r)=>`\x1B[${38+t};2;${e};${n};${r}m`,We={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(We.modifier);const Ape=Object.keys(We.color),Dpe=Object.keys(We.bgColor);[...Ape,...Dpe];function Rpe(){const t=new Map;for(const[e,n]of Object.entries(We)){for(const[r,i]of Object.entries(n))We[r]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},n[r]=We[r],t.set(i[0],i[1]);Object.defineProperty(We,e,{value:n,enumerable:!1})}return Object.defineProperty(We,"codes",{value:t,enumerable:!1}),We.color.close="\x1B[39m",We.bgColor.close="\x1B[49m",We.color.ansi=X0(),We.color.ansi256=J0(),We.color.ansi16m=Q0(),We.bgColor.ansi=X0(hg),We.bgColor.ansi256=J0(hg),We.bgColor.ansi16m=Q0(hg),Object.defineProperties(We,{rgbToAnsi256:{value(e,n,r){return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},enumerable:!1},hexToRgb:{value(e){const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(s=>s+s).join(""));const i=Number.parseInt(r,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>We.rgbToAnsi256(...We.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,r,i;if(e>=232)n=((e-232)*10+8)/255,r=n,i=n;else{e-=16;const a=e%36;n=Math.floor(e/36)/5,r=Math.floor(a/6)/5,i=a%6/5}const s=Math.max(n,r,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(r)<<1|Math.round(n));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>We.ansi256ToAnsi(We.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>We.ansi256ToAnsi(We.hexToAnsi256(e)),enumerable:!1}}),We}const eN=Rpe(),Ipe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]$/,qj=["\x1B",""],ju=t=>`${qj[0]}[${t}m`,tN=(t,e,n)=>{let r=[];t=[...t];for(let i of t){const s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");const o=eN.codes.get(Number.parseInt(i,10));if(o){const a=t.indexOf(o.toString());a===-1?r.push(ju(e?o:s)):t.splice(a,1)}else if(e){r.push(ju(0));break}else r.push(ju(s))}if(e&&(r=r.filter((i,s)=>r.indexOf(i)===s),n!==void 0)){const i=ju(eN.codes.get(Number.parseInt(n,10)));r=r.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return r.join("")};function yr(t,e,n){const r=[...t],i=[];let s=typeof n=="number"?n:r.length,o=!1,a,c=0,u="";for(const[l,p]of r.entries()){let d=!1;if(qj.includes(p)){const f=/\d[^m]*/.exec(t.slice(l,l+18));a=f&&f.length>0?f[0]:void 0,c<s&&(o=!0,a!==void 0&&i.push(a))}else o&&p==="m"&&(o=!1,d=!0);if(!o&&!d&&c++,!Ipe.test(p)&&wpe(p.codePointAt())&&(c++,typeof n!="number"&&s++),c>e&&c<=s)u+=p;else if(c===e&&!o&&a!==void 0)u=tN(i);else if(c>=s){u+=tN(i,!0,a);break}}return u}function Cpe({onlyFirst:t=!1}={}){const i="(?:\\u001B\\][\\s\\S]*?(?:\\u0007|\\u001B\\u005C|\\u009C))|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]";return new RegExp(i,t?void 0:"g")}const Ope=Cpe();function Npe(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(Ope,"")}function kpe(t){return t===161||t===164||t===167||t===168||t===170||t===173||t===174||t>=176&&t<=180||t>=182&&t<=186||t>=188&&t<=191||t===198||t===208||t===215||t===216||t>=222&&t<=225||t===230||t>=232&&t<=234||t===236||t===237||t===240||t===242||t===243||t>=247&&t<=250||t===252||t===254||t===257||t===273||t===275||t===283||t===294||t===295||t===299||t>=305&&t<=307||t===312||t>=319&&t<=322||t===324||t>=328&&t<=331||t===333||t===338||t===339||t===358||t===359||t===363||t===462||t===464||t===466||t===468||t===470||t===472||t===474||t===476||t===593||t===609||t===708||t===711||t>=713&&t<=715||t===717||t===720||t>=728&&t<=731||t===733||t===735||t>=768&&t<=879||t>=913&&t<=929||t>=931&&t<=937||t>=945&&t<=961||t>=963&&t<=969||t===1025||t>=1040&&t<=1103||t===1105||t===8208||t>=8211&&t<=8214||t===8216||t===8217||t===8220||t===8221||t>=8224&&t<=8226||t>=8228&&t<=8231||t===8240||t===8242||t===8243||t===8245||t===8251||t===8254||t===8308||t===8319||t>=8321&&t<=8324||t===8364||t===8451||t===8453||t===8457||t===8467||t===8470||t===8481||t===8482||t===8486||t===8491||t===8531||t===8532||t>=8539&&t<=8542||t>=8544&&t<=8555||t>=8560&&t<=8569||t===8585||t>=8592&&t<=8601||t===8632||t===8633||t===8658||t===8660||t===8679||t===8704||t===8706||t===8707||t===8711||t===8712||t===8715||t===8719||t===8721||t===8725||t===8730||t>=8733&&t<=8736||t===8739||t===8741||t>=8743&&t<=8748||t===8750||t>=8756&&t<=8759||t===8764||t===8765||t===8776||t===8780||t===8786||t===8800||t===8801||t>=8804&&t<=8807||t===8810||t===8811||t===8814||t===8815||t===8834||t===8835||t===8838||t===8839||t===8853||t===8857||t===8869||t===8895||t===8978||t>=9312&&t<=9449||t>=9451&&t<=9547||t>=9552&&t<=9587||t>=9600&&t<=9615||t>=9618&&t<=9621||t===9632||t===9633||t>=9635&&t<=9641||t===9650||t===9651||t===9654||t===9655||t===9660||t===9661||t===9664||t===9665||t>=9670&&t<=9672||t===9675||t>=9678&&t<=9681||t>=9698&&t<=9701||t===9711||t===9733||t===9734||t===9737||t===9742||t===9743||t===9756||t===9758||t===9792||t===9794||t===9824||t===9825||t>=9827&&t<=9829||t>=9831&&t<=9834||t===9836||t===9837||t===9839||t===9886||t===9887||t===9919||t>=9926&&t<=9933||t>=9935&&t<=9939||t>=9941&&t<=9953||t===9955||t===9960||t===9961||t>=9963&&t<=9969||t===9972||t>=9974&&t<=9977||t===9979||t===9980||t===9982||t===9983||t===10045||t>=10102&&t<=10111||t>=11094&&t<=11097||t>=12872&&t<=12879||t>=57344&&t<=63743||t>=65024&&t<=65039||t===65533||t>=127232&&t<=127242||t>=127248&&t<=127277||t>=127280&&t<=127337||t>=127344&&t<=127373||t===127375||t===127376||t>=127387&&t<=127404||t>=917760&&t<=917999||t>=983040&&t<=1048573||t>=1048576&&t<=1114109}function Ppe(t){return t===12288||t>=65281&&t<=65376||t>=65504&&t<=65510}function Mpe(t){return t>=4352&&t<=4447||t===8986||t===8987||t===9001||t===9002||t>=9193&&t<=9196||t===9200||t===9203||t===9725||t===9726||t===9748||t===9749||t>=9776&&t<=9783||t>=9800&&t<=9811||t===9855||t>=9866&&t<=9871||t===9875||t===9889||t===9898||t===9899||t===9917||t===9918||t===9924||t===9925||t===9934||t===9940||t===9962||t===9970||t===9971||t===9973||t===9978||t===9981||t===9989||t===9994||t===9995||t===10024||t===10060||t===10062||t>=10067&&t<=10069||t===10071||t>=10133&&t<=10135||t===10160||t===10175||t===11035||t===11036||t===11088||t===11093||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12773||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||t>=94192&&t<=94198||t>=94208&&t<=101589||t>=101631&&t<=101662||t>=101760&&t<=101874||t>=110576&&t<=110579||t>=110581&&t<=110587||t===110589||t===110590||t>=110592&&t<=110882||t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960&&t<=111355||t>=119552&&t<=119638||t>=119648&&t<=119670||t===126980||t===127183||t===127374||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t===127568||t===127569||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988||t>=127992&&t<=128062||t===128064||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||t===128378||t===128405||t===128406||t===128420||t>=128507&&t<=128591||t>=128640&&t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128728||t>=128732&&t<=128735||t===128747||t===128748||t>=128756&&t<=128764||t>=128992&&t<=129003||t===129008||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129674||t>=129678&&t<=129734||t===129736||t>=129741&&t<=129756||t>=129759&&t<=129770||t>=129775&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141}function Lpe(t){if(!Number.isSafeInteger(t))throw new TypeError(`Expected a code point, got \`${typeof t}\`.`)}function Upe(t,{ambiguousAsWide:e=!1}={}){return Lpe(t),Ppe(t)||Mpe(t)||e&&kpe(t)?2:1}const Fpe=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED8\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFE])))?))?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC2\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF]|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,$pe=new Intl.Segmenter,Bpe=new RegExp("^\\p{Default_Ignorable_Code_Point}$","u");function Vu(t,e={}){if(typeof t!="string"||t.length===0)return 0;const{ambiguousIsNarrow:n=!0,countAnsiEscapeCodes:r=!1}=e;if(r||(t=Npe(t)),t.length===0)return 0;let i=0;const s={ambiguousAsWide:!n};for(const{segment:o}of $pe.segment(t)){const a=o.codePointAt(0);if(!(a<=31||a>=127&&a<=159)&&!(a>=8203&&a<=8207||a===65279)&&!(a>=768&&a<=879||a>=6832&&a<=6911||a>=7616&&a<=7679||a>=8400&&a<=8447||a>=65056&&a<=65071)&&!(a>=55296&&a<=57343)&&!(a>=65024&&a<=65039)&&!Bpe.test(o)){if(Fpe().test(o)){i+=2;continue}i+=Upe(a,s)}}return i}function zu(t,e,n){if(t.charAt(e)===" ")return e;const r=n?1:-1;for(let i=0;i<=3;i++){const s=e+i*r;if(t.charAt(s)===" ")return s}return e}function jpe(t,e,n={}){const{position:r="end",space:i=!1,preferTruncationOnSpace:s=!1}=n;let{truncationCharacter:o="…"}=n;if(typeof t!="string")throw new TypeError(`Expected \`input\` to be a string, got ${typeof t}`);const a=Vu(t);if(a<=e)return t;if(r==="start"){if(s){const c=zu(t,a-e+1,!0);return o+yr(t,c,a).trim()}return i===!0&&(o+=" "),o+yr(t,a-e+Vu(o),a)}if(r==="middle"){i===!0&&(o=` ${o} `);const c=Math.floor(e/2);if(s){const u=zu(t,c),l=zu(t,a-(e-c)+1,!0);return yr(t,0,u)+o+yr(t,l,a).trim()}return yr(t,0,c)+o+yr(t,a-(e-c)+Vu(o),a)}if(r==="end"){if(s){const c=zu(t,e-1);return yr(t,0,c)+o}return i===!0&&(o=` ${o}`),yr(t,0,e-Vu(o))+o}throw new Error(`Expected \`options.position\` to be either \`start\`, \`middle\` or \`end\`, got ${r}`)}function Vpe(t){try{return Y.accessSync(t),!0}catch{return!1}}class zpe extends Error{constructor(e,n){super("Max tries reached."),this.originalPath=e,this.lastTriedPath=n}}const Gpe=(t,e)=>{const n=t.match(/^(?<filename>.*)\((?<index>\d+)\)$/);let{filename:r,index:i}=n?n.groups:{filename:t,index:0};return r=r.trim(),[`${r}${e}`,`${r} (${++i})${e}`]},nN=(t,e)=>{const n=B.extname(t),r=B.dirname(t),[i,s]=e(B.basename(t,n),n);return[B.join(r,i),B.join(r,s)]};function qpe(t,{incrementer:e=Gpe,maxTries:n=Number.POSITIVE_INFINITY}={}){let r=0,[i]=nN(t,e),s=t;for(;;){if(!Vpe(s))return s;if(++r>n)throw new zpe(i,s);[i,s]=nN(s,e)}}const rN=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function Hpe(t,...e){if(typeof t=="string")return rN(t);let n=t[0];for(const[r,i]of e.entries())n=n+rN(String(i))+t[r+1];return n}class Wpe extends Error{constructor(e){super(`Missing a value for ${e?`the placeholder: ${e}`:"a placeholder"}`,e),this.name="MissingValueError",this.key=e}}class Ype extends Error{constructor(e){super(`Missing filter: ${e}`),this.name="MissingFilterError",this.filterName=e}}function Kpe(t,e,{ignoreMissing:n=!1,transform:r=({value:s})=>s,filters:i={}}={}){if(typeof t!="string")throw new TypeError(`Expected a \`string\` in the first argument, got \`${typeof t}\``);if(typeof e!="object")throw new TypeError(`Expected an \`object\` or \`Array\` in the second argument, got \`${typeof e}\``);const s="",o="";t=t.replace(/\\{/g,s),t=t.replace(/\\}/g,o);const a=m=>{const h=[];let g="";for(let _=0;_<m.length;_++)m[_]==="\\"&&m[_+1]==="."?(g+=".",_++):m[_]==="."?(h.push(g),g=""):g+=m[_];return h.push(g),h},c=(m,h)=>{const g=h.split("|").map(b=>b.trim()),_=g[0],S=g.slice(1),v=a(_);let T=e;for(const b of v)T&&(T=T[b]);for(const b of S){const x=i[b];if(!x){if(n)return m;throw new Ype(b)}T!==void 0&&(T=x(T))}const y=r({value:T,key:_});if(y===void 0){if(n)return m;throw new Wpe(_)}return String(y)},p="((\\d+|[a-z$_][\\w\\-.$\\\\]*)\\s*(?:\\|\\s*[a-z$_][\\w$]*\\s*)*)",d=new RegExp(`{{${p}}}`,"gi"),f=new RegExp(`{${p}}`,"gi");return t=t.replace(d,(...m)=>Hpe(c(...m))),t=t.replace(f,c),t=t.replace(new RegExp(s,"g"),"{"),t=t.replace(new RegExp(o,"g"),"}"),t}var Gu={exports:{}};const Zpe={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/ace+json":{source:"iana",compressible:!0},"application/ace-groupcomm+cbor":{source:"iana"},"application/ace-trl+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/aif+cbor":{source:"iana"},"application/aif+json":{source:"iana",compressible:!0},"application/alto-cdni+json":{source:"iana",compressible:!0},"application/alto-cdnifilter+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-propmap+json":{source:"iana",compressible:!0},"application/alto-propmapparams+json":{source:"iana",compressible:!0},"application/alto-tips+json":{source:"iana",compressible:!0},"application/alto-tipsparams+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/appinstaller":{compressible:!1,extensions:["appinstaller"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/appx":{compressible:!1,extensions:["appx"]},"application/appxbundle":{compressible:!1,extensions:["appxbundle"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/automationml-aml+xml":{source:"iana",compressible:!0,extensions:["aml"]},"application/automationml-amlx+zip":{source:"iana",compressible:!1,extensions:["amlx"]},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/bufr":{source:"iana"},"application/c2pa":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/ce+cbor":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/cid-edhoc+cbor-seq":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/city+json-seq":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-eap":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/concise-problem-details+cbor":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cose-x509":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwl":{source:"iana",extensions:["cwl"]},"application/cwl+json":{source:"iana",compressible:!0},"application/cwl+yaml":{source:"iana"},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana",extensions:["dcm"]},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dpop+jwt":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/eat+cwt":{source:"iana"},"application/eat+jwt":{source:"iana"},"application/eat-bun+cbor":{source:"iana"},"application/eat-bun+json":{source:"iana",compressible:!0},"application/eat-ucs+cbor":{source:"iana"},"application/eat-ucs+json":{source:"iana",compressible:!0},"application/ecmascript":{source:"apache",compressible:!0,extensions:["ecma"]},"application/edhoc+cbor-seq":{source:"iana"},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.legacyesn+json":{source:"iana",compressible:!0},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/entity-statement+jwt":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdf":{source:"iana",extensions:["fdf"]},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geopose+json":{source:"iana",compressible:!0},"application/geoxacml+json":{source:"iana",compressible:!0},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gnap-binding-jws":{source:"iana"},"application/gnap-binding-jwsd":{source:"iana"},"application/gnap-binding-rotation-jws":{source:"iana"},"application/gnap-binding-rotation-jwsd":{source:"iana"},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/grib":{source:"iana"},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"iana",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"apache",charset:"UTF-8",compressible:!0,extensions:["js"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/jscontact+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jsonpath":{source:"iana"},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwk-set+jwt":{source:"iana"},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/linkset":{source:"iana"},"application/linkset+json":{source:"iana",compressible:!0},"application/load-control+xml":{source:"iana",compressible:!0},"application/logout+jwt":{source:"iana"},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4","mpg4","mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msix":{compressible:!1,extensions:["msix"]},"application/msixbundle":{compressible:!1,extensions:["msixbundle"]},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!0,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/ohttp-keys":{source:"iana"},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg","one","onea"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["sig","asc"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/private-token-issuer-directory":{source:"iana"},"application/private-token-request":{source:"iana"},"application/private-token-response":{source:"iana"},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/provided-claims+jwt":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.implied-document+xml":{source:"iana",compressible:!0},"application/prs.implied-executable":{source:"iana"},"application/prs.implied-object+json":{source:"iana",compressible:!0},"application/prs.implied-object+json-seq":{source:"iana"},"application/prs.implied-object+yaml":{source:"iana"},"application/prs.implied-structure":{source:"iana"},"application/prs.mayfile":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.vcfbzip2":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0,extensions:["xsf"]},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"apache"},"application/reputon+json":{source:"iana",compressible:!0},"application/resolve-response+jwt":{source:"iana"},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-checklist":{source:"iana"},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-signed-tal":{source:"iana"},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"apache"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana",extensions:["sql"]},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/sslkeylogfile":{source:"iana"},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/st2110-41":{source:"iana"},"application/stix+json":{source:"iana",compressible:!0},"application/stratum":{source:"iana"},"application/swid+cbor":{source:"iana"},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tm+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/toc+cbor":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{source:"iana",compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/trust-chain+json":{source:"iana",compressible:!0},"application/trust-mark+jwt":{source:"iana"},"application/trust-mark-delegation+jwt":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/uccs+cbor":{source:"iana"},"application/ujcs+json":{source:"iana",compressible:!0},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vc":{source:"iana"},"application/vc+cose":{source:"iana"},"application/vc+jwt":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.1ob":{source:"iana"},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3a+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ach+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc8+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.5gsa2x":{source:"iana"},"application/vnd.3gpp.5gsa2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gsv2x":{source:"iana"},"application/vnd.3gpp.5gsv2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.crs+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.current-location-discovery+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-regroup+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-regroup+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.pinapp-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.seal-group-doc+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-network-qos-management-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-ue-config-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-unicast-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.seal-user-profile-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.v2x":{source:"iana"},"application/vnd.3gpp.vae-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acm.addressxfer+json":{source:"iana",compressible:!0},"application/vnd.acm.chatbot+json":{source:"iana",compressible:!0},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"apache",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"apache"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.parquet":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.apexlang":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"apache"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autodesk.fbx":{extensions:["fbx"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.belightsoft.lhzd+zip":{source:"iana",compressible:!1},"application/vnd.belightsoft.lhzl+zip":{source:"iana",compressible:!1},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.bzip3":{source:"iana"},"application/vnd.c3voc.schedule+xml":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.cncf.helm.chart.content.v1.tar+gzip":{source:"iana"},"application/vnd.cncf.helm.chart.provenance.v1.prov":{source:"iana"},"application/vnd.cncf.helm.config.v1+json":{source:"iana",compressible:!0},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datalog":{source:"iana"},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.dcmp+xml":{source:"iana",compressible:!0,extensions:["dcmp"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.eln+zip":{source:"iana",compressible:!1},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.erofs":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"apache",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.fdsn.stationxml+xml":{source:"iana",charset:"XML-BASED",compressible:!0},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.freelog.comic":{source:"iana"},"application/vnd.frogans.fnc":{source:"apache",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"apache",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.ga4gh.passport+jwt":{source:"iana"},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.genozip":{source:"iana"},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.gentoo.catmetadata+xml":{source:"iana",compressible:!0},"application/vnd.gentoo.ebuild":{source:"iana"},"application/vnd.gentoo.eclass":{source:"iana"},"application/vnd.gentoo.gpkg":{source:"iana"},"application/vnd.gentoo.manifest":{source:"iana"},"application/vnd.gentoo.pkgmetadata+xml":{source:"iana",compressible:!0},"application/vnd.gentoo.xpak":{source:"iana"},"application/vnd.geo+json":{source:"apache",compressible:!0},"application/vnd.geocube+xml":{source:"apache",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.pinboard":{source:"iana"},"application/vnd.geogebra.slides":{source:"iana",extensions:["ggs"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.gnu.taler.exchange+json":{source:"iana",compressible:!0},"application/vnd.gnu.taler.merchant+json":{source:"iana",compressible:!0},"application/vnd.google-apps.audio":{},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.drawing":{compressible:!1,extensions:["gdraw"]},"application/vnd.google-apps.drive-sdk":{compressible:!1},"application/vnd.google-apps.file":{},"application/vnd.google-apps.folder":{compressible:!1},"application/vnd.google-apps.form":{compressible:!1,extensions:["gform"]},"application/vnd.google-apps.fusiontable":{},"application/vnd.google-apps.jam":{compressible:!1,extensions:["gjam"]},"application/vnd.google-apps.mail-layout":{},"application/vnd.google-apps.map":{compressible:!1,extensions:["gmap"]},"application/vnd.google-apps.photo":{},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.script":{compressible:!1,extensions:["gscript"]},"application/vnd.google-apps.shortcut":{},"application/vnd.google-apps.site":{compressible:!1,extensions:["gsite"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-apps.unknown":{},"application/vnd.google-apps.video":{},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"apache",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0,extensions:["xdcf"]},"application/vnd.gpxsee.map+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.hsl":{source:"iana"},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"apache"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"apache",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"apache"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.ipfs.ipns-record":{source:"iana"},"application/vnd.ipld.car":{source:"iana"},"application/vnd.ipld.dag-cbor":{source:"iana"},"application/vnd.ipld.dag-json":{source:"iana"},"application/vnd.ipld.raw":{source:"iana"},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kdl":{source:"iana"},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.keyman.kmp+zip":{source:"iana",compressible:!1},"application/vnd.keyman.kmx":{source:"iana"},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.ldev.productlicensing":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.mdl":{source:"iana"},"application/vnd.mdl-mbsdf":{source:"iana"},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.medicalholodeck.recordxr":{source:"iana"},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mermaid":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.modl":{source:"iana"},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-visio.viewer":{extensions:["vdx"]},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msgpack":{source:"iana"},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.nato.bindingdataobject+cbor":{source:"iana"},"application/vnd.nato.bindingdataobject+json":{source:"iana",compressible:!0},"application/vnd.nato.bindingdataobject+xml":{source:"iana",compressible:!0,extensions:["bdo"]},"application/vnd.nato.openxmlformats-package.iepd+zip":{source:"iana",compressible:!1},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"apache",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oai.workflows":{source:"iana"},"application/vnd.oai.workflows+json":{source:"iana",compressible:!0},"application/vnd.oai.workflows+yaml":{source:"iana"},"application/vnd.oasis.opendocument.base":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"apache",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-master-template":{source:"iana"},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"apache",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"apache",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.onvif.metadata":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openvpi.dspx+json":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.procrate.brushset":{extensions:["brushset"]},"application/vnd.procreate.brush":{extensions:["brush"]},"application/vnd.procreate.dream":{extensions:["drm"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.pt.mundusmundi":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0,extensions:["xhtm"]},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.relpipe":{source:"iana"},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.sketchometry":{source:"iana"},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.smintio.portals.archive":{source:"iana"},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sybyl.mol2":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uic.osdm+json":{source:"iana",compressible:!0},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml","uo"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.veraison.tsm-report+cbor":{source:"iana"},"application/vnd.veraison.tsm-report+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw","vsdx","vtx"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vocalshaper.vsp4":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.wasmflow.wafl":{source:"iana"},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordlift":{source:"iana"},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xarin.cpj":{source:"iana"},"application/vnd.xecrets-encrypted":{source:"iana"},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/voucher-jws+json":{source:"iana",compressible:!0},"application/vp":{source:"iana"},"application/vp+cose":{source:"iana"},"application/vp+jwt":{source:"iana"},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blender":{extensions:["blend"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-compressed":{extensions:["rar"]},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-ipynb+json":{compressible:!0,extensions:["ipynb"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zip-compressed":{extensions:["zip"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xfdf":{source:"iana",extensions:["xfdf"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yaml":{source:"iana"},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+cbor":{source:"iana"},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yang-sid+json":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zip+dotlottie":{extensions:["lottie"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana",extensions:["adts","aac"]},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flac":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/matroska":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/midi-clip":{source:"iana"},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a","m4b"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"apache"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{source:"iana",compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp","dib"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/dpx":{source:"iana",extensions:["dpx"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/j2c":{source:"iana"},"image/jaii":{source:"iana",extensions:["jaii"]},"image/jais":{source:"iana",extensions:["jais"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpg","jpeg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm","jpgm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxl":{source:"iana",extensions:["jxl"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1,extensions:["jfif"]},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif","btf"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.clip":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"iana",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-adobe-dng":{extensions:["dng"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-emf":{source:"iana"},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-wmf":{source:"iana"},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/bhttp":{source:"iana"},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/mls":{source:"iana"},"message/news":{source:"apache"},"message/ohttp-req":{source:"iana"},"message/ohttp-res":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime","mht","mhtml"]},"message/s-http":{source:"apache"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"apache"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/jt":{source:"iana",extensions:["jt"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/prc":{source:"iana",extensions:["prc"]},"model/step":{source:"iana",extensions:["step","stp","stpnc","p21","210"]},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/u3d":{source:"iana",extensions:["u3d"]},"model/vnd.bary":{source:"iana",extensions:["bary"]},"model/vnd.cld":{source:"iana",extensions:["cld"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana",extensions:["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usda":{source:"iana",extensions:["usda"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"apache"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/hl7v2":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["md","markdown"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/prs.texi":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.exchangeable":{source:"iana"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"apache"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.vcf":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vnd.zoo.kcl":{source:"iana"},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/wgsl":{source:"iana",extensions:["wgsl"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/evc":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/h266":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/lottie+json":{source:"iana",compressible:!0},"video/matroska":{source:"iana"},"video/matroska-3d":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts","m2t","m2ts","mts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.planar":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"apache"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var gg,iN;function Xpe(){return iN||(iN=1,gg=Zpe),gg}var _g,sN;function Jpe(){if(sN)return _g;sN=1;var t=Xpe();return _g=function(){var e={};return Object.keys(t).forEach(function(n){var r=t[n];r.extensions&&r.extensions.length>0&&r.extensions.forEach(function(i){e[i]=n})}),e},_g}var qu={},vg,oN;function Qpe(){if(oN)return vg;oN=1;var t=Object.prototype.toString;return vg=function(e){var n;return t.call(e)==="[object Object]"&&(n=Object.getPrototypeOf(e),n===null||n===Object.getPrototypeOf({}))},vg}var Eg,aN;function ede(){if(aN)return Eg;aN=1;var t=Qpe();return Eg=function(e,n){if(!t(e))throw new TypeError("Expected a plain object");n=n||{},typeof n=="function"&&(n={compare:n});var r=n.deep,i=[],s=[],o=function(a){var c=i.indexOf(a);if(c!==-1)return s[c];var u={},l=Object.keys(a).sort(n.compare);i.push(a),s.push(u);for(var p=0;p<l.length;p++){var d=l[p],f=a[d];u[d]=r&&t(f)?o(f):f}return u};return o(e)},Eg}var cN;function tde(){if(cN)return qu;cN=1;var t=ede();return qu.desc=function(e){return t(e,function(n,r){return r.length-n.length})},qu.asc=function(e){return t(e,function(n,r){return n.length-r.length})},qu}var uN;function nde(){if(uN)return Gu.exports;uN=1;const t=Jpe(),e=tde();return Gu.exports=n=>{const r=e.desc(t()),i=Object.keys(r).filter(s=>n.endsWith(s));return i.length===0?[]:i.map(s=>({ext:s,mime:r[s]}))},Gu.exports.mime=n=>{const r=e.desc(t()),i=Object.keys(r).filter(s=>r[s]===n);return i.length===0?[]:i.map(s=>({ext:s,mime:r[s]}))},Gu.exports}var rde=nde();const ide=Bi(rde);class sde extends Error{}const ode=(t,e)=>{const n=ide.mime(e);return n.length!==1?t:`${t}.${n[0].ext}`};function ade(t,e,n=()=>{}){const r=new Set;let i=0,s=0,o=0;const a=()=>r.size,c=()=>i/o;e={showBadge:!0,showProgressBar:!0,...e};const u=(l,p,d)=>{r.add(p),o+=p.getTotalBytes();const f=R.BrowserWindow.fromWebContents(d);if(!f)throw new Error("Failed to get window from web contents.");if(e.directory&&!B.isAbsolute(e.directory))throw new Error("The `directory` option must be an absolute path");const m=e.directory??R.app.getPath("downloads");let h;if(e.filename)h=B.join(m,e.filename);else{const _=p.getFilename(),S=B.extname(_)?_:ode(_,p.getMimeType());h=e.overwrite?B.join(m,S):qpe(B.join(m,S))}const g=e.errorMessage??"The download of {filename} was interrupted";e.saveAs?p.setSaveDialogOptions({defaultPath:h,...e.dialogOptions}):p.setSavePath(h),p.on("updated",()=>{i=s;for(const _ of r)i+=_.getReceivedBytes();if(e.showBadge&&["darwin","linux"].includes(Pt.platform)&&(R.app.badgeCount=a()),!f.isDestroyed()&&e.showProgressBar&&f.setProgressBar(c()),typeof e.onProgress=="function"){const _=p.getReceivedBytes(),S=p.getTotalBytes();e.onProgress({percent:S?_/S:0,transferredBytes:_,totalBytes:S})}typeof e.onTotalProgress=="function"&&e.onTotalProgress({percent:c(),transferredBytes:i,totalBytes:o})}),p.on("done",(_,S)=>{if(s+=p.getTotalBytes(),r.delete(p),e.showBadge&&["darwin","linux"].includes(Pt.platform)&&(R.app.badgeCount=a()),!f.isDestroyed()&&!a()&&(f.setProgressBar(-1),i=0,s=0,o=0),e.unregisterWhenDone&&t.removeListener("will-download",u),S==="cancelled")typeof e.onCancel=="function"&&e.onCancel(p),n(new sde);else if(S==="interrupted"){const v=Kpe(g,{filename:B.basename(h)});n(new Error(v))}else if(S==="completed"){const v=p.getSavePath();Pt.platform==="darwin"&&R.app.dock.downloadFinished(v),e.openFolderWhenDone&&R.shell.showItemInFolder(v),typeof e.onCompleted=="function"&&e.onCompleted({fileName:p.getFilename(),filename:p.getFilename(),path:v,fileSize:p.getReceivedBytes(),mimeType:p.getMimeType(),url:p.getURL()}),n(null,p)}}),typeof e.onStarted=="function"&&e.onStarted(p)};t.on("will-download",u)}async function Ha(t,e,n){return new Promise((r,i)=>{n={...n,unregisterWhenDone:!0},ade(t.webContents.session,n,(s,o)=>{s?i(s):r(o)}),t.webContents.downloadURL(e)})}if(typeof R=="string")throw new TypeError("Not running in an Electron environment!");const{env:Hj}=process,cde="ELECTRON_IS_DEV"in Hj,ude=Number.parseInt(Hj.ELECTRON_IS_DEV,10)===1,lde=cde?ude:!R.app.isPackaged,wt=t=>t.webContents??(t.id&&t),gt=t=>(e={})=>(e.transform&&!e.click&&(t.transform=e.transform),t),pde=t=>{let e;return t.filter(n=>n!==void 0&&n!==!1&&n.visible!==!1&&n.visible!=="").filter((n,r,i)=>{const s=n.type==="separator"&&(!e||r===i.length-1||i[r+1].type==="separator");return e=s?e:n,!s})},dde=(t,e)=>{const n=(r,i)=>{if(typeof e.shouldShowMenu=="function"&&e.shouldShowMenu(r,i)===!1)return;const{editFlags:s}=i,o=i.selectionText.length>0,a=!!i.linkURL,c=h=>s[`can${h}`]&&o,u={separator:()=>({type:"separator"}),learnSpelling:gt({id:"learnSpelling",label:"&Learn Spelling",visible:!!(i.isEditable&&o&&i.misspelledWord),click(){wt(t).session.addWordToSpellCheckerDictionary(i.misspelledWord)}}),lookUpSelection:gt({id:"lookUpSelection",label:"Look Up “{selection}”",visible:Pt.platform==="darwin"&&o&&!a,click(){Pt.platform==="darwin"&&wt(t).showDefinitionForSelection()}}),searchWithGoogle:gt({id:"searchWithGoogle",label:"&Search with Google",visible:o,click(){const h=new URL("https://www.google.com/search");h.searchParams.set("q",i.selectionText),R.shell.openExternal(h.toString())}}),cut:gt({id:"cut",label:"Cu&t",enabled:c("Cut"),visible:i.isEditable,click(h){const g=wt(t);!h.transform&&g?g.cut():(i.selectionText=h.transform?h.transform(i.selectionText):i.selectionText,R.clipboard.writeText(i.selectionText))}}),copy:gt({id:"copy",label:"&Copy",enabled:c("Copy"),visible:i.isEditable||o,click(h){const g=wt(t);!h.transform&&g?g.copy():(i.selectionText=h.transform?h.transform(i.selectionText):i.selectionText,R.clipboard.writeText(i.selectionText))}}),paste:gt({id:"paste",label:"&Paste",enabled:s.canPaste,visible:i.isEditable,click(h){const g=wt(t);if(h.transform){let _=R.clipboard.readText(i.selectionText);_=h.transform?h.transform(_):_,g.insertText(_)}else g.paste()}}),selectAll:gt({id:"selectAll",label:"Select &All",click(){wt(t).selectAll()}}),saveImage:gt({id:"saveImage",label:"Save I&mage",visible:i.mediaType==="image",click(h){i.srcURL=h.transform?h.transform(i.srcURL):i.srcURL,Ha(t,i.srcURL)}}),saveImageAs:gt({id:"saveImageAs",label:"Sa&ve Image As…",visible:i.mediaType==="image",click(h){i.srcURL=h.transform?h.transform(i.srcURL):i.srcURL,Ha(t,i.srcURL,{saveAs:!0})}}),saveVideo:gt({id:"saveVideo",label:"Save Vide&o",visible:i.mediaType==="video",click(h){i.srcURL=h.transform?h.transform(i.srcURL):i.srcURL,Ha(t,i.srcURL)}}),saveVideoAs:gt({id:"saveVideoAs",label:"Save Video& As…",visible:i.mediaType==="video",click(h){i.srcURL=h.transform?h.transform(i.srcURL):i.srcURL,Ha(t,i.srcURL,{saveAs:!0})}}),copyLink:gt({id:"copyLink",label:"Copy Lin&k",visible:i.linkURL.length>0&&i.mediaType==="none",click(h){i.linkURL=h.transform?h.transform(i.linkURL):i.linkURL,R.clipboard.write({bookmark:i.linkText,text:i.linkURL})}}),saveLinkAs:gt({id:"saveLinkAs",label:"Save Link As…",visible:i.linkURL.length>0&&i.mediaType==="none",click(h){i.linkURL=h.transform?h.transform(i.linkURL):i.linkURL,Ha(t,i.linkURL,{saveAs:!0})}}),copyImage:gt({id:"copyImage",label:"Cop&y Image",visible:i.mediaType==="image",click(){wt(t).copyImageAt(i.x,i.y)}}),copyImageAddress:gt({id:"copyImageAddress",label:"C&opy Image Address",visible:i.mediaType==="image",click(h){i.srcURL=h.transform?h.transform(i.srcURL):i.srcURL,R.clipboard.write({bookmark:i.srcURL,text:i.srcURL})}}),copyVideoAddress:gt({id:"copyVideoAddress",label:"Copy Video Ad&dress",visible:i.mediaType==="video",click(h){i.srcURL=h.transform?h.transform(i.srcURL):i.srcURL,R.clipboard.write({bookmark:i.srcURL,text:i.srcURL})}}),inspect:()=>({id:"inspect",label:"I&nspect Element",click(){wt(t).inspectElement(i.x,i.y),wt(t).isDevToolsOpened()&&wt(t).devToolsWebContents.focus()}}),services:()=>({id:"services",label:"Services",role:"services",visible:Pt.platform==="darwin"&&(i.isEditable||o)})},l=typeof e.showInspectElement=="boolean"?e.showInspectElement:lde,p=e.showSelectAll||e.showSelectAll!==!1&&Pt.platform!=="darwin";function d(h){return{id:"dictionarySuggestions",label:h,visible:!!(i.isEditable&&o&&i.misspelledWord),click(g){wt(t).replaceMisspelling(g.label)}}}let f=[];o&&i.misspelledWord&&i.dictionarySuggestions.length>0?f=i.dictionarySuggestions.map(h=>d(h)):f.push({id:"dictionarySuggestions",label:"No Guesses Found",visible:!!(o&&i.misspelledWord),enabled:!1});let m=[f.length>0&&u.separator(),...f,u.separator(),e.showLearnSpelling!==!1&&u.learnSpelling(),u.separator(),e.showLookUpSelection!==!1&&u.lookUpSelection(),u.separator(),e.showSearchWithGoogle!==!1&&u.searchWithGoogle(),u.separator(),u.cut(),u.copy(),u.paste(),p&&u.selectAll(),u.separator(),e.showSaveImage&&u.saveImage(),e.showSaveImageAs&&u.saveImageAs(),e.showCopyImage!==!1&&u.copyImage(),e.showCopyImageAddress&&u.copyImageAddress(),e.showSaveVideo&&u.saveVideo(),e.showSaveVideoAs&&u.saveVideoAs(),e.showCopyVideoAddress&&u.copyVideoAddress(),u.separator(),e.showCopyLink!==!1&&u.copyLink(),e.showSaveLinkAs&&u.saveLinkAs(),u.separator(),l&&u.inspect(),e.showServices&&u.services(),u.separator()];if(e.menu&&(m=e.menu(u,i,t,f,r)),e.prepend){const h=e.prepend(u,i,t,r);Array.isArray(h)&&m.unshift(...h)}if(e.append){const h=e.append(u,i,t,r);Array.isArray(h)&&m.push(...h)}m=pde(m);for(const h of m)if(e.labels&&e.labels[h.id]&&(h.label=e.labels[h.id]),typeof h.label=="string"&&h.label.includes("{selection}")){const g=typeof i.selectionText=="string"?i.selectionText.trim():"";h.label=h.label.replace("{selection}",jpe(g,25).replaceAll("&","&&"))}if(m.length>0){const h=R.Menu.buildFromTemplate(m);typeof e.onShow=="function"&&h.on("menu-will-show",e.onShow),typeof e.onClose=="function"&&h.on("menu-will-close",e.onClose),h.popup(t)}};return wt(t).on("context-menu",n),()=>{t?.isDestroyed?.()||wt(t).removeListener("context-menu",n)}};function fde(t={}){if(Pt.type==="renderer")throw new Error("Cannot use electron-context-menu in the renderer process!");let e=!1;const n=[],r=o=>{if(e)return;const a=dde(o,t),c=()=>{a()};wt(o).once("destroyed",c),n.push(c)},i=()=>{for(const o of n)o();n.length=0,e=!0};if(t.window){const o=t.window;if(wt(o)===void 0){const a=()=>{r(o)};return(o.addEventListener??o.addListener)("dom-ready",a,{once:!0}),n.push(()=>{o.removeEventListener("dom-ready",a,{once:!0})}),i}return r(o),i}for(const o of R.BrowserWindow.getAllWindows())r(o);const s=(o,a)=>{r(a)};return R.app.on("browser-window-created",s),n.push(()=>{R.app.removeListener("browser-window-created",s)}),i}function Wj(t,e){if(!Li(t))return!1;try{return new URL(t).origin===e}catch{return!1}}function mde(t,e,n){return n&&hde(t,e,n)?!0:gde(t,e)}function hde(t,e,n){const r=Kl(t),i=Kl(e);return r==null||i==null||!Li(t)||!Li(e)||r.origin!==n||i.origin!==n?!1:r.pathname===i.pathname}function gde(t,e){const n=Kl(t),r=Kl(e);return n==null||r==null||n.protocol!=="file:"||r.protocol!=="file:"?!1:n.pathname===r.pathname}function Kl(t){try{return new URL(t)}catch{return null}}const lN=Le("window-manager"),_de="http://localhost:5175/",vde=`
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Codex</title>
  </head>
  <body>
    <main>
      <h1>Something went wrong…</h1>
    </main>
  </body>
</html>
`.trim(),Sg="#00000000";class Ede{constructor(e){this.options=e}readyWebContentsIds=new Set;pendingMessages=new Map;primaryWindows=new Map;windowHostIds=new Map;webContentsHostIds=new Map;contextsByHostId=new Map;debugWindow=null;isAppQuitting=!1;rendererRecoveryAttempts=new Set;markWebContentsReady(e){this.readyWebContentsIds.add(e.id),this.flushPendingMessages(e)}forgetWebContents(e){this.readyWebContentsIds.delete(e),this.pendingMessages.delete(e)}isWebContentsReady(e){return this.readyWebContentsIds.has(e)}markAppQuitting(){this.isAppQuitting=!0;for(const[e,n]of this.primaryWindows.entries())n&&!n.isDestroyed()&&this.persistPrimaryWindowBounds(n,e)}showPrimaryWindow(e){const n=this.primaryWindows.get(e)??null;return!n||n.isDestroyed()?!1:(n.isMinimized()&&n.restore(),n.show(),n.focus(),!0)}sendMessageToWindow(e,n){this.sendMessageToWebContents(e.webContents,n)}sendMessageToAllRegisteredWindows(e){for(const n of R.BrowserWindow.getAllWindows())n.isDestroyed()||this.windowHostIds.has(n.id)&&this.sendMessageToWindow(n,e)}sendMessageToAllWindows(e,n){for(const r of R.BrowserWindow.getAllWindows())r.isDestroyed()||this.windowHostIds.get(r.id)!==e||this.sendMessageToWindow(r,n)}sendMessageToWebContents(e,n){if(e.isDestroyed())return;if(this.isWebContentsReady(e.id)){e.send(Ye,n);return}const r=this.pendingMessages.get(e.id)??[];r.push(n),this.pendingMessages.set(e.id,r)}getPrimaryWindow(e){const n=this.primaryWindows.get(e)??null;return!n||n.isDestroyed()?null:n}registerContext(e,n){this.contextsByHostId.set(e,n);for(const r of R.BrowserWindow.getAllWindows())r.isDestroyed()||this.windowHostIds.get(r.id)!==e||n.registerWindow(r)}getContext(e){return this.contextsByHostId.get(e)??null}getContextForWebContents(e){const n=this.webContentsHostIds.get(e.id)??null;return n?this.contextsByHostId.get(n)??null:null}getHostIdForWebContents(e){return this.webContentsHostIds.get(e.id)??null}isTrustedIpcSender(e,n){return n!=null&&n!==e.mainFrame?!1:bde((n??e.mainFrame).url,this.options.moduleDir)}async openDebugWindow(){if(!this.options.allowDebugMenu)throw new Error("Debug window disabled for this build flavor.");const e=this.debugWindow;if(e&&!e.isDestroyed())return e.show(),e.focus(),e;const n=await this.createWindow({appearance:"hud",title:"Codex Debug",width:500,height:800,initialRoute:"/debug"});return this.debugWindow=n,n.on("closed",()=>{this.debugWindow===n&&(this.debugWindow=null)}),n}async createWindow(e={}){const{title:n,width:r=1280,height:i=820,appearance:s="primary",show:o=!0,initialRoute:a,hostId:c=ft}=e,u=this.isOpaqueWindowsEnabled(c),l=this.resolveWindowChrome(s,u),p=s==="primary",d=p?this.restorePrimaryWindowBounds(c):null,f=d?.width??r,m=d?.height??i,h=d?.x,g=d?.y,_=d?.isMaximized===!0,S=this.getPrimaryMinimumSize(c),v=new R.BrowserWindow({width:f,height:m,...h===void 0||g===void 0?{}:{x:h,y:g},title:n??"Codex",backgroundColor:Sg,show:o,...process.platform==="win32"?{autoHideMenuBar:!0}:{},...process.platform==="win32"?{backgroundMaterial:"mica"}:{},...l,...s==="primary"?{minWidth:S.width,minHeight:S.height}:{minWidth:W0,minHeight:Y0},webPreferences:{preload:this.options.preloadPath,contextIsolation:!0,nodeIntegration:!1,spellcheck:!1,devTools:this.options.allowDevtools}});process.platform==="win32"&&v.removeMenu(),(s==="primary"||s==="hud")&&v.on("page-title-updated",C=>{C.preventDefault(),v.isDestroyed()||v.setTitle(v.getTitle())}),this.installWebContentsDiagnostics(v),this.registerWindow(v,c,p);const T=this.contextsByHostId.get(c);T&&T.registerWindow(v),p&&v.on("close",C=>{this.persistPrimaryWindowBounds(v,c);const L=Array.from(this.primaryWindows.values()).some(j=>j!==v&&!j.isDestroyed());if(process.platform==="darwin"&&!this.isAppQuitting&&!L){if(v.isFullScreen()){C.preventDefault(),v.once("leave-full-screen",()=>{v.isDestroyed()||v.hide()}),v.setFullScreen(!1);return}C.preventDefault(),v.hide()}});const y=()=>{this.sendMessageToWindow(v,{type:"window-fullscreen-changed",isFullScreen:v.isFullScreen()})};v.on("enter-full-screen",y),v.on("leave-full-screen",y),y();const b=()=>{this.sendMessageToWindow(v,{type:"electron-window-focus-changed",isFocused:v.isFocused()})};v.on("focus",b),v.on("blur",b),v.on("show",b),v.on("hide",b),b(),_&&v.once("ready-to-show",()=>{v.isDestroyed()||v.maximize()});const x=Kj();if(v.webContents.setWindowOpenHandler(({url:C})=>x&&Wj(C,x)?{action:"allow"}:(Li(C)&&R.shell.openExternal(C).catch(L=>{this.options.errorReporter.reportNonFatal(L,{kind:"open-external-window"})}),{action:"deny"})),v.webContents.on("will-navigate",(C,L)=>{mde(L,v.webContents.getURL(),x)||(C.preventDefault(),Li(L)&&R.shell.openExternal(L).catch(j=>{this.options.errorReporter.reportNonFatal(j,{kind:"open-external-navigation"})}))}),this.installNativeContextMenu(v),!R.app.isPackaged){const C=new URL(Yj());return a&&C.searchParams.set("initialRoute",a),v.loadURL(C.toString()),v}const D=AF(this.options.moduleDir),k=B.join(D,"index.html");if(Y.existsSync(k))try{return await v.loadURL(T5(a)),v}catch(C){lN().warning("Failed to load bundle at",{safe:{},sensitive:{indexPath:k,error:C}})}const U=`data:text/html;charset=utf-8,${encodeURIComponent(vde)}`;return await v.loadURL(U),v}async createAuxWindow(e,n){const r=await this.createWindow({title:e,width:1024,height:720,appearance:"secondary",show:!1,hostId:n});return r.setMenuBarVisibility(!1),r.setMinimumSize(W0,Y0),r.center(),r}async ensureAuxWindow(e,n,r){const i=n.byOwner.get(e.id);if(i&&!i.window.isDestroyed())return i;i&&(n.byOwner.delete(e.id),n.byWindowId.delete(i.window.webContents.id));const s=this.webContentsHostIds.get(e.id)??ft,o=await this.createAuxWindow(r,s),a=o.webContents.id,c={window:o,owner:e,ownerId:e.id,ready:this.isWebContentsReady(a)};return n.byOwner.set(e.id,c),n.byWindowId.set(a,c),o.on("closed",()=>{n.byWindowId.delete(a),n.byOwner.get(e.id)?.window===o&&n.byOwner.delete(e.id)}),e.once("destroyed",()=>{o.isDestroyed()||o.close()}),c}registerWindow(e,n,r){this.windowHostIds.set(e.id,n),this.webContentsHostIds.set(e.webContents.id,n),r&&this.primaryWindows.set(n,e);const i=e.webContents.id;e.on("closed",()=>{this.forgetWebContents(i),this.windowHostIds.delete(e.id),this.webContentsHostIds.delete(i),r&&this.primaryWindows.get(n)===e&&this.primaryWindows.delete(n)})}restorePrimaryWindowBounds(e){const r=this.options.getGlobalStateForHost(e).get("electron-main-window-bounds")??null;if(!r)return null;const i=this.clampPrimaryWindowBounds(r,e);return this.isWithinDisplayWorkArea(i)?i:null}getPrimaryMinimumSize(e){return(this.options.getGlobalStateForHost(e).get("electron-persisted-atom-state")??{})[Gj]===!0?{width:fpe,height:mpe}:{width:ppe,height:dpe}}syncPrimaryMinimumSize(e){const n=this.getPrimaryWindow(e);if(!n)return;const r=this.getPrimaryMinimumSize(e);if(n.setMinimumSize(r.width,r.height),n.isMaximized()||n.isFullScreen())return;const i=n.getNormalBounds(),s=Math.max(i.width,r.width),o=Math.max(i.height,r.height);s===i.width&&o===i.height||(n.setBounds({...i,width:s,height:o}),this.persistPrimaryWindowBounds(n,e))}persistPrimaryWindowBounds(e,n){if(e.isDestroyed())return;const r=e.getNormalBounds(),i=this.getPrimaryMinimumSize(n),s={x:r.x,y:r.y,width:Math.max(r.width,i.width),height:Math.max(r.height,i.height),isMaximized:e.isMaximized()};this.options.getGlobalStateForHost(n).set("electron-main-window-bounds",s)}clampPrimaryWindowBounds(e,n){const r=this.getPrimaryMinimumSize(n);return{...e,width:Math.max(e.width,r.width),height:Math.max(e.height,r.height)}}flushPendingMessages(e){const n=this.pendingMessages.get(e.id);if(!n||n.length===0){this.pendingMessages.delete(e.id);return}if(this.pendingMessages.delete(e.id),!e.isDestroyed())for(const r of n)e.send(Ye,r)}isWithinDisplayWorkArea(e){const n=R.screen.getAllDisplays();if(n.length===0)return!0;const r={x:e.x,y:e.y,width:e.width,height:e.height};return n.some(i=>{const s=i.workArea;return s.x<r.x+r.width&&s.x+s.width>r.x&&s.y<r.y+r.height&&s.y+s.height>r.y})}resolveWindowChrome(e,n){return process.platform==="darwin"?n?e==="hud"?{titleBarStyle:"hiddenInset",minimizable:!1,maximizable:!1,fullscreenable:!1,alwaysOnTop:!0,trafficLightPosition:{x:10,y:10}}:e==="secondary"?{titleBarStyle:"default"}:{titleBarStyle:"hiddenInset",trafficLightPosition:{x:16,y:16}}:e==="hud"?{vibrancy:"menu",visualEffectState:"active",titleBarStyle:"hiddenInset",minimizable:!1,maximizable:!1,fullscreenable:!1,alwaysOnTop:!0,trafficLightPosition:{x:10,y:10}}:e==="secondary"?{vibrancy:"menu",titleBarStyle:"default"}:{vibrancy:"menu",titleBarStyle:"hiddenInset",trafficLightPosition:{x:16,y:16}}:process.platform==="win32"?e==="secondary"?{titleBarStyle:"default",...n?{}:{backgroundColor:Sg}}:e==="hud"?{titleBarStyle:"default",minimizable:!1,maximizable:!1,fullscreenable:!1,alwaysOnTop:!0}:{titleBarStyle:"default"}:e==="secondary"?{titleBarStyle:"default",...n?{}:{backgroundColor:Sg}}:e==="hud"?{titleBarStyle:"default",minimizable:!1,maximizable:!1,fullscreenable:!1,alwaysOnTop:!0}:{titleBarStyle:"default"}}isOpaqueWindowsEnabled(e){return this.options.getGlobalStateForHost(e).get(L_.OPAQUE_WINDOWS)===!0}installNativeContextMenu(e){const n=fde({window:e,showInspectElement:this.options.allowInspectElement});e.on("closed",()=>{n()})}installWebContentsDiagnostics(e){const n=e.webContents,r=e.id,i=n.id,s=this.options.errorReporter;n.on("render-process-gone",(o,a)=>{a.reason!=="clean-exit"&&(s.reportFatal(new Error(`Renderer process gone (${a.reason})`),{tags:{errorType:"renderer-process-gone",reason:a.reason},extra:{windowId:r,webContentsId:i,exitCode:a.exitCode}}),this.maybeRecoverFromRendererCrash(e,a.reason))}),n.on("did-finish-load",()=>{this.rendererRecoveryAttempts.delete(i)}),n.on("unresponsive",()=>{s.reportFatal(new Error("Renderer unresponsive"),{tags:{errorType:"renderer-unresponsive"},extra:{windowId:r,webContentsId:i,url:zO(n.getURL())}})}),n.on("did-fail-load",(o,a,c,u,l,p,d)=>{l&&a!==-3&&s.reportFatal(new Error("Renderer did-fail-load"),{tags:{errorType:"renderer-did-fail-load"},extra:{windowId:r,webContentsId:i,errorCode:a,errorDescription:c,validatedURL:zO(u),frameProcessId:p,frameRoutingId:d}})})}maybeRecoverFromRendererCrash(e,n){if(this.isAppQuitting||n==="clean-exit"||e.isDestroyed())return;const r=e.webContents;r.isDestroyed()||this.rendererRecoveryAttempts.has(r.id)||(this.rendererRecoveryAttempts.add(r.id),setTimeout(()=>{if(!e.isDestroyed()&&!e.webContents.isDestroyed())try{e.webContents.reload()}catch(i){lN().warning("Failed to reload crashed window",{safe:{},sensitive:{error:i}})}},500))}}function Yj(){return process.env.ELECTRON_RENDERER_URL||_de}function Kj(){const t=Yj();return Li(t)?new URL(t).origin:null}function Sde(t){return B.join(t,"..","..","webview","index.html")}function bde(t,e){if(t==="about:blank"||Tde(t))return!0;const n=Kj();if(n&&Wj(t,n))return!0;const r=Ac.pathToFileURL(Sde(e)).toString();return!!t.startsWith(r)}function Tde(t){try{const e=new URL(t);return e.protocol!=="app:"?!1:e.host==="-"||e.host===""}catch{return!1}}function yde(t){return typeof t=="object"&&t!=null}function xde(t){return t==="worktree-cleanup-inputs"}function wde(t){return yde(t)?t.type==="worker-main-rpc-request"&&typeof t.workerId=="string"&&typeof t.requestId=="string"&&xde(t.method):!1}class Ade{constructor(e){this.id=e}worker=null;latestAuthUser=null;listeners=new Set;mainRpcHandler=null;dispose(){const e=this.worker;e&&(this.worker=null,e.terminate())}addListener(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}setMainRpcHandler(e){this.mainRpcHandler=e}postMessage(e){this.ensureWorker().postMessage(e)}setSentryUser(e,n,r){this.latestAuthUser={authMethod:e,userId:n,email:r};const i=this.worker;i&&i.postMessage({type:"worker-sentry-user-update",authMethod:e,userId:n,email:r})}emitAppEvent(e){const n=this.worker;n&&n.postMessage({type:"worker-app-event",event:e})}ensureWorker(){if(this.worker)return this.worker;const e=bn("worker-manager"),n=B.join(__dirname,"worker.js"),r=lF(ge.resolve()),i=R.app.isPackaged?R.app.getAppPath():process.cwd(),s={workerId:this.id,sentryInitOptions:ds,maxLogLevel:r,sentryRewriteFramesRoot:i},o=new M_.Worker(n,{name:this.id,workerData:s});return o.on("message",a=>{if(wde(a)){this.handleMainRpcRequest(o,a);return}this.listeners.forEach(c=>{c(a)})}),o.on("error",a=>{e.warning("Worker error",{safe:{},sensitive:{error:a}})}),o.on("exit",a=>{this.worker=null,a!==0&&e.warning("Worker exited",{safe:{code:a},sensitive:{}})}),o.unref(),this.worker=o,this.latestAuthUser&&o.postMessage({type:"worker-sentry-user-update",authMethod:this.latestAuthUser.authMethod,userId:this.latestAuthUser.userId,email:this.latestAuthUser.email}),o}async handleMainRpcRequest(e,n){const r=bn("worker-manager");if(n.workerId!==this.id){r.warning("Received main RPC request for wrong worker",{safe:{expectedWorkerId:this.id,workerId:n.workerId,method:n.method}});return}const i=this.mainRpcHandler;if(!i){const s={type:"worker-main-rpc-response",workerId:this.id,requestId:n.requestId,method:n.method,result:{type:"error",error:{message:`No main RPC handler configured for worker '${this.id}'`}}};e.postMessage(s);return}try{const s=await i(n),o={type:"worker-main-rpc-response",workerId:this.id,requestId:n.requestId,method:n.method,result:{type:"ok",value:s}};e.postMessage(o)}catch(s){const o={type:"worker-main-rpc-response",workerId:this.id,requestId:n.requestId,method:n.method,result:{type:"error",error:{message:s instanceof Error?s.message:`Failed to handle main RPC request: ${String(s)}`}}};e.postMessage(o)}}}class Dde{constructor(e){this.workerId=e,this.workerManager=new Ade(this.workerId),this.workerManager.addListener(n=>{this.handleWorkerMessage(n)})}logger=bn("worker-bus-message-handler");pending=new Map;knownWebContents=new Set;workerManager;async handleMessage(e,n){if(this.trackLifecycle(e),n.workerId!==this.workerId){this.logger.warning("Received worker message for wrong worker",{safe:{expectedWorkerId:this.workerId,workerId:n.workerId,type:n.type}});return}switch(n.type){case"worker-request":{this.pending.set(n.request.id,e);break}case"worker-request-cancel":{this.pending.delete(n.id);break}}this.workerManager.postMessage(n)}dispose(){this.workerManager.dispose()}setSentryUser(e,n,r){this.workerManager.setSentryUser(e,n,r)}emitAppEvent(e){this.workerManager.emitAppEvent(e)}setMainRpcHandler(e){this.workerManager.setMainRpcHandler(e)}trackLifecycle(e){this.knownWebContents.has(e)||(this.knownWebContents.add(e),e.once("destroyed",()=>{this.knownWebContents.delete(e),this.cleanupOrigin(e)}))}cleanupOrigin(e){for(const[n,r]of this.pending.entries()){if(r!==e)continue;this.pending.delete(n);const i={type:"worker-request-cancel",workerId:this.workerId,id:n};this.workerManager.postMessage(i)}}handleWorkerMessage(e){if(e.workerId!==this.workerId){this.logger.warning("Received worker message for wrong worker",{safe:{expectedWorkerId:this.workerId,workerId:e.workerId,type:e.type}});return}if(e.type==="worker-response"){const n=this.pending.get(e.response.id);if(!n)return;this.pending.delete(e.response.id),this.send(n,e);return}this.broadcast(e)}send(e,n){e.isDestroyed()||e.send(N7(this.workerId),n)}broadcast(e){this.knownWebContents.forEach(n=>{this.send(n,e)})}}function Rde(t){if(!t.isMacOS)return()=>{};const e=new Array;let n=null;const r=async a=>{const c=await Promise.all(a.map(async d=>{try{if(!(await Vn.stat(d)).isDirectory())return null}catch(f){return Mt().warning("Failed to stat workspace path",{safe:{},sensitive:{error:f}}),null}return B.resolve(d)})),u=new Array;for(const d of c)d&&(u.includes(d)||u.push(d));if(u.length===0)return[];let l=t.globalState.get(Ne.WORKSPACE_ROOT_OPTIONS)??[];for(const d of u)l=[d,...l.filter(f=>f!==d)];const p=u[u.length-1];return t.globalState.set(Ne.WORKSPACE_ROOT_OPTIONS,l),t.globalState.set(Ne.ACTIVE_WORKSPACE_ROOTS,[p]),t.windowManager.sendMessageToAllWindows(t.hostId,{type:"workspace-root-options-updated"}),t.windowManager.sendMessageToAllWindows(t.hostId,{type:"active-workspace-roots-updated"}),t.windowManager.sendMessageToAllWindows(t.hostId,{type:"navigate-to-route",path:"/",state:{focusComposerNonce:Date.now()}}),u},i=async()=>{if(e.length===0)return;const a=e.splice(0,e.length);await r(a),e.length>0&&await i()},s=async()=>{if(n)return n;n=i();try{await n}finally{n=null}},o=(a,c)=>{a.preventDefault(),e.push(c),s().catch(u=>{t.errorReporter.reportNonFatal(u,{kind:"workspace-root-drops"})})};return R.app.on("open-file",o),()=>R.app.removeListener("open-file",o)}function pN(t){return t.replace(/\\/g,"/")}function Ide(t){const e=z1().replace(/\\/g,"/"),n=Qt(t).map(pN),r=c=>{const u=pN(c);return n.includes(u)?!1:u===e||u.startsWith(`${e}/`)},i=Pn(t),s=i.filter(c=>!r(c));s.length!==i.length&&ir(t,s);const o=Qt(t),a=o.filter(c=>!r(c));a.length!==o.length&&bi(t,a)}const Cde=bn("worktree-cleanup-service"),Ode=7200*60*1e3;async function Nde(t,e){const n=Array.from(new Set(e)),r=await Promise.all(n.map(async i=>{try{const s=await t.readThread(i,{includeTurns:!0});if(s==null)return[i,null];const o=Number(s.updatedAt)*1e3,a=s.turns[s.turns.length-1]??null;return[i,{updatedAtMs:Number.isFinite(o)?o:null,isInProgress:a?.status==="inProgress"}]}catch(s){return Cde.error("Failed to get thread metadata",{safe:{threadId:i},sensitive:{error:s}}),[i,{updatedAtMs:Date.now(),isInProgress:!0}]}}));return Object.fromEntries(r)}function kde(t){const e=t.get(Ne.PINNED_THREAD_IDS);return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function Pde(t,e=Date.now()){const n=t.get(Jg);let r;return typeof n=="number"&&Number.isFinite(n)&&n>0?r=n:(r=e,t.set(Jg,r)),e<r+Ode}const{desktopSentry:rb}=wce(),dt=ge.resolve();b5();const N_=process.env.CODEX_ELECTRON_AGENT_RUN_ID?.trim()||null;if(dt===ge.Agent&&N_!=null){const t=B.join(R.app.getPath("userData"),"agent",N_);R.app.setPath("userData",t)}function Mde(){try{const t=wK({interactive:!0,extraEnv:{[v2]:"1"}});Object.assign(process.env,t)}catch(t){const e=t instanceof Error?t.message:String(t);Mt().warning("Failed to load shell env",{safe:{},sensitive:{message:e}})}}Mde();const Zj=lF(dt),ib=ge.shouldIncludeSparkle(dt,process.platform),sb=ge.allowDevtools(dt),Xj=dt===ge.Dev||dt===ge.Agent,ob=ge.allowDebugMenu(dt),Vr=LY((t,e,n)=>{rb.captureException(t,{level:e==="fatal"?"fatal":"error",tags:n.tags,extra:n.extra})}),lc=R.app.getVersion(),dN=R.app.getBuildVersion,bg=typeof dN=="function"?dN():R.app.getVersion(),fN=bg&&bg!==lc?`${lc} (${bg})`:lc,Lde=dt===ge.Prod?fN:`${fN} • ${dt}`,Jj=new NY({source:"codex-desktop",env:dt,codexAppSessionId:qi,buildInfo:{version:lc,buildNumber:_c.value},fetchImpl:R.net.fetch,reportFailure:t=>{Vr.reportNonFatal("Datadog log sink failure",{kind:"datadog-log-sink-failure",tags:{failureType:t.type,reason:t.reason},extra:{failure:t}})}});Nce(Vr,Jj,qi,Zj);const Jp=process.platform==="darwin",Ude=process.platform==="win32";Ude&&R.app.setAppUserModelId("com.openai.codex");const Ki=t=>mt.isTrustedIpcSender(t.sender,t.senderFrame??null);let Zl=!1,Wa=null;function Fde(){Zl=!0,Wa&&clearTimeout(Wa),Wa=setTimeout(()=>{Zl=!1,Wa=null},6e4),Wa.unref()}R.ipcMain.on(x7,t=>{if(!Ki(t)){t.returnValue=null;return}t.returnValue=ds});R.ipcMain.on(w7,t=>{if(!Ki(t)){t.returnValue=null;return}t.returnValue=dt});const ab=new kce({enableSparkle:ib,buildFlavor:dt,isPackaged:R.app.isPackaged,onUpdateReadyChanged:t=>{mt.sendMessageToAllRegisteredWindows({type:"app-update-ready-changed",isUpdateReady:t})},onInstallUpdatesRequested:Fde,isTrustedIpcEvent:Ki});R.app.setAboutPanelOptions({applicationVersion:Lde,copyright:"© OpenAI"});R.app.on("window-all-closed",()=>{process.platform!=="darwin"&&R.app.quit()});R.app.on("before-quit",t=>{if(Zl){mt.markAppQuitting();return}if(R.dialog.showMessageBoxSync({type:"warning",buttons:["Quit","Cancel"],defaultId:0,cancelId:1,noLink:!0,title:"Quit Codex?",message:"Quit Codex?",detail:"Any local threads running on this machine will be interrupted and scheduled automations won't run"})!==0){t.preventDefault();return}Zl=!0,mt.markAppQuitting()});R.app.on("child-process-gone",(t,e)=>{e.reason!=="clean-exit"&&Vr.reportFatal(new Error(`Child process gone (${e.type})`),{tags:{errorType:"child-process-gone",processType:e.type,reason:e.reason},extra:{exitCode:e.exitCode,name:e.name,serviceName:e.serviceName}})});ct();const $de=Ac.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:ms&&ms.tagName.toUpperCase()==="SCRIPT"&&ms.src||new URL("main-A5zRgzkr.js",document.baseURI).href),Qj=wn({}),Qp=B.dirname($de),Bde=B.join(Qp,"preload.js"),Xl=B.join(Qp,"..",".."),Jc=B.join(Xl,".."),jde=".codex-global-state.json",e2=B.join(Qj,jde),Zi=new IF(e2,{hostId:ft}),Jl=new Map;Jl.set(ft,Zi);const ed=t=>{const e=Jl.get(t);if(e)return e;const n=new IF(e2,{hostId:t});return Jl.set(t,n),n},Vde=Zi.get(L_.APPEARANCE_THEME)??"system";Oj(Vde);const mN=B.join(Jc,"electron","src","icons","icon-local.png"),hN=B.join(Jc,"electron","src","icons","icon-agent.png");if(Jp){const t=(()=>{if(dt===ge.Agent){const n=B.join(process.resourcesPath,"icon-agent.png");return R.app.isPackaged&&Y.existsSync(n)?n:Y.existsSync(hN)?hN:null}return!R.app.isPackaged&&Y.existsSync(mN)?mN:null})(),e=t==null?R.nativeImage.createEmpty():R.nativeImage.createFromPath(t);e.isEmpty()||R.app.dock?.setIcon(e)}const dr=new jE,mt=new Ede({desktopRoot:Xl,iconDirectoryName:D7,getGlobalStateForHost:ed,moduleDir:Qp,preloadPath:Bde,repoRoot:Jc,allowDevtools:sb,allowInspectElement:Xj,allowDebugMenu:ob,errorReporter:Vr}),zde=new B7(R.app);dr.add(Rde({errorReporter:Vr,globalState:Zi,hostId:ft,isMacOS:Jp,windowManager:mt}));const Gde=new j7(mt,Ye),qde=new Pce(mt,ed),Hde=new cF("desktop",Vr),Qc=new E4,cb=new JK(Qc);dr.add(Hde);dr.add(W7([B.join(Jc,"webview","public"),B.join(Xl,"webview"),B.join(Xl,"webview","public"),process.resourcesPath],Ki));const Wde=new $7({platform:process.platform});Mt().info("Launching app",{safe:{buildFlavor:dt,nodeEnv:process.env.NODE_ENV,enableSparkle:ib,allowDevtools:sb,allowInspectElement:Xj,allowDebugMenu:ob,platform:process.platform,packaged:R.app.isPackaged,agentRunId:N_},sensitive:{}});const Yde=new q7({inboxItemsChanged:t=>{mt.sendMessageToAllWindows(ft,{type:t})}}),t2=new Array,Kde=(t,e,n)=>{t2.forEach(r=>{r(t,e,n)})},td=new Map,Ql=new Map,n2=new G7,Zde=async({hostKey:t,threadIds:e})=>{const n=Ql.get(t),r=ed(t),i=n?await Nde(n.appServerConnection,e):Object.fromEntries(e.map(a=>[a,{updatedAtMs:Date.now(),isInProgress:!0}])),s=kde(r),o=Pde(r);return{threadMetadataById:i,pinnedThreadIds:s,protectPreMigrationOwnerlessWorktrees:o}},Xde=async t=>{switch(t.method){case"worktree-cleanup-inputs":return Zde(t.params)}},wc={id:ft,display_name:EF,kind:"local"};td.set(wc.id,wc);const Jde=async(t,e)=>{const n=r7(Zi,t);if(!n)return;const r=NF(n);td.set(r.id,r),nd.refresh(),e!==!1&&await eu(r.id)},r2=t=>{const e=Ql.get(t.id);if(e)return e;const n=ed(t.id);X7(n,t.default_workspaces);const r=new ype({hostProcess:zde,host:t,windowManager:mt,globalState:n,repoRoot:Jc,errorReporter:Vr,desktopSentry:rb,desktopNotificationManager:Wde,updateWorkerSentryUser:Kde,addSshHost:Jde,gitManager:cb,inboxManager:t.id===ft?Yde:null,datadogLogger:Jj,maxLogLevel:Zj,sparkleManager:ab,gitWorkerInvocationSampler:n2,desktopOriginator:C7,devApiBaseUrl:I7,prodApiBaseUrl:R7,messageChannel:Ye,filePreviewManager:Gde,threadOverlayManager:qde});return dr.add(r.appServerConnection.registerInternalNotificationHandler(i=>{i.method==="turn/completed"&&Qc.emit("turnComplete")})),Ql.set(t.id,r),mt.registerContext(t.id,r),r},Qde=r2(wc);dr.add(_7({appServerConnection:Qde.appServerConnection,gitManager:cb,hostConfig:wc}));const efe=t=>{const e=mt.getContextForWebContents(t.webContents);return e?e.getMessageHandler():null},tfe=t=>{for(const e of t)td.set(e.id,e)},eu=async t=>{const e=mt.getPrimaryWindow(t);if(e)return e.isMinimized()&&e.restore(),e.show(),e.focus(),e.isDestroyed()?null:e;const n=td.get(t)??null;if(!n)return null;r2(n);const r=n.kind==="local"?"Codex":n.display_name,i=n.id!==ft;return await mt.createWindow({title:r,hostId:n.id,show:i})},nd=new o7({buildFlavor:dt,globalState:Zi,upsertHostConfigs:tfe,buildMenu:t=>{m5({isMacOS:Jp,allowDevtools:sb,allowDebugMenu:ob,allowWindowReload:dt!==ge.Prod,enableSparkle:ib,sparkleManager:ab,ensurePrimaryWindowVisible:i2,navigateToRoute:s2,getElectronMessageHandlerForWindow:efe,windowManager:mt,hostsMenuState:t,selectHost:eu,traceRecordingSentryUploadOptions:{appVersion:lc,buildFlavor:dt,buildNumber:_c.value}})}}),gN=U7({app:R.app,isMacOS:Jp,ensurePrimaryWindowVisible:i2,navigateToRoute:(t,e)=>J7({window:t,route:e,globalState:Zi,gitManager:cb,hostConfig:wc,windowManager:mt,navigateToRoute:s2}),initialArgv:process.argv,errorReporter:Vr});R.app.whenReady().then(async()=>{if(gN.registerProtocolClient(),x5(AF(Qp)),ge.isInternal(dt))try{const{startAppliedDevboxCacheRefresher:t}=await Promise.resolve().then(()=>require("./applied-devbox-cache-CQqFdVkz.js"));dr.add(t({codexHome:Qj}))}catch(t){Mt().warning("Failed to start applied devbox cache refresher",{safe:{},sensitive:{error:t}})}await ab.initialize(),await Ide(Zi),await nd.refresh({triggerProviderRefresh:!0}),await eu(ft),await gN.flushPendingDeepLinks()});R.app.on("activate",()=>{mt.showPrimaryWindow(ft)||eu(ft),nd.refresh()});R.app.on("browser-window-blur",()=>{R.BrowserWindow.getFocusedWindow()==null&&Qc.emit("background")});R.app.on("browser-window-focus",()=>{Qc.emit("foreground"),nd.refresh({triggerProviderRefresh:!0})});async function i2(){return eu(ft)}function s2(t,e,n){mt.sendMessageToWindow(t,{type:"navigate-to-route",path:e,state:n})}R.ipcMain.handle(y7,async(t,e)=>{if(!Ki(t))return;const n=mt.getContextForWebContents(t.sender);if(!n){Mt().warning("Message received for unknown window context");return}await n.handleMessage(t.sender,e)});for(const t of D6){const e=new Dde(t);t==="git"&&e.setMainRpcHandler(Xde),dr.add(e),t2.push((n,r,i)=>{e.setSentryUser(n,r,i)}),dr.add(Qc.subscribe(n=>{e.emitAppEvent(n)})),R.ipcMain.handle(O7(t),async(n,r)=>{Ki(n)&&(t==="git"&&r.type==="worker-request"&&n2.recordInvocation(),await e.handleMessage(n.sender,r))})}R.ipcMain.handle(A7,t=>{if(!Ki(t))return;const e=new Error("Desktop Sentry test error (debug button)");rb.captureException(e,{tags:{trigger:"debug-button"}})});R.app.on("will-quit",()=>{for(const t of Jl.values())t.flush();for(const t of Ql.values())t.dispose(),t.flushTelemetry();dr.dispose()});exports.getTaggedLoggerLazy=Le;exports.spawnAsync=Vc;
//# sourceMappingURL=main-A5zRgzkr.js.map
